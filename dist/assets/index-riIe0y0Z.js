function CS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function AS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PS={exports:{}},kh={},kS={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),AN=Symbol.for("react.portal"),PN=Symbol.for("react.fragment"),kN=Symbol.for("react.strict_mode"),NN=Symbol.for("react.profiler"),DN=Symbol.for("react.provider"),ON=Symbol.for("react.context"),$N=Symbol.for("react.forward_ref"),MN=Symbol.for("react.suspense"),LN=Symbol.for("react.memo"),VN=Symbol.for("react.lazy"),_w=Symbol.iterator;function FN(t){return t===null||typeof t!="object"?null:(t=_w&&t[_w]||t["@@iterator"],typeof t=="function"?t:null)}var NS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DS=Object.assign,OS={};function Xa(t,e,n){this.props=t,this.context=e,this.refs=OS,this.updater=n||NS}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $S(){}$S.prototype=Xa.prototype;function yv(t,e,n){this.props=t,this.context=e,this.refs=OS,this.updater=n||NS}var vv=yv.prototype=new $S;vv.constructor=yv;DS(vv,Xa.prototype);vv.isPureReactComponent=!0;var ww=Array.isArray,MS=Object.prototype.hasOwnProperty,_v={current:null},LS={key:!0,ref:!0,__self:!0,__source:!0};function VS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MS.call(e,r)&&!LS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uu,type:t,key:s,ref:o,props:i,_owner:_v.current}}function UN(t,e){return{$$typeof:uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wv(t){return typeof t=="object"&&t!==null&&t.$$typeof===uu}function jN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ew=/\/+/g;function Jp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jN(""+t.key):e.toString(36)}function Ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uu:case AN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jp(o,0):r,ww(i)?(n="",t!=null&&(n=t.replace(Ew,"$&/")+"/"),Ld(i,e,n,"",function(c){return c})):i!=null&&(wv(i)&&(i=UN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ew,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ww(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Jp(s,a);o+=Ld(s,e,n,l,i)}else if(l=FN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Jp(s,a++),o+=Ld(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zu(t,e,n){if(t==null)return t;var r=[],i=0;return Ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function BN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},Vd={transition:null},zN={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Vd,ReactCurrentOwner:_v};$e.Children={map:Zu,forEach:function(t,e,n){Zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zu(t,function(){e++}),e},toArray:function(t){return Zu(t,function(e){return e})||[]},only:function(t){if(!wv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=Xa;$e.Fragment=PN;$e.Profiler=NN;$e.PureComponent=yv;$e.StrictMode=kN;$e.Suspense=MN;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zN;$e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_v.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MS.call(e,l)&&!LS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uu,type:t.type,key:i,ref:s,props:r,_owner:o}};$e.createContext=function(t){return t={$$typeof:ON,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DN,_context:t},t.Consumer=t};$e.createElement=VS;$e.createFactory=function(t){var e=VS.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:$N,render:t}};$e.isValidElement=wv;$e.lazy=function(t){return{$$typeof:VN,_payload:{_status:-1,_result:t},_init:BN}};$e.memo=function(t,e){return{$$typeof:LN,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Vd.transition;Vd.transition={};try{t()}finally{Vd.transition=e}};$e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};$e.useCallback=function(t,e){return bn.current.useCallback(t,e)};$e.useContext=function(t){return bn.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};$e.useEffect=function(t,e){return bn.current.useEffect(t,e)};$e.useId=function(){return bn.current.useId()};$e.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};$e.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return bn.current.useMemo(t,e)};$e.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};$e.useRef=function(t){return bn.current.useRef(t)};$e.useState=function(t){return bn.current.useState(t)};$e.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};$e.useTransition=function(){return bn.current.useTransition()};$e.version="18.2.0";kS.exports=$e;var h=kS.exports;const Ee=AS(h),FS=CS({__proto__:null,default:Ee},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN=h,WN=Symbol.for("react.element"),HN=Symbol.for("react.fragment"),KN=Object.prototype.hasOwnProperty,GN=qN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QN={key:!0,ref:!0,__self:!0,__source:!0};function US(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KN.call(e,r)&&!QN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WN,type:t,key:s,ref:o,props:i,_owner:GN.current}}kh.Fragment=HN;kh.jsx=US;kh.jsxs=US;PS.exports=kh;var T=PS.exports,cg={},jS={exports:{}},Hn={},BS={exports:{}},zS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,O){var G=V.length;V.push(O);e:for(;0<G;){var oe=G-1>>>1,ye=V[oe];if(0<i(ye,O))V[oe]=O,V[G]=ye,G=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var O=V[0],G=V.pop();if(G!==O){V[0]=G;e:for(var oe=0,ye=V.length,et=ye>>>1;oe<et;){var qe=2*(oe+1)-1,Ze=V[qe],Me=qe+1,ae=V[Me];if(0>i(Ze,G))Me<ye&&0>i(ae,Ze)?(V[oe]=ae,V[Me]=G,oe=Me):(V[oe]=Ze,V[qe]=G,oe=qe);else if(Me<ye&&0>i(ae,G))V[oe]=ae,V[Me]=G,oe=Me;else break e}}return O}function i(V,O){var G=V.sortIndex-O.sortIndex;return G!==0?G:V.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=V)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function S(V){if(v=!1,_(V),!y)if(n(l)!==null)y=!0,ce(I);else{var O=n(c);O!==null&&K(S,O.startTime-V)}}function I(V,O){y=!1,v&&(v=!1,g(R),R=-1),p=!0;var G=f;try{for(_(O),d=n(l);d!==null&&(!(d.expirationTime>O)||V&&!W());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,f=d.priorityLevel;var ye=oe(d.expirationTime<=O);O=t.unstable_now(),typeof ye=="function"?d.callback=ye:d===n(l)&&r(l),_(O)}else r(l);d=n(l)}if(d!==null)var et=!0;else{var qe=n(c);qe!==null&&K(S,qe.startTime-O),et=!1}return et}finally{d=null,f=G,p=!1}}var E=!1,x=null,R=-1,k=5,F=-1;function W(){return!(t.unstable_now()-F<k)}function M(){if(x!==null){var V=t.unstable_now();F=V;var O=!0;try{O=x(!0,V)}finally{O?z():(E=!1,x=null)}}else E=!1}var z;if(typeof m=="function")z=function(){m(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=M,z=function(){te.postMessage(null)}}else z=function(){w(M,0)};function ce(V){x=V,E||(E=!0,z())}function K(V,O){R=w(function(){V(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,ce(I))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var G=f;f=O;try{return V()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,O){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=f;f=V;try{return O()}finally{f=G}},t.unstable_scheduleCallback=function(V,O,G){var oe=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,V){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=G+ye,V={id:u++,callback:O,priorityLevel:V,startTime:G,expirationTime:ye,sortIndex:-1},G>oe?(V.sortIndex=G,e(c,V),n(l)===null&&V===n(c)&&(v?(g(R),R=-1):v=!0,K(S,G-oe))):(V.sortIndex=ye,e(l,V),y||p||(y=!0,ce(I))),V},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(V){var O=f;return function(){var G=f;f=O;try{return V.apply(this,arguments)}finally{f=G}}}})(zS);BS.exports=zS;var YN=BS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS=h,qn=YN;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WS=new Set,pc={};function _o(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(pc[t]=e,t=0;t<e.length;t++)WS.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=Object.prototype.hasOwnProperty,XN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tw={},Sw={};function ZN(t){return ug.call(Sw,t)?!0:ug.call(Tw,t)?!1:XN.test(t)?Sw[t]=!0:(Tw[t]=!0,!1)}function JN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eD(t,e,n,r){if(e===null||typeof e>"u"||JN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ev=/[\-:]([a-z])/g;function Tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ev,Tv);on[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ev,Tv);on[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ev,Tv);on[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sv(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eD(e,n,i,r)&&(n=null),r||i===null?ZN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ri=qS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),KS=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),fg=Symbol.for("react.suspense"),hg=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),GS=Symbol.for("react.offscreen"),xw=Symbol.iterator;function gl(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,em;function Ll(t){if(em===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);em=e&&e[1]||""}return`
`+em+t}var tm=!1;function nm(t,e){if(!t||tm)return"";tm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{tm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ll(t):""}function tD(t){switch(t.tag){case 5:return Ll(t.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return t=nm(t.type,!1),t;case 11:return t=nm(t.type.render,!1),t;case 1:return t=nm(t.type,!0),t;default:return""}}function pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Qo:return"Portal";case dg:return"Profiler";case xv:return"StrictMode";case fg:return"Suspense";case hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KS:return(t.displayName||"Context")+".Consumer";case HS:return(t._context.displayName||"Context")+".Provider";case Iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bv:return e=t.displayName||null,e!==null?e:pg(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return pg(t(e))}catch{}}return null}function nD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(e);case 8:return e===xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rD(t){var e=QS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=rD(t))}function YS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function df(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mg(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XS(t,e){e=e.checked,e!=null&&Sv(t,"checked",e,!1)}function gg(t,e){XS(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&yg(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yg(t,e,n){(e!=="number"||df(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vl=Array.isArray;function ha(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Vl(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function ZS(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _g(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,ex=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iD=["Webkit","ms","Moz","O"];Object.keys(Ql).forEach(function(t){iD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ql[e]=Ql[t]})});function tx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ql.hasOwnProperty(t)&&Ql[t]?(""+e).trim():e+"px"}function nx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sD=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wg(t,e){if(e){if(sD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Eg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=null;function Rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sg=null,pa=null,ma=null;function Aw(t){if(t=hu(t)){if(typeof Sg!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Mh(e),Sg(t.stateNode,t.type,e))}}function rx(t){pa?ma?ma.push(t):ma=[t]:pa=t}function ix(){if(pa){var t=pa,e=ma;if(ma=pa=null,Aw(t),e)for(t=0;t<e.length;t++)Aw(e[t])}}function sx(t,e){return t(e)}function ox(){}var rm=!1;function ax(t,e,n){if(rm)return t(e,n);rm=!0;try{return sx(t,e,n)}finally{rm=!1,(pa!==null||ma!==null)&&(ox(),ix())}}function gc(t,e){var n=t.stateNode;if(n===null)return null;var r=Mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var xg=!1;if(pi)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){xg=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{xg=!1}function oD(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Yl=!1,ff=null,hf=!1,Ig=null,aD={onError:function(t){Yl=!0,ff=t}};function lD(t,e,n,r,i,s,o,a,l){Yl=!1,ff=null,oD.apply(aD,arguments)}function cD(t,e,n,r,i,s,o,a,l){if(lD.apply(this,arguments),Yl){if(Yl){var c=ff;Yl=!1,ff=null}else throw Error(j(198));hf||(hf=!0,Ig=c)}}function wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pw(t){if(wo(t)!==t)throw Error(j(188))}function uD(t){var e=t.alternate;if(!e){if(e=wo(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Pw(i),t;if(s===r)return Pw(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function cx(t){return t=uD(t),t!==null?ux(t):null}function ux(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ux(t);if(e!==null)return e;t=t.sibling}return null}var dx=qn.unstable_scheduleCallback,kw=qn.unstable_cancelCallback,dD=qn.unstable_shouldYield,fD=qn.unstable_requestPaint,Rt=qn.unstable_now,hD=qn.unstable_getCurrentPriorityLevel,Cv=qn.unstable_ImmediatePriority,fx=qn.unstable_UserBlockingPriority,pf=qn.unstable_NormalPriority,pD=qn.unstable_LowPriority,hx=qn.unstable_IdlePriority,Nh=null,Vr=null;function mD(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:vD,gD=Math.log,yD=Math.LN2;function vD(t){return t>>>=0,t===0?32:31-(gD(t)/yD|0)|0}var nd=64,rd=4194304;function Fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fl(a):(s&=o,s!==0&&(r=Fl(s)))}else o=n&~i,o!==0?r=Fl(o):s!==0&&(r=Fl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),i=1<<n,r|=t[n],e&=~i;return r}function _D(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_r(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_D(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function px(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function im(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function ED(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_r(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Av(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function mx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gx,Pv,yx,vx,_x,Rg=!1,id=[],Zi=null,Ji=null,es=null,yc=new Map,vc=new Map,ji=[],TD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nw(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(e.pointerId)}}function vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hu(e),e!==null&&Pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SD(t,e,n,r,i){switch(e){case"focusin":return Zi=vl(Zi,t,e,n,r,i),!0;case"dragenter":return Ji=vl(Ji,t,e,n,r,i),!0;case"mouseover":return es=vl(es,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yc.set(s,vl(yc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vc.set(s,vl(vc.get(s)||null,t,e,n,r,i)),!0}return!1}function wx(t){var e=Fs(t.target);if(e!==null){var n=wo(e);if(n!==null){if(e=n.tag,e===13){if(e=lx(n),e!==null){t.blockedOn=e,_x(t.priority,function(){yx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tg=r,n.target.dispatchEvent(r),Tg=null}else return e=hu(n),e!==null&&Pv(e),t.blockedOn=n,!1;e.shift()}return!0}function Dw(t,e,n){Fd(t)&&n.delete(e)}function xD(){Rg=!1,Zi!==null&&Fd(Zi)&&(Zi=null),Ji!==null&&Fd(Ji)&&(Ji=null),es!==null&&Fd(es)&&(es=null),yc.forEach(Dw),vc.forEach(Dw)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,Rg||(Rg=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,xD)))}function _c(t){function e(i){return _l(i,t)}if(0<id.length){_l(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&_l(Zi,t),Ji!==null&&_l(Ji,t),es!==null&&_l(es,t),yc.forEach(e),vc.forEach(e),n=0;n<ji.length;n++)r=ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ji.length&&(n=ji[0],n.blockedOn===null);)wx(n),n.blockedOn===null&&ji.shift()}var ga=Ri.ReactCurrentBatchConfig,gf=!0;function ID(t,e,n,r){var i=Qe,s=ga.transition;ga.transition=null;try{Qe=1,kv(t,e,n,r)}finally{Qe=i,ga.transition=s}}function bD(t,e,n,r){var i=Qe,s=ga.transition;ga.transition=null;try{Qe=4,kv(t,e,n,r)}finally{Qe=i,ga.transition=s}}function kv(t,e,n,r){if(gf){var i=Cg(t,e,n,r);if(i===null)pm(t,e,r,yf,n),Nw(t,r);else if(SD(i,t,e,n,r))r.stopPropagation();else if(Nw(t,r),e&4&&-1<TD.indexOf(t)){for(;i!==null;){var s=hu(i);if(s!==null&&gx(s),s=Cg(t,e,n,r),s===null&&pm(t,e,r,yf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pm(t,e,r,null,n)}}var yf=null;function Cg(t,e,n,r){if(yf=null,t=Rv(r),t=Fs(t),t!==null)if(e=wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yf=t,null}function Ex(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hD()){case Cv:return 1;case fx:return 4;case pf:case pD:return 16;case hx:return 536870912;default:return 16}default:return 16}}var Gi=null,Nv=null,Ud=null;function Tx(){if(Ud)return Ud;var t,e=Nv,n=e.length,r,i="value"in Gi?Gi.value:Gi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ud=i.slice(t,1<r?1-r:void 0)}function jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function Ow(){return!1}function Kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:Ow,this.isPropagationStopped=Ow,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dv=Kn(Za),fu=gt({},Za,{view:0,detail:0}),RD=Kn(fu),sm,om,wl,Dh=gt({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ov,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(sm=t.screenX-wl.screenX,om=t.screenY-wl.screenY):om=sm=0,wl=t),sm)},movementY:function(t){return"movementY"in t?t.movementY:om}}),$w=Kn(Dh),CD=gt({},Dh,{dataTransfer:0}),AD=Kn(CD),PD=gt({},fu,{relatedTarget:0}),am=Kn(PD),kD=gt({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),ND=Kn(kD),DD=gt({},Za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OD=Kn(DD),$D=gt({},Za,{data:0}),Mw=Kn($D),MD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VD[t])?!!e[t]:!1}function Ov(){return FD}var UD=gt({},fu,{key:function(t){if(t.key){var e=MD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ov,charCode:function(t){return t.type==="keypress"?jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jD=Kn(UD),BD=gt({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lw=Kn(BD),zD=gt({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ov}),qD=Kn(zD),WD=gt({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),HD=Kn(WD),KD=gt({},Dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GD=Kn(KD),QD=[9,13,27,32],$v=pi&&"CompositionEvent"in window,Xl=null;pi&&"documentMode"in document&&(Xl=document.documentMode);var YD=pi&&"TextEvent"in window&&!Xl,Sx=pi&&(!$v||Xl&&8<Xl&&11>=Xl),Vw=" ",Fw=!1;function xx(t,e){switch(t){case"keyup":return QD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ix(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xo=!1;function XD(t,e){switch(t){case"compositionend":return Ix(e);case"keypress":return e.which!==32?null:(Fw=!0,Vw);case"textInput":return t=e.data,t===Vw&&Fw?null:t;default:return null}}function ZD(t,e){if(Xo)return t==="compositionend"||!$v&&xx(t,e)?(t=Tx(),Ud=Nv=Gi=null,Xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sx&&e.locale!=="ko"?null:e.data;default:return null}}var JD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JD[t.type]:e==="textarea"}function bx(t,e,n,r){rx(r),e=vf(e,"onChange"),0<e.length&&(n=new Dv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zl=null,wc=null;function eO(t){Lx(t,0)}function Oh(t){var e=ea(t);if(YS(e))return t}function tO(t,e){if(t==="change")return e}var Rx=!1;if(pi){var lm;if(pi){var cm="oninput"in document;if(!cm){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),cm=typeof jw.oninput=="function"}lm=cm}else lm=!1;Rx=lm&&(!document.documentMode||9<document.documentMode)}function Bw(){Zl&&(Zl.detachEvent("onpropertychange",Cx),wc=Zl=null)}function Cx(t){if(t.propertyName==="value"&&Oh(wc)){var e=[];bx(e,wc,t,Rv(t)),ax(eO,e)}}function nO(t,e,n){t==="focusin"?(Bw(),Zl=e,wc=n,Zl.attachEvent("onpropertychange",Cx)):t==="focusout"&&Bw()}function rO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oh(wc)}function iO(t,e){if(t==="click")return Oh(e)}function sO(t,e){if(t==="input"||t==="change")return Oh(e)}function oO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:oO;function Ec(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ug.call(e,i)||!Sr(t[i],e[i]))return!1}return!0}function zw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qw(t,e){var n=zw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zw(n)}}function Ax(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ax(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Px(){for(var t=window,e=df();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=df(t.document)}return e}function Mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aO(t){var e=Px(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ax(n.ownerDocument.documentElement,n)){if(r!==null&&Mv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qw(n,s);var o=qw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lO=pi&&"documentMode"in document&&11>=document.documentMode,Zo=null,Ag=null,Jl=null,Pg=!1;function Ww(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pg||Zo==null||Zo!==df(r)||(r=Zo,"selectionStart"in r&&Mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jl&&Ec(Jl,r)||(Jl=r,r=vf(Ag,"onSelect"),0<r.length&&(e=new Dv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zo)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jo={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},um={},kx={};pi&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function $h(t){if(um[t])return um[t];if(!Jo[t])return t;var e=Jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kx)return um[t]=e[n];return t}var Nx=$h("animationend"),Dx=$h("animationiteration"),Ox=$h("animationstart"),$x=$h("transitionend"),Mx=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){Mx.set(t,e),_o(e,[t])}for(var dm=0;dm<Hw.length;dm++){var fm=Hw[dm],cO=fm.toLowerCase(),uO=fm[0].toUpperCase()+fm.slice(1);Ts(cO,"on"+uO)}Ts(Nx,"onAnimationEnd");Ts(Dx,"onAnimationIteration");Ts(Ox,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts($x,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function Kw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cD(r,e,void 0,t),t.currentTarget=null}function Lx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Kw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Kw(i,a,c),s=l}}}if(hf)throw t=Ig,hf=!1,Ig=null,t}function at(t,e){var n=e[$g];n===void 0&&(n=e[$g]=new Set);var r=t+"__bubble";n.has(r)||(Vx(e,t,2,!1),n.add(r))}function hm(t,e,n){var r=0;e&&(r|=4),Vx(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Tc(t){if(!t[ad]){t[ad]=!0,WS.forEach(function(n){n!=="selectionchange"&&(dO.has(n)||hm(n,!1,t),hm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,hm("selectionchange",!1,e))}}function Vx(t,e,n,r){switch(Ex(e)){case 1:var i=ID;break;case 4:i=bD;break;default:i=kv}n=i.bind(null,e,n,t),i=void 0,!xg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ax(function(){var c=s,u=Rv(n),d=[];e:{var f=Mx.get(t);if(f!==void 0){var p=Dv,y=t;switch(t){case"keypress":if(jd(n)===0)break e;case"keydown":case"keyup":p=jD;break;case"focusin":y="focus",p=am;break;case"focusout":y="blur",p=am;break;case"beforeblur":case"afterblur":p=am;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qD;break;case Nx:case Dx:case Ox:p=ND;break;case $x:p=HD;break;case"scroll":p=RD;break;case"wheel":p=GD;break;case"copy":case"cut":case"paste":p=OD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lw}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var m=c,_;m!==null;){_=m;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,g!==null&&(S=gc(m,g),S!=null&&v.push(Sc(m,S,_)))),w)break;m=m.return}0<v.length&&(f=new p(f,y,null,n,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Tg&&(y=n.relatedTarget||n.fromElement)&&(Fs(y)||y[mi]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Fs(y):null,y!==null&&(w=wo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(v=$w,S="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Lw,S="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:ea(p),_=y==null?f:ea(y),f=new v(S,m+"leave",p,n,u),f.target=w,f.relatedTarget=_,S=null,Fs(u)===c&&(v=new v(g,m+"enter",y,n,u),v.target=_,v.relatedTarget=w,S=v),w=S,p&&y)t:{for(v=p,g=y,m=0,_=v;_;_=Fo(_))m++;for(_=0,S=g;S;S=Fo(S))_++;for(;0<m-_;)v=Fo(v),m--;for(;0<_-m;)g=Fo(g),_--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=Fo(v),g=Fo(g)}v=null}else v=null;p!==null&&Gw(d,f,p,v,!1),y!==null&&w!==null&&Gw(d,w,y,v,!0)}}e:{if(f=c?ea(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=tO;else if(Uw(f))if(Rx)I=sO;else{I=rO;var E=nO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=iO);if(I&&(I=I(t,c))){bx(d,I,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&yg(f,"number",f.value)}switch(E=c?ea(c):window,t){case"focusin":(Uw(E)||E.contentEditable==="true")&&(Zo=E,Ag=c,Jl=null);break;case"focusout":Jl=Ag=Zo=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,Ww(d,n,u);break;case"selectionchange":if(lO)break;case"keydown":case"keyup":Ww(d,n,u)}var x;if($v)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Xo?xx(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Sx&&n.locale!=="ko"&&(Xo||R!=="onCompositionStart"?R==="onCompositionEnd"&&Xo&&(x=Tx()):(Gi=u,Nv="value"in Gi?Gi.value:Gi.textContent,Xo=!0)),E=vf(c,R),0<E.length&&(R=new Mw(R,t,null,n,u),d.push({event:R,listeners:E}),x?R.data=x:(x=Ix(n),x!==null&&(R.data=x)))),(x=YD?XD(t,n):ZD(t,n))&&(c=vf(c,"onBeforeInput"),0<c.length&&(u=new Mw("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=x))}Lx(d,e)})}function Sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gc(t,n),s!=null&&r.unshift(Sc(t,s,i)),s=gc(t,e),s!=null&&r.push(Sc(t,s,i))),t=t.return}return r}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=gc(n,s),l!=null&&o.unshift(Sc(n,l,a))):i||(l=gc(n,s),l!=null&&o.push(Sc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fO=/\r\n?/g,hO=/\u0000|\uFFFD/g;function Qw(t){return(typeof t=="string"?t:""+t).replace(fO,`
`).replace(hO,"")}function ld(t,e,n){if(e=Qw(e),Qw(t)!==e&&n)throw Error(j(425))}function _f(){}var kg=null,Ng=null;function Dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Og=typeof setTimeout=="function"?setTimeout:void 0,pO=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,mO=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(t){return Yw.resolve(null).then(t).catch(gO)}:Og;function gO(t){setTimeout(function(){throw t})}function mm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_c(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_c(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),kr="__reactFiber$"+Ja,xc="__reactProps$"+Ja,mi="__reactContainer$"+Ja,$g="__reactEvents$"+Ja,yO="__reactListeners$"+Ja,vO="__reactHandles$"+Ja;function Fs(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xw(t);t!==null;){if(n=t[kr])return n;t=Xw(t)}return e}t=n,n=t.parentNode}return null}function hu(t){return t=t[kr]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Mh(t){return t[xc]||null}var Mg=[],ta=-1;function Ss(t){return{current:t}}function ct(t){0>ta||(t.current=Mg[ta],Mg[ta]=null,ta--)}function rt(t,e){ta++,Mg[ta]=t.current,t.current=e}var fs={},mn=Ss(fs),Nn=Ss(!1),no=fs;function Ca(t,e){var n=t.type.contextTypes;if(!n)return fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(t){return t=t.childContextTypes,t!=null}function wf(){ct(Nn),ct(mn)}function Zw(t,e,n){if(mn.current!==fs)throw Error(j(168));rt(mn,e),rt(Nn,n)}function Fx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,nD(t)||"Unknown",i));return gt({},n,r)}function Ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,no=mn.current,rt(mn,t),rt(Nn,Nn.current),!0}function Jw(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Fx(t,e,no),r.__reactInternalMemoizedMergedChildContext=t,ct(Nn),ct(mn),rt(mn,t)):ct(Nn),rt(Nn,n)}var si=null,Lh=!1,gm=!1;function Ux(t){si===null?si=[t]:si.push(t)}function _O(t){Lh=!0,Ux(t)}function xs(){if(!gm&&si!==null){gm=!0;var t=0,e=Qe;try{var n=si;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}si=null,Lh=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),dx(Cv,xs),i}finally{Qe=e,gm=!1}}return null}var na=[],ra=0,Tf=null,Sf=0,Jn=[],er=0,ro=null,oi=1,ai="";function Os(t,e){na[ra++]=Sf,na[ra++]=Tf,Tf=t,Sf=e}function jx(t,e,n){Jn[er++]=oi,Jn[er++]=ai,Jn[er++]=ro,ro=t;var r=oi;t=ai;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var s=32-_r(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,oi=1<<32-_r(e)+i|n<<i|r,ai=s+t}else oi=1<<s|n<<i|r,ai=t}function Lv(t){t.return!==null&&(Os(t,1),jx(t,1,0))}function Vv(t){for(;t===Tf;)Tf=na[--ra],na[ra]=null,Sf=na[--ra],na[ra]=null;for(;t===ro;)ro=Jn[--er],Jn[er]=null,ai=Jn[--er],Jn[er]=null,oi=Jn[--er],Jn[er]=null}var Bn=null,Un=null,ft=!1,pr=null;function Bx(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Un=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ro!==null?{id:oi,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Un=null,!0):!1;default:return!1}}function Lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vg(t){if(ft){var e=Un;if(e){var n=e;if(!eE(t,e)){if(Lg(t))throw Error(j(418));e=ts(n.nextSibling);var r=Bn;e&&eE(t,e)?Bx(r,n):(t.flags=t.flags&-4097|2,ft=!1,Bn=t)}}else{if(Lg(t))throw Error(j(418));t.flags=t.flags&-4097|2,ft=!1,Bn=t}}}function tE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function cd(t){if(t!==Bn)return!1;if(!ft)return tE(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dg(t.type,t.memoizedProps)),e&&(e=Un)){if(Lg(t))throw zx(),Error(j(418));for(;e;)Bx(t,e),e=ts(e.nextSibling)}if(tE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Un=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=Bn?ts(t.stateNode.nextSibling):null;return!0}function zx(){for(var t=Un;t;)t=ts(t.nextSibling)}function Aa(){Un=Bn=null,ft=!1}function Fv(t){pr===null?pr=[t]:pr.push(t)}var wO=Ri.ReactCurrentBatchConfig;function dr(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xf=Ss(null),If=null,ia=null,Uv=null;function jv(){Uv=ia=If=null}function Bv(t){var e=xf.current;ct(xf),t._currentValue=e}function Fg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){If=t,Uv=ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(Uv!==t)if(t={context:t,memoizedValue:e,next:null},ia===null){if(If===null)throw Error(j(308));ia=t,If.dependencies={lanes:0,firstContext:t}}else ia=ia.next=t;return e}var Us=null;function zv(t){Us===null?Us=[t]:Us.push(t)}function qx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zv(e)):(n.next=i.next,i.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gi(t,n)}return i=r.interleaved,i===null?(e.next=e,zv(r)):(e.next=i.next,i.next=e),r.interleaved=e,gi(t,n)}function Bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Av(t,n)}}function nE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bf(t,e,n,r){var i=t.updateQueue;Fi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=gt({},d,f);break e;case 2:Fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);so|=o,t.lanes=o,t.memoizedState=d}}function rE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var Hx=new qS.Component().refs;function Ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vh={isMounted:function(t){return(t=t._reactInternals)?wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),i=is(t),s=hi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(wr(e,t,i,r),Bd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),i=is(t),s=hi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(wr(e,t,i,r),Bd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=is(t),i=hi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ns(t,i,r),e!==null&&(wr(e,t,r,n),Bd(e,t,r))}};function iE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ec(n,r)||!Ec(i,s):!0}function Kx(t,e,n){var r=!1,i=fs,s=e.contextType;return typeof s=="object"&&s!==null?s=or(s):(i=Dn(e)?no:mn.current,r=e.contextTypes,s=(r=r!=null)?Ca(t,i):fs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vh.enqueueReplaceState(e,e.state,null)}function jg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Hx,qv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=or(s):(s=Dn(e)?no:mn.current,i.context=Ca(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ug(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vh.enqueueReplaceState(i,i.state,null),bf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function El(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Hx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oE(t){var e=t._init;return e(t._payload)}function Gx(t){function e(g,m){if(t){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=ss(g,m),g.index=0,g.sibling=null,g}function s(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,_,S){return m===null||m.tag!==6?(m=Sm(_,g.mode,S),m.return=g,m):(m=i(m,_),m.return=g,m)}function l(g,m,_,S){var I=_.type;return I===Yo?u(g,m,_.props.children,S,_.key):m!==null&&(m.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vi&&oE(I)===m.type)?(S=i(m,_.props),S.ref=El(g,m,_),S.return=g,S):(S=Gd(_.type,_.key,_.props,null,g.mode,S),S.ref=El(g,m,_),S.return=g,S)}function c(g,m,_,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=xm(_,g.mode,S),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function u(g,m,_,S,I){return m===null||m.tag!==7?(m=Zs(_,g.mode,S,I),m.return=g,m):(m=i(m,_),m.return=g,m)}function d(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Sm(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ju:return _=Gd(m.type,m.key,m.props,null,g.mode,_),_.ref=El(g,null,m),_.return=g,_;case Qo:return m=xm(m,g.mode,_),m.return=g,m;case Vi:var S=m._init;return d(g,S(m._payload),_)}if(Vl(m)||gl(m))return m=Zs(m,g.mode,_,null),m.return=g,m;ud(g,m)}return null}function f(g,m,_,S){var I=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(g,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ju:return _.key===I?l(g,m,_,S):null;case Qo:return _.key===I?c(g,m,_,S):null;case Vi:return I=_._init,f(g,m,I(_._payload),S)}if(Vl(_)||gl(_))return I!==null?null:u(g,m,_,S,null);ud(g,_)}return null}function p(g,m,_,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(_)||null,a(m,g,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ju:return g=g.get(S.key===null?_:S.key)||null,l(m,g,S,I);case Qo:return g=g.get(S.key===null?_:S.key)||null,c(m,g,S,I);case Vi:var E=S._init;return p(g,m,_,E(S._payload),I)}if(Vl(S)||gl(S))return g=g.get(_)||null,u(m,g,S,I,null);ud(m,S)}return null}function y(g,m,_,S){for(var I=null,E=null,x=m,R=m=0,k=null;x!==null&&R<_.length;R++){x.index>R?(k=x,x=null):k=x.sibling;var F=f(g,x,_[R],S);if(F===null){x===null&&(x=k);break}t&&x&&F.alternate===null&&e(g,x),m=s(F,m,R),E===null?I=F:E.sibling=F,E=F,x=k}if(R===_.length)return n(g,x),ft&&Os(g,R),I;if(x===null){for(;R<_.length;R++)x=d(g,_[R],S),x!==null&&(m=s(x,m,R),E===null?I=x:E.sibling=x,E=x);return ft&&Os(g,R),I}for(x=r(g,x);R<_.length;R++)k=p(x,g,R,_[R],S),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?R:k.key),m=s(k,m,R),E===null?I=k:E.sibling=k,E=k);return t&&x.forEach(function(W){return e(g,W)}),ft&&Os(g,R),I}function v(g,m,_,S){var I=gl(_);if(typeof I!="function")throw Error(j(150));if(_=I.call(_),_==null)throw Error(j(151));for(var E=I=null,x=m,R=m=0,k=null,F=_.next();x!==null&&!F.done;R++,F=_.next()){x.index>R?(k=x,x=null):k=x.sibling;var W=f(g,x,F.value,S);if(W===null){x===null&&(x=k);break}t&&x&&W.alternate===null&&e(g,x),m=s(W,m,R),E===null?I=W:E.sibling=W,E=W,x=k}if(F.done)return n(g,x),ft&&Os(g,R),I;if(x===null){for(;!F.done;R++,F=_.next())F=d(g,F.value,S),F!==null&&(m=s(F,m,R),E===null?I=F:E.sibling=F,E=F);return ft&&Os(g,R),I}for(x=r(g,x);!F.done;R++,F=_.next())F=p(x,g,R,F.value,S),F!==null&&(t&&F.alternate!==null&&x.delete(F.key===null?R:F.key),m=s(F,m,R),E===null?I=F:E.sibling=F,E=F);return t&&x.forEach(function(M){return e(g,M)}),ft&&Os(g,R),I}function w(g,m,_,S){if(typeof _=="object"&&_!==null&&_.type===Yo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ju:e:{for(var I=_.key,E=m;E!==null;){if(E.key===I){if(I=_.type,I===Yo){if(E.tag===7){n(g,E.sibling),m=i(E,_.props.children),m.return=g,g=m;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vi&&oE(I)===E.type){n(g,E.sibling),m=i(E,_.props),m.ref=El(g,E,_),m.return=g,g=m;break e}n(g,E);break}else e(g,E);E=E.sibling}_.type===Yo?(m=Zs(_.props.children,g.mode,S,_.key),m.return=g,g=m):(S=Gd(_.type,_.key,_.props,null,g.mode,S),S.ref=El(g,m,_),S.return=g,g=S)}return o(g);case Qo:e:{for(E=_.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=xm(_,g.mode,S),m.return=g,g=m}return o(g);case Vi:return E=_._init,w(g,m,E(_._payload),S)}if(Vl(_))return y(g,m,_,S);if(gl(_))return v(g,m,_,S);ud(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,_),m.return=g,g=m):(n(g,m),m=Sm(_,g.mode,S),m.return=g,g=m),o(g)):n(g,m)}return w}var Pa=Gx(!0),Qx=Gx(!1),pu={},Fr=Ss(pu),Ic=Ss(pu),bc=Ss(pu);function js(t){if(t===pu)throw Error(j(174));return t}function Wv(t,e){switch(rt(bc,e),rt(Ic,t),rt(Fr,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_g(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_g(e,t)}ct(Fr),rt(Fr,e)}function ka(){ct(Fr),ct(Ic),ct(bc)}function Yx(t){js(bc.current);var e=js(Fr.current),n=_g(e,t.type);e!==n&&(rt(Ic,t),rt(Fr,n))}function Hv(t){Ic.current===t&&(ct(Fr),ct(Ic))}var pt=Ss(0);function Rf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ym=[];function Kv(){for(var t=0;t<ym.length;t++)ym[t]._workInProgressVersionPrimary=null;ym.length=0}var zd=Ri.ReactCurrentDispatcher,vm=Ri.ReactCurrentBatchConfig,io=0,mt=null,Mt=null,Wt=null,Cf=!1,ec=!1,Rc=0,EO=0;function an(){throw Error(j(321))}function Gv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function Qv(t,e,n,r,i,s){if(io=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zd.current=t===null||t.memoizedState===null?IO:bO,t=n(r,i),ec){s=0;do{if(ec=!1,Rc=0,25<=s)throw Error(j(301));s+=1,Wt=Mt=null,e.updateQueue=null,zd.current=RO,t=n(r,i)}while(ec)}if(zd.current=Af,e=Mt!==null&&Mt.next!==null,io=0,Wt=Mt=mt=null,Cf=!1,e)throw Error(j(300));return t}function Yv(){var t=Rc!==0;return Rc=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?mt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function ar(){if(Mt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Wt===null?mt.memoizedState:Wt.next;if(e!==null)Wt=e,Mt=t;else{if(t===null)throw Error(j(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Wt===null?mt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Cc(t,e){return typeof e=="function"?e(t):e}function _m(t){var e=ar(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((io&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,mt.lanes|=u,so|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Sr(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,mt.lanes|=s,so|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wm(t){var e=ar(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Sr(s,e.memoizedState)||(kn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Xx(){}function Zx(t,e){var n=mt,r=ar(),i=e(),s=!Sr(r.memoizedState,i);if(s&&(r.memoizedState=i,kn=!0),r=r.queue,Xv(tI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,Ac(9,eI.bind(null,n,r,i,e),void 0,null),Ht===null)throw Error(j(349));io&30||Jx(n,e,i)}return i}function Jx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eI(t,e,n,r){e.value=n,e.getSnapshot=r,nI(e)&&rI(t)}function tI(t,e,n){return n(function(){nI(e)&&rI(t)})}function nI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function rI(t){var e=gi(t,1);e!==null&&wr(e,t,1,-1)}function aE(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=xO.bind(null,mt,t),[e.memoizedState,t]}function Ac(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iI(){return ar().memoizedState}function qd(t,e,n,r){var i=Pr();mt.flags|=t,i.memoizedState=Ac(1|e,n,void 0,r===void 0?null:r)}function Fh(t,e,n,r){var i=ar();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var o=Mt.memoizedState;if(s=o.destroy,r!==null&&Gv(r,o.deps)){i.memoizedState=Ac(e,n,s,r);return}}mt.flags|=t,i.memoizedState=Ac(1|e,n,s,r)}function lE(t,e){return qd(8390656,8,t,e)}function Xv(t,e){return Fh(2048,8,t,e)}function sI(t,e){return Fh(4,2,t,e)}function oI(t,e){return Fh(4,4,t,e)}function aI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lI(t,e,n){return n=n!=null?n.concat([t]):null,Fh(4,4,aI.bind(null,e,t),n)}function Zv(){}function cI(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uI(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dI(t,e,n){return io&21?(Sr(n,e)||(n=px(),mt.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function TO(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=vm.transition;vm.transition={};try{t(!1),e()}finally{Qe=n,vm.transition=r}}function fI(){return ar().memoizedState}function SO(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hI(t))pI(e,n);else if(n=qx(t,e,n,r),n!==null){var i=xn();wr(n,t,r,i),mI(n,e,r)}}function xO(t,e,n){var r=is(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hI(t))pI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Sr(a,o)){var l=e.interleaved;l===null?(i.next=i,zv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=qx(t,e,i,r),n!==null&&(i=xn(),wr(n,t,r,i),mI(n,e,r))}}function hI(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function pI(t,e){ec=Cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Av(t,n)}}var Af={readContext:or,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},IO={readContext:or,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:lE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qd(4194308,4,aI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return qd(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SO.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:aE,useDebugValue:Zv,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=aE(!1),e=t[0];return t=TO.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,i=Pr();if(ft){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Ht===null)throw Error(j(349));io&30||Jx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lE(tI.bind(null,r,s,t),[t]),r.flags|=2048,Ac(9,eI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Pr(),e=Ht.identifierPrefix;if(ft){var n=ai,r=oi;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bO={readContext:or,useCallback:cI,useContext:or,useEffect:Xv,useImperativeHandle:lI,useInsertionEffect:sI,useLayoutEffect:oI,useMemo:uI,useReducer:_m,useRef:iI,useState:function(){return _m(Cc)},useDebugValue:Zv,useDeferredValue:function(t){var e=ar();return dI(e,Mt.memoizedState,t)},useTransition:function(){var t=_m(Cc)[0],e=ar().memoizedState;return[t,e]},useMutableSource:Xx,useSyncExternalStore:Zx,useId:fI,unstable_isNewReconciler:!1},RO={readContext:or,useCallback:cI,useContext:or,useEffect:Xv,useImperativeHandle:lI,useInsertionEffect:sI,useLayoutEffect:oI,useMemo:uI,useReducer:wm,useRef:iI,useState:function(){return wm(Cc)},useDebugValue:Zv,useDeferredValue:function(t){var e=ar();return Mt===null?e.memoizedState=t:dI(e,Mt.memoizedState,t)},useTransition:function(){var t=wm(Cc)[0],e=ar().memoizedState;return[t,e]},useMutableSource:Xx,useSyncExternalStore:Zx,useId:fI,unstable_isNewReconciler:!1};function Na(t,e){try{var n="",r=e;do n+=tD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Em(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CO=typeof WeakMap=="function"?WeakMap:Map;function gI(t,e,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kf||(kf=!0,Zg=r),Bg(t,e)},n}function yI(t,e,n){n=hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bg(t,e),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BO.bind(null,t,e,n),e.then(t,t))}function uE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hi(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var AO=Ri.ReactCurrentOwner,kn=!1;function _n(t,e,n,r){e.child=t===null?Qx(e,null,n,r):Pa(e,t.child,n,r)}function fE(t,e,n,r,i){n=n.render;var s=e.ref;return ya(e,i),r=Qv(t,e,n,r,s,i),n=Yv(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(ft&&n&&Lv(e),e.flags|=1,_n(t,e,r,i),e.child)}function hE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!o_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vI(t,e,s,r,i)):(t=Gd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ec,n(o,r)&&t.ref===e.ref)return yi(t,e,i)}return e.flags|=1,t=ss(s,r),t.ref=e.ref,t.return=e,e.child=t}function vI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ec(s,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,yi(t,e,i)}return zg(t,e,n,r,i)}function _I(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(oa,Vn),Vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(oa,Vn),Vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(oa,Vn),Vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(oa,Vn),Vn|=r;return _n(t,e,i,n),e.child}function wI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zg(t,e,n,r,i){var s=Dn(n)?no:mn.current;return s=Ca(e,s),ya(e,i),n=Qv(t,e,n,r,s,i),r=Yv(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(ft&&r&&Lv(e),e.flags|=1,_n(t,e,n,i),e.child)}function pE(t,e,n,r,i){if(Dn(n)){var s=!0;Ef(e)}else s=!1;if(ya(e,i),e.stateNode===null)Wd(t,e),Kx(e,n,r),jg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=or(c):(c=Dn(n)?no:mn.current,c=Ca(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sE(e,o,r,c),Fi=!1;var f=e.memoizedState;o.state=f,bf(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Nn.current||Fi?(typeof u=="function"&&(Ug(e,n,u,r),l=e.memoizedState),(a=Fi||iE(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Wx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dr(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=or(l):(l=Dn(n)?no:mn.current,l=Ca(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&sE(e,o,r,l),Fi=!1,f=e.memoizedState,o.state=f,bf(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||Nn.current||Fi?(typeof p=="function"&&(Ug(e,n,p,r),y=e.memoizedState),(c=Fi||iE(e,n,c,r,f,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return qg(t,e,n,r,s,i)}function qg(t,e,n,r,i,s){wI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Jw(e,n,!1),yi(t,e,s);r=e.stateNode,AO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pa(e,t.child,null,s),e.child=Pa(e,null,a,s)):_n(t,e,a,s),e.memoizedState=r.state,i&&Jw(e,n,!0),e.child}function EI(t){var e=t.stateNode;e.pendingContext?Zw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zw(t,e.context,!1),Wv(t,e.containerInfo)}function mE(t,e,n,r,i){return Aa(),Fv(i),e.flags|=256,_n(t,e,n,r),e.child}var Wg={dehydrated:null,treeContext:null,retryLane:0};function Hg(t){return{baseLanes:t,cachePool:null,transitions:null}}function TI(t,e,n){var r=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(pt,i&1),t===null)return Vg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bh(o,r,0,null),t=Zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hg(n),e.memoizedState=Wg,t):Jv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ss(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ss(a,s):(s=Zs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wg,r}return s=t.child,t=s.sibling,r=ss(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jv(t,e){return e=Bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&Fv(r),Pa(e,t.child,null,n),t=Jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Em(Error(j(422))),dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bh({mode:"visible",children:r.children},i,0,null),s=Zs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Pa(e,t.child,null,o),e.child.memoizedState=Hg(o),e.memoizedState=Wg,s);if(!(e.mode&1))return dd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Em(s,r,void 0),dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,kn||a){if(r=Ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gi(t,i),wr(r,t,i,-1))}return s_(),r=Em(Error(j(421))),dd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Un=ts(i.nextSibling),Bn=e,ft=!0,pr=null,t!==null&&(Jn[er++]=oi,Jn[er++]=ai,Jn[er++]=ro,oi=t.id,ai=t.overflow,ro=e),e=Jv(e,r.children),e.flags|=4096,e)}function gE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fg(t.return,e,n)}function Tm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function SI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_n(t,e,r.children,n),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gE(t,n,e);else if(t.tag===19)gE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tm(e,!0,n,null,s);break;case"together":Tm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kO(t,e,n){switch(e.tag){case 3:EI(e),Aa();break;case 5:Yx(e);break;case 1:Dn(e.type)&&Ef(e);break;case 4:Wv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(xf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(pt,pt.current&1),e.flags|=128,null):n&e.child.childLanes?TI(t,e,n):(rt(pt,pt.current&1),t=yi(t,e,n),t!==null?t.sibling:null);rt(pt,pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,_I(t,e,n)}return yi(t,e,n)}var xI,Kg,II,bI;xI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kg=function(){};II=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,js(Fr.current);var s=null;switch(n){case"input":i=mg(t,i),r=mg(t,r),s=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),s=[];break;case"textarea":i=vg(t,i),r=vg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_f)}wg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};bI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tl(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NO(t,e,n){var r=e.pendingProps;switch(Vv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Dn(e.type)&&wf(),ln(e),null;case 3:return r=e.stateNode,ka(),ct(Nn),ct(mn),Kv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(ty(pr),pr=null))),Kg(t,e),ln(e),null;case 5:Hv(e);var i=js(bc.current);if(n=e.type,t!==null&&e.stateNode!=null)II(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return ln(e),null}if(t=js(Fr.current),cd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kr]=e,r[xc]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<Ul.length;i++)at(Ul[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":Iw(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":Rw(r,s),at("invalid",r)}wg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",""+a]):pc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":ed(r),bw(r,s,!0);break;case"textarea":ed(r),Cw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_f)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[xc]=r,xI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Eg(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ul.length;i++)at(Ul[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":Iw(t,r),i=mg(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),at("invalid",t);break;case"textarea":Rw(t,r),i=vg(t,r),at("invalid",t);break;default:i=r}wg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ex(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mc(t,l):typeof l=="number"&&mc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&at("scroll",t):l!=null&&Sv(t,s,l,o))}switch(n){case"input":ed(t),bw(t,r,!1);break;case"textarea":ed(t),Cw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ha(t,!!r.multiple,s,!1):r.defaultValue!=null&&ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_f)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)bI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=js(bc.current),js(Fr.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(s=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return ln(e),null;case 13:if(ct(pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Un!==null&&e.mode&1&&!(e.flags&128))zx(),Aa(),e.flags|=98560,s=!1;else if(s=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[kr]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),s=!1}else pr!==null&&(ty(pr),pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Lt===0&&(Lt=3):s_())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return ka(),Kg(t,e),t===null&&Tc(e.stateNode.containerInfo),ln(e),null;case 10:return Bv(e.type._context),ln(e),null;case 17:return Dn(e.type)&&wf(),ln(e),null;case 19:if(ct(pt),s=e.memoizedState,s===null)return ln(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Tl(s,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rf(t),o!==null){for(e.flags|=128,Tl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>Da&&(e.flags|=128,r=!0,Tl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ft)return ln(e),null}else 2*Rt()-s.renderingStartTime>Da&&n!==1073741824&&(e.flags|=128,r=!0,Tl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,n=pt.current,rt(pt,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return i_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function DO(t,e){switch(Vv(e),e.tag){case 1:return Dn(e.type)&&wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ka(),ct(Nn),ct(mn),Kv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hv(e),null;case 13:if(ct(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(pt),null;case 4:return ka(),null;case 10:return Bv(e.type._context),null;case 22:case 23:return i_(),null;case 24:return null;default:return null}}var fd=!1,dn=!1,OO=typeof WeakSet=="function"?WeakSet:Set,ie=null;function sa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function Gg(t,e,n){try{n()}catch(r){wt(t,e,r)}}var yE=!1;function $O(t,e){if(kg=gf,t=Px(),Mv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ng={focusedElem:t,selectionRange:n},gf=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:dr(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(S){wt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return y=yE,yE=!1,y}function tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gg(e,n,s)}i=i.next}while(i!==r)}}function Uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RI(t){var e=t.alternate;e!==null&&(t.alternate=null,RI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[xc],delete e[$g],delete e[yO],delete e[vO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CI(t){return t.tag===5||t.tag===3||t.tag===4}function vE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_f));else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}function Xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xg(t,e,n),t=t.sibling;t!==null;)Xg(t,e,n),t=t.sibling}var Zt=null,fr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)AI(t,e,n),n=n.sibling}function AI(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:dn||sa(n,e);case 6:var r=Zt,i=fr;Zt=null,Ni(t,e,n),Zt=r,fr=i,Zt!==null&&(fr?(t=Zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zt.removeChild(n.stateNode));break;case 18:Zt!==null&&(fr?(t=Zt,n=n.stateNode,t.nodeType===8?mm(t.parentNode,n):t.nodeType===1&&mm(t,n),_c(t)):mm(Zt,n.stateNode));break;case 4:r=Zt,i=fr,Zt=n.stateNode.containerInfo,fr=!0,Ni(t,e,n),Zt=r,fr=i;break;case 0:case 11:case 14:case 15:if(!dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gg(n,e,o),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!dn&&(sa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(dn=(r=dn)||n.memoizedState!==null,Ni(t,e,n),dn=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function _E(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OO),e.forEach(function(r){var i=qO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zt=a.stateNode,fr=!1;break e;case 3:Zt=a.stateNode.containerInfo,fr=!0;break e;case 4:Zt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(Zt===null)throw Error(j(160));AI(s,o,i),Zt=null,fr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){wt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PI(e,t),e=e.sibling}function PI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Ar(t),r&4){try{tc(3,t,t.return),Uh(3,t)}catch(v){wt(t,t.return,v)}try{tc(5,t,t.return)}catch(v){wt(t,t.return,v)}}break;case 1:ur(e,t),Ar(t),r&512&&n!==null&&sa(n,n.return);break;case 5:if(ur(e,t),Ar(t),r&512&&n!==null&&sa(n,n.return),t.flags&32){var i=t.stateNode;try{mc(i,"")}catch(v){wt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XS(i,s),Eg(a,o);var c=Eg(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?nx(i,d):u==="dangerouslySetInnerHTML"?ex(i,d):u==="children"?mc(i,d):Sv(i,u,d,c)}switch(a){case"input":gg(i,s);break;case"textarea":ZS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ha(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ha(i,!!s.multiple,s.defaultValue,!0):ha(i,!!s.multiple,s.multiple?[]:"",!1))}i[xc]=s}catch(v){wt(t,t.return,v)}}break;case 6:if(ur(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){wt(t,t.return,v)}}break;case 3:if(ur(e,t),Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(e.containerInfo)}catch(v){wt(t,t.return,v)}break;case 4:ur(e,t),Ar(t);break;case 13:ur(e,t),Ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(n_=Rt())),r&4&&_E(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(c=dn)||u,ur(e,t),dn=c):ur(e,t),Ar(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ie=t,u=t.child;u!==null;){for(d=ie=u;ie!==null;){switch(f=ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:tc(4,f,f.return);break;case 1:sa(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){wt(r,n,v)}}break;case 5:sa(f,f.return);break;case 22:if(f.memoizedState!==null){EE(d);continue}}p!==null?(p.return=f,ie=p):EE(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tx("display",o))}catch(v){wt(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){wt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ur(e,t),Ar(t),r&4&&_E(t);break;case 21:break;default:ur(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CI(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mc(i,""),r.flags&=-33);var s=vE(t);Xg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vE(t);Yg(t,a,o);break;default:throw Error(j(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MO(t,e,n){ie=t,kI(t)}function kI(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dn;a=fd;var c=dn;if(fd=o,(dn=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?TE(i):l!==null?(l.return=o,ie=l):TE(i);for(;s!==null;)ie=s,kI(s),s=s.sibling;ie=i,fd=a,dn=c}wE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):wE(t)}}function wE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||Uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&_c(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}dn||e.flags&512&&Qg(e)}catch(f){wt(e,e.return,f)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function EE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function TE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uh(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{Qg(e)}catch(l){wt(e,s,l)}break;case 5:var o=e.return;try{Qg(e)}catch(l){wt(e,o,l)}}}catch(l){wt(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var LO=Math.ceil,Pf=Ri.ReactCurrentDispatcher,e_=Ri.ReactCurrentOwner,sr=Ri.ReactCurrentBatchConfig,ze=0,Ht=null,Dt=null,nn=0,Vn=0,oa=Ss(0),Lt=0,Pc=null,so=0,jh=0,t_=0,nc=null,An=null,n_=0,Da=1/0,ri=null,kf=!1,Zg=null,rs=null,hd=!1,Qi=null,Nf=0,rc=0,Jg=null,Hd=-1,Kd=0;function xn(){return ze&6?Rt():Hd!==-1?Hd:Hd=Rt()}function is(t){return t.mode&1?ze&2&&nn!==0?nn&-nn:wO.transition!==null?(Kd===0&&(Kd=px()),Kd):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Ex(t.type)),t):1}function wr(t,e,n,r){if(50<rc)throw rc=0,Jg=null,Error(j(185));du(t,n,r),(!(ze&2)||t!==Ht)&&(t===Ht&&(!(ze&2)&&(jh|=n),Lt===4&&Bi(t,nn)),On(t,r),n===1&&ze===0&&!(e.mode&1)&&(Da=Rt()+500,Lh&&xs()))}function On(t,e){var n=t.callbackNode;wD(t,e);var r=mf(t,t===Ht?nn:0);if(r===0)n!==null&&kw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kw(n),e===1)t.tag===0?_O(SE.bind(null,t)):Ux(SE.bind(null,t)),mO(function(){!(ze&6)&&xs()}),n=null;else{switch(mx(r)){case 1:n=Cv;break;case 4:n=fx;break;case 16:n=pf;break;case 536870912:n=hx;break;default:n=pf}n=FI(n,NI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NI(t,e){if(Hd=-1,Kd=0,ze&6)throw Error(j(327));var n=t.callbackNode;if(va()&&t.callbackNode!==n)return null;var r=mf(t,t===Ht?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Df(t,r);else{e=r;var i=ze;ze|=2;var s=OI();(Ht!==t||nn!==e)&&(ri=null,Da=Rt()+500,Xs(t,e));do try{UO();break}catch(a){DI(t,a)}while(!0);jv(),Pf.current=s,ze=i,Dt!==null?e=0:(Ht=null,nn=0,e=Lt)}if(e!==0){if(e===2&&(i=bg(t),i!==0&&(r=i,e=ey(t,i))),e===1)throw n=Pc,Xs(t,0),Bi(t,r),On(t,Rt()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!VO(i)&&(e=Df(t,r),e===2&&(s=bg(t),s!==0&&(r=s,e=ey(t,s))),e===1))throw n=Pc,Xs(t,0),Bi(t,r),On(t,Rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:$s(t,An,ri);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=n_+500-Rt(),10<e)){if(mf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Og($s.bind(null,t,An,ri),e);break}$s(t,An,ri);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_r(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LO(r/1960))-r,10<r){t.timeoutHandle=Og($s.bind(null,t,An,ri),r);break}$s(t,An,ri);break;case 5:$s(t,An,ri);break;default:throw Error(j(329))}}}return On(t,Rt()),t.callbackNode===n?NI.bind(null,t):null}function ey(t,e){var n=nc;return t.current.memoizedState.isDehydrated&&(Xs(t,e).flags|=256),t=Df(t,e),t!==2&&(e=An,An=n,e!==null&&ty(e)),t}function ty(t){An===null?An=t:An.push.apply(An,t)}function VO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~t_,e&=~jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function SE(t){if(ze&6)throw Error(j(327));va();var e=mf(t,0);if(!(e&1))return On(t,Rt()),null;var n=Df(t,e);if(t.tag!==0&&n===2){var r=bg(t);r!==0&&(e=r,n=ey(t,r))}if(n===1)throw n=Pc,Xs(t,0),Bi(t,e),On(t,Rt()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,An,ri),On(t,Rt()),null}function r_(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Da=Rt()+500,Lh&&xs())}}function oo(t){Qi!==null&&Qi.tag===0&&!(ze&6)&&va();var e=ze;ze|=1;var n=sr.transition,r=Qe;try{if(sr.transition=null,Qe=1,t)return t()}finally{Qe=r,sr.transition=n,ze=e,!(ze&6)&&xs()}}function i_(){Vn=oa.current,ct(oa)}function Xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pO(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(Vv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wf();break;case 3:ka(),ct(Nn),ct(mn),Kv();break;case 5:Hv(r);break;case 4:ka();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:Bv(r.type._context);break;case 22:case 23:i_()}n=n.return}if(Ht=t,Dt=t=ss(t.current,null),nn=Vn=e,Lt=0,Pc=null,t_=jh=so=0,An=nc=null,Us!==null){for(e=0;e<Us.length;e++)if(n=Us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Us=null}return t}function DI(t,e){do{var n=Dt;try{if(jv(),zd.current=Af,Cf){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cf=!1}if(io=0,Wt=Mt=mt=null,ec=!1,Rc=0,e_.current=null,n===null||n.return===null){Lt=1,Pc=e,Dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=nn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=uE(o);if(p!==null){p.flags&=-257,dE(p,o,a,s,e),p.mode&1&&cE(s,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){cE(s,c,e),s_();break e}l=Error(j(426))}}else if(ft&&a.mode&1){var w=uE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),dE(w,o,a,s,e),Fv(Na(l,a));break e}}s=l=Na(l,a),Lt!==4&&(Lt=2),nc===null?nc=[s]:nc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=gI(s,l,e);nE(s,g);break e;case 1:a=l;var m=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(rs===null||!rs.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=yI(s,a,e);nE(s,S);break e}}s=s.return}while(s!==null)}MI(n)}catch(I){e=I,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function OI(){var t=Pf.current;return Pf.current=Af,t===null?Af:t}function s_(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Ht===null||!(so&268435455)&&!(jh&268435455)||Bi(Ht,nn)}function Df(t,e){var n=ze;ze|=2;var r=OI();(Ht!==t||nn!==e)&&(ri=null,Xs(t,e));do try{FO();break}catch(i){DI(t,i)}while(!0);if(jv(),ze=n,Pf.current=r,Dt!==null)throw Error(j(261));return Ht=null,nn=0,Lt}function FO(){for(;Dt!==null;)$I(Dt)}function UO(){for(;Dt!==null&&!dD();)$I(Dt)}function $I(t){var e=VI(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,e===null?MI(t):Dt=e,e_.current=null}function MI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DO(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,Dt=null;return}}else if(n=NO(n,e,Vn),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Lt===0&&(Lt=5)}function $s(t,e,n){var r=Qe,i=sr.transition;try{sr.transition=null,Qe=1,jO(t,e,n,r)}finally{sr.transition=i,Qe=r}return null}function jO(t,e,n,r){do va();while(Qi!==null);if(ze&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ED(t,s),t===Ht&&(Dt=Ht=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hd||(hd=!0,FI(pf,function(){return va(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=sr.transition,sr.transition=null;var o=Qe;Qe=1;var a=ze;ze|=4,e_.current=null,$O(t,n),PI(n,t),aO(Ng),gf=!!kg,Ng=kg=null,t.current=n,MO(n),fD(),ze=a,Qe=o,sr.transition=s}else t.current=n;if(hd&&(hd=!1,Qi=t,Nf=i),s=t.pendingLanes,s===0&&(rs=null),mD(n.stateNode),On(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kf)throw kf=!1,t=Zg,Zg=null,t;return Nf&1&&t.tag!==0&&va(),s=t.pendingLanes,s&1?t===Jg?rc++:(rc=0,Jg=t):rc=0,xs(),null}function va(){if(Qi!==null){var t=mx(Nf),e=sr.transition,n=Qe;try{if(sr.transition=null,Qe=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,Nf=0,ze&6)throw Error(j(331));var i=ze;for(ze|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:tc(8,u,s)}var d=u.child;if(d!==null)d.return=u,ie=d;else for(;ie!==null;){u=ie;var f=u.sibling,p=u.return;if(RI(u),u===c){ie=null;break}if(f!==null){f.return=p,ie=f;break}ie=p}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ie=g;break e}ie=s.return}}var m=t.current;for(ie=m;ie!==null;){o=ie;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ie=_;else e:for(o=m;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uh(9,a)}}catch(I){wt(a,a.return,I)}if(a===o){ie=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ie=S;break e}ie=a.return}}if(ze=i,xs(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Nh,t)}catch{}r=!0}return r}finally{Qe=n,sr.transition=e}}return!1}function xE(t,e,n){e=Na(n,e),e=gI(t,e,1),t=ns(t,e,1),e=xn(),t!==null&&(du(t,1,e),On(t,e))}function wt(t,e,n){if(t.tag===3)xE(t,t,n);else for(;e!==null;){if(e.tag===3){xE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=Na(n,t),t=yI(e,t,1),e=ns(e,t,1),t=xn(),e!==null&&(du(e,1,t),On(e,t));break}}e=e.return}}function BO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(nn&n)===n&&(Lt===4||Lt===3&&(nn&130023424)===nn&&500>Rt()-n_?Xs(t,0):t_|=n),On(t,e)}function LI(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=xn();t=gi(t,e),t!==null&&(du(t,e,n),On(t,n))}function zO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LI(t,n)}function qO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),LI(t,n)}var VI;VI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,kO(t,e,n);kn=!!(t.flags&131072)}else kn=!1,ft&&e.flags&1048576&&jx(e,Sf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wd(t,e),t=e.pendingProps;var i=Ca(e,mn.current);ya(e,n),i=Qv(null,e,r,t,i,n);var s=Yv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(r)?(s=!0,Ef(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qv(e),i.updater=Vh,e.stateNode=i,i._reactInternals=e,jg(e,r,t,n),e=qg(null,e,r,!0,s,n)):(e.tag=0,ft&&s&&Lv(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HO(r),t=dr(r,t),i){case 0:e=zg(null,e,r,t,n);break e;case 1:e=pE(null,e,r,t,n);break e;case 11:e=fE(null,e,r,t,n);break e;case 14:e=hE(null,e,r,dr(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),zg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),pE(t,e,r,i,n);case 3:e:{if(EI(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Wx(t,e),bf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Na(Error(j(423)),e),e=mE(t,e,r,n,i);break e}else if(r!==i){i=Na(Error(j(424)),e),e=mE(t,e,r,n,i);break e}else for(Un=ts(e.stateNode.containerInfo.firstChild),Bn=e,ft=!0,pr=null,n=Qx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Aa(),r===i){e=yi(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return Yx(e),t===null&&Vg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dg(r,i)?o=null:s!==null&&Dg(r,s)&&(e.flags|=32),wI(t,e),_n(t,e,o,n),e.child;case 6:return t===null&&Vg(e),null;case 13:return TI(t,e,n);case 4:return Wv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pa(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),fE(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(xf,r._currentValue),r._currentValue=o,s!==null)if(Sr(s.value,o)){if(s.children===i.children&&!Nn.current){e=yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ya(e,n),i=or(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=dr(r,e.pendingProps),i=dr(r.type,i),hE(t,e,r,i,n);case 15:return vI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),Wd(t,e),e.tag=1,Dn(r)?(t=!0,Ef(e)):t=!1,ya(e,n),Kx(e,r,i),jg(e,r,i,n),qg(null,e,r,!0,t,n);case 19:return SI(t,e,n);case 22:return _I(t,e,n)}throw Error(j(156,e.tag))};function FI(t,e){return dx(t,e)}function WO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new WO(t,e,n,r)}function o_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HO(t){if(typeof t=="function")return o_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iv)return 11;if(t===bv)return 14}return 2}function ss(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")o_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yo:return Zs(n.children,i,s,e);case xv:o=8,i|=8;break;case dg:return t=ir(12,n,e,i|2),t.elementType=dg,t.lanes=s,t;case fg:return t=ir(13,n,e,i),t.elementType=fg,t.lanes=s,t;case hg:return t=ir(19,n,e,i),t.elementType=hg,t.lanes=s,t;case GS:return Bh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HS:o=10;break e;case KS:o=9;break e;case Iv:o=11;break e;case bv:o=14;break e;case Vi:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=ir(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zs(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Bh(t,e,n,r){return t=ir(22,t,r,e),t.elementType=GS,t.lanes=n,t.stateNode={isHidden:!1},t}function Sm(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function xm(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a_(t,e,n,r,i,s,o,a,l){return t=new KO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ir(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qv(s),t}function GO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UI(t){if(!t)return fs;t=t._reactInternals;e:{if(wo(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Dn(n))return Fx(t,n,e)}return e}function jI(t,e,n,r,i,s,o,a,l){return t=a_(n,r,!0,t,i,s,o,a,l),t.context=UI(null),n=t.current,r=xn(),i=is(n),s=hi(r,i),s.callback=e??null,ns(n,s,i),t.current.lanes=i,du(t,i,r),On(t,r),t}function zh(t,e,n,r){var i=e.current,s=xn(),o=is(i);return n=UI(n),e.context===null?e.context=n:e.pendingContext=n,e=hi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ns(i,e,o),t!==null&&(wr(t,i,o,s),Bd(t,i,o)),o}function Of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function IE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function l_(t,e){IE(t,e),(t=t.alternate)&&IE(t,e)}function QO(){return null}var BI=typeof reportError=="function"?reportError:function(t){console.error(t)};function c_(t){this._internalRoot=t}qh.prototype.render=c_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));zh(t,e,null,null)};qh.prototype.unmount=c_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){zh(null,t,null,null)}),e[mi]=null}};function qh(t){this._internalRoot=t}qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=vx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ji.length&&e!==0&&e<ji[n].priority;n++);ji.splice(n,0,t),n===0&&wx(t)}};function u_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bE(){}function YO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Of(o);s.call(c)}}var o=jI(e,r,t,0,null,!1,!1,"",bE);return t._reactRootContainer=o,t[mi]=o.current,Tc(t.nodeType===8?t.parentNode:t),oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Of(l);a.call(c)}}var l=a_(t,0,!1,null,null,!1,!1,"",bE);return t._reactRootContainer=l,t[mi]=l.current,Tc(t.nodeType===8?t.parentNode:t),oo(function(){zh(e,l,n,r)}),l}function Hh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Of(o);a.call(l)}}zh(e,o,t,i)}else o=YO(n,e,t,i,r);return Of(o)}gx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fl(e.pendingLanes);n!==0&&(Av(e,n|1),On(e,Rt()),!(ze&6)&&(Da=Rt()+500,xs()))}break;case 13:oo(function(){var r=gi(t,1);if(r!==null){var i=xn();wr(r,t,1,i)}}),l_(t,1)}};Pv=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=xn();wr(e,t,134217728,n)}l_(t,134217728)}};yx=function(t){if(t.tag===13){var e=is(t),n=gi(t,e);if(n!==null){var r=xn();wr(n,t,e,r)}l_(t,e)}};vx=function(){return Qe};_x=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Sg=function(t,e,n){switch(e){case"input":if(gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mh(r);if(!i)throw Error(j(90));YS(r),gg(r,i)}}}break;case"textarea":ZS(t,n);break;case"select":e=n.value,e!=null&&ha(t,!!n.multiple,e,!1)}};sx=r_;ox=oo;var XO={usingClientEntryPoint:!1,Events:[hu,ea,Mh,rx,ix,r_]},Sl={findFiberByHostInstance:Fs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZO={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cx(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||QO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Nh=pd.inject(ZO),Vr=pd}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XO;Hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u_(e))throw Error(j(200));return GO(t,e,null,n)};Hn.createRoot=function(t,e){if(!u_(t))throw Error(j(299));var n=!1,r="",i=BI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a_(t,1,!1,null,null,n,!1,r,i),t[mi]=e.current,Tc(t.nodeType===8?t.parentNode:t),new c_(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=cx(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return oo(t)};Hn.hydrate=function(t,e,n){if(!Wh(e))throw Error(j(200));return Hh(null,t,e,!0,n)};Hn.hydrateRoot=function(t,e,n){if(!u_(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=BI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jI(e,null,t,1,n??null,i,!1,s,o),t[mi]=e.current,Tc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qh(e)};Hn.render=function(t,e,n){if(!Wh(e))throw Error(j(200));return Hh(null,t,e,!1,n)};Hn.unmountComponentAtNode=function(t){if(!Wh(t))throw Error(j(40));return t._reactRootContainer?(oo(function(){Hh(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};Hn.unstable_batchedUpdates=r_;Hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wh(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Hh(t,e,n,!1,r)};Hn.version="18.2.0-next-9e3b772b8-20220608";function zI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zI)}catch(t){console.error(t)}}zI(),jS.exports=Hn;var Is=jS.exports;const qI=AS(Is),JO=CS({__proto__:null,default:qI},[Is]);var RE=Is;cg.createRoot=RE.createRoot,cg.hydrateRoot=RE.hydrateRoot;/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Et(){return Et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Et.apply(this,arguments)}var bt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bt||(bt={}));const CE="popstate";function e$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return kc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mu(i)}return n$(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ao(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t$(){return Math.random().toString(36).substr(2,8)}function AE(t,e){return{usr:t.state,key:t.key,idx:e}}function kc(t,e,n,r){return n===void 0&&(n=null),Et({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ci(e):e,{state:n,key:e&&e.key||r||t$()})}function mu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function n$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Et({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=bt.Pop;let w=u(),g=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:g})}function f(w,g){a=bt.Push;let m=kc(v.location,w,g);n&&n(m,w),c=u()+1;let _=AE(m,c),S=v.createHref(m);try{o.pushState(_,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function p(w,g){a=bt.Replace;let m=kc(v.location,w,g);n&&n(m,w),c=u();let _=AE(m,c),S=v.createHref(m);o.replaceState(_,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function y(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:mu(w);return Ne(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(CE,d),l=w,()=>{i.removeEventListener(CE,d),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return o.go(w)}};return v}var vt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vt||(vt={}));const r$=new Set(["lazy","caseSensitive","path","id","index","children"]);function i$(t){return t.index===!0}function ny(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Ne(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ne(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),i$(i)){let l=Et({},i,e(i),{id:a});return r[a]=l,l}else{let l=Et({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=ny(i.children,e,o,r)),l}})}function aa(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ci(e):e,i=gu(r.pathname||"/",n);if(i==null)return null;let s=WI(t);o$(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=m$(s[a],v$(i));return o}function s$(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function WI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ne(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=os([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),WI(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:h$(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of HI(s.path))i(s,o,l)}),e}function HI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function o$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const a$=/^:[\w-]+$/,l$=3,c$=2,u$=1,d$=10,f$=-2,PE=t=>t==="*";function h$(t,e){let n=t.split("/"),r=n.length;return n.some(PE)&&(r+=f$),e&&(r+=c$),n.filter(i=>!PE(i)).reduce((i,s)=>i+(a$.test(s)?l$:s===""?u$:d$),r)}function p$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function m$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=g$({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:os([i,u.pathname]),pathnameBase:T$(os([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=os([i,u.pathnameBase]))}return s}function g$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=y$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[d];return p&&!y?c[f]=void 0:c[f]=_$(y||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function y$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ao(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function v$(t){try{return decodeURI(t)}catch(e){return ao(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _$(t,e){try{return decodeURIComponent(t)}catch(n){return ao(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function gu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function w$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ci(t):t;return{pathname:n?n.startsWith("/")?n:E$(n,e):e,search:S$(r),hash:x$(i)}}function E$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Im(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d_(t,e){let n=KI(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function f_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ci(t):(i=Et({},t),Ne(!i.pathname||!i.pathname.includes("?"),Im("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),Im("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),Im("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=w$(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const os=t=>t.join("/").replace(/\/\/+/g,"/"),T$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),S$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class h_{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function GI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QI=["post","put","patch","delete"],I$=new Set(QI),b$=["get",...QI],R$=new Set(b$),C$=new Set([301,302,303,307,308]),A$=new Set([307,308]),bm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},P$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},YI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k$=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),XI="remix-router-transitions";function N$(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ne(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let C=t.detectErrorBoundary;i=A=>({hasErrorBoundary:C(A)})}else i=k$;let s={},o=ny(t.routes,i,void 0,s),a,l=t.basename||"/",c=Et({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,d=new Set,f=null,p=null,y=null,v=t.hydrationData!=null,w=aa(o,t.history.location,l),g=null;if(w==null){let C=Yn(404,{pathname:t.history.location.pathname}),{matches:A,route:$}=VE(o);w=A,g={[$.id]:C}}let m,_=w.some(C=>C.route.lazy),S=w.some(C=>C.route.loader);if(_)m=!1;else if(!S)m=!0;else if(c.v7_partialHydration){let C=t.hydrationData?t.hydrationData.loaderData:null,A=t.hydrationData?t.hydrationData.errors:null;m=w.every($=>$.route.loader&&$.route.loader.hydrate!==!0&&(C&&C[$.route.id]!==void 0||A&&A[$.route.id]!==void 0))}else m=t.hydrationData!=null;let I,E={historyAction:t.history.action,location:t.history.location,matches:w,initialized:m,navigation:bm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},x=bt.Pop,R=!1,k,F=!1,W=new Map,M=null,z=!1,H=!1,te=[],ce=[],K=new Map,V=0,O=-1,G=new Map,oe=new Set,ye=new Map,et=new Map,qe=new Set,Ze=new Map,Me=new Map,ae=!1;function je(){if(u=t.history.listen(C=>{let{action:A,location:$,delta:X}=C;if(ae){ae=!1;return}ao(Me.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=ml({currentLocation:E.location,nextLocation:$,historyAction:A});if(le&&X!=null){ae=!0,t.history.go(X*-1),$o(le,{state:"blocked",location:$,proceed(){$o(le,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),t.history.go(X)},reset(){let Pe=new Map(E.blockers);Pe.set(le,xl),Se({blockers:Pe})}});return}return At(A,$)}),n){z$(e,W);let C=()=>q$(e,W);e.addEventListener("pagehide",C),M=()=>e.removeEventListener("pagehide",C)}return E.initialized||At(bt.Pop,E.location,{initialHydration:!0}),I}function Fe(){u&&u(),M&&M(),d.clear(),k&&k.abort(),E.fetchers.forEach((C,A)=>ht(A)),E.blockers.forEach((C,A)=>pl(A))}function Be(C){return d.add(C),()=>d.delete(C)}function Se(C,A){A===void 0&&(A={}),E=Et({},E,C);let $=[],X=[];c.v7_fetcherPersist&&E.fetchers.forEach((le,Pe)=>{le.state==="idle"&&(qe.has(Pe)?X.push(Pe):$.push(Pe))}),[...d].forEach(le=>le(E,{deletedFetchers:X,unstable_viewTransitionOpts:A.viewTransitionOpts,unstable_flushSync:A.flushSync===!0})),c.v7_fetcherPersist&&($.forEach(le=>E.fetchers.delete(le)),X.forEach(le=>ht(le)))}function ke(C,A,$){var X,le;let{flushSync:Pe}=$===void 0?{}:$,ve=E.actionData!=null&&E.navigation.formMethod!=null&&hr(E.navigation.formMethod)&&E.navigation.state==="loading"&&((X=C.state)==null?void 0:X._isRedirect)!==!0,me;A.actionData?Object.keys(A.actionData).length>0?me=A.actionData:me=null:ve?me=E.actionData:me=null;let fe=A.loaderData?LE(E.loaderData,A.loaderData,A.matches||[],A.errors):E.loaderData,Le=E.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((tt,Qt)=>Le.set(Qt,xl)));let Bt=R===!0||E.navigation.formMethod!=null&&hr(E.navigation.formMethod)&&((le=C.state)==null?void 0:le._isRedirect)!==!0;a&&(o=a,a=void 0),z||x===bt.Pop||(x===bt.Push?t.history.push(C,C.state):x===bt.Replace&&t.history.replace(C,C.state));let Ae;if(x===bt.Pop){let tt=W.get(E.location.pathname);tt&&tt.has(C.pathname)?Ae={currentLocation:E.location,nextLocation:C}:W.has(C.pathname)&&(Ae={currentLocation:C,nextLocation:E.location})}else if(F){let tt=W.get(E.location.pathname);tt?tt.add(C.pathname):(tt=new Set([C.pathname]),W.set(E.location.pathname,tt)),Ae={currentLocation:E.location,nextLocation:C}}Se(Et({},A,{actionData:me,loaderData:fe,historyAction:x,location:C,initialized:!0,navigation:bm,revalidation:"idle",restoreScrollPosition:vw(C,A.matches||E.matches),preventScrollReset:Bt,blockers:Le}),{viewTransitionOpts:Ae,flushSync:Pe===!0}),x=bt.Pop,R=!1,F=!1,z=!1,H=!1,te=[],ce=[]}async function Ut(C,A){if(typeof C=="number"){t.history.go(C);return}let $=ry(E.location,E.matches,l,c.v7_prependBasename,C,c.v7_relativeSplatPath,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:X,submission:le,error:Pe}=kE(c.v7_normalizeFormMethod,!1,$,A),ve=E.location,me=kc(E.location,X,A&&A.state);me=Et({},me,t.history.encodeLocation(me));let fe=A&&A.replace!=null?A.replace:void 0,Le=bt.Push;fe===!0?Le=bt.Replace:fe===!1||le!=null&&hr(le.formMethod)&&le.formAction===E.location.pathname+E.location.search&&(Le=bt.Replace);let Bt=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Ae=(A&&A.unstable_flushSync)===!0,tt=ml({currentLocation:ve,nextLocation:me,historyAction:Le});if(tt){$o(tt,{state:"blocked",location:me,proceed(){$o(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Ut(C,A)},reset(){let Qt=new Map(E.blockers);Qt.set(tt,xl),Se({blockers:Qt})}});return}return await At(Le,me,{submission:le,pendingError:Pe,preventScrollReset:Bt,replace:A&&A.replace,enableViewTransition:A&&A.unstable_viewTransition,flushSync:Ae})}function jt(){if(q(),Se({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){At(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}At(x||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function At(C,A,$){k&&k.abort(),k=null,x=C,z=($&&$.startUninterruptedRevalidation)===!0,bN(E.location,E.matches),R=($&&$.preventScrollReset)===!0,F=($&&$.enableViewTransition)===!0;let X=a||o,le=$&&$.overrideNavigation,Pe=aa(X,A,l),ve=($&&$.flushSync)===!0;if(!Pe){let Qt=Yn(404,{pathname:A.pathname}),{matches:Qn,route:zt}=VE(X);Gp(),ke(A,{matches:Qn,loaderData:{},errors:{[zt.id]:Qt}},{flushSync:ve});return}if(E.initialized&&!H&&L$(E.location,A)&&!($&&$.submission&&hr($.submission.formMethod))){ke(A,{matches:Pe},{flushSync:ve});return}k=new AbortController;let me=bl(t.history,A,k.signal,$&&$.submission),fe,Le;if($&&$.pendingError)Le={[ic(Pe).route.id]:$.pendingError};else if($&&$.submission&&hr($.submission.formMethod)){let Qt=await ei(me,A,$.submission,Pe,{replace:$.replace,flushSync:ve});if(Qt.shortCircuited)return;fe=Qt.pendingActionData,Le=Qt.pendingActionError,le=Rm(A,$.submission),ve=!1,me=new Request(me.url,{signal:me.signal})}let{shortCircuited:Bt,loaderData:Ae,errors:tt}=await Pi(me,A,Pe,le,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,ve,fe,Le);Bt||(k=null,ke(A,Et({matches:Pe},fe?{actionData:fe}:{},{loaderData:Ae,errors:tt})))}async function ei(C,A,$,X,le){le===void 0&&(le={}),q();let Pe=j$(A,$);Se({navigation:Pe},{flushSync:le.flushSync===!0});let ve,me=sy(X,A);if(!me.route.action&&!me.route.lazy)ve={type:vt.error,error:Yn(405,{method:C.method,pathname:A.pathname,routeId:me.route.id})};else if(ve=await Il("action",C,me,X,s,i,l,c.v7_relativeSplatPath),C.signal.aborted)return{shortCircuited:!0};if(zs(ve)){let fe;return le&&le.replace!=null?fe=le.replace:fe=ve.location===E.location.pathname+E.location.search,await N(E,ve,{submission:$,replace:fe}),{shortCircuited:!0}}if(la(ve)){let fe=ic(X,me.route.id);return(le&&le.replace)!==!0&&(x=bt.Push),{pendingActionData:{},pendingActionError:{[fe.route.id]:ve.error}}}if(Bs(ve))throw Yn(400,{type:"defer-action"});return{pendingActionData:{[me.route.id]:ve.data}}}async function Pi(C,A,$,X,le,Pe,ve,me,fe,Le,Bt){let Ae=X||Rm(A,le),tt=le||Pe||jE(Ae),Qt=a||o,[Qn,zt]=NE(t.history,E,$,tt,A,c.v7_partialHydration&&me===!0,H,te,ce,qe,ye,oe,Qt,l,Le,Bt);if(Gp(Je=>!($&&$.some(dt=>dt.route.id===Je))||Qn&&Qn.some(dt=>dt.route.id===Je)),O=++V,Qn.length===0&&zt.length===0){let Je=Do();return ke(A,Et({matches:$,loaderData:{},errors:Bt||null},Le?{actionData:Le}:{},Je?{fetchers:new Map(E.fetchers)}:{}),{flushSync:fe}),{shortCircuited:!0}}if(!z&&(!c.v7_partialHydration||!me)){zt.forEach(dt=>{let Cr=E.fetchers.get(dt.key),Xu=Rl(void 0,Cr?Cr.data:void 0);E.fetchers.set(dt.key,Xu)});let Je=Le||E.actionData;Se(Et({navigation:Ae},Je?Object.keys(Je).length===0?{actionData:null}:{actionData:Je}:{},zt.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:fe})}zt.forEach(Je=>{K.has(Je.key)&&yn(Je.key),Je.controller&&K.set(Je.key,Je.controller)});let Mo=()=>zt.forEach(Je=>yn(Je.key));k&&k.signal.addEventListener("abort",Mo);let{results:Qp,loaderResults:Lo,fetcherResults:ki}=await re(E.matches,$,Qn,zt,C);if(C.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Mo),zt.forEach(Je=>K.delete(Je.key));let Ds=FE(Qp);if(Ds){if(Ds.idx>=Qn.length){let Je=zt[Ds.idx-Qn.length].key;oe.add(Je)}return await N(E,Ds.result,{replace:ve}),{shortCircuited:!0}}let{loaderData:Yp,errors:Xp}=ME(E,$,Qn,Lo,Bt,zt,ki,Ze);Ze.forEach((Je,dt)=>{Je.subscribe(Cr=>{(Cr||Je.done)&&Ze.delete(dt)})});let Zp=Do(),Vo=Oo(O),Yu=Zp||Vo||zt.length>0;return Et({loaderData:Yp,errors:Xp},Yu?{fetchers:new Map(E.fetchers)}:{})}function Gu(C,A,$,X){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K.has(C)&&yn(C);let le=(X&&X.unstable_flushSync)===!0,Pe=a||o,ve=ry(E.location,E.matches,l,c.v7_prependBasename,$,c.v7_relativeSplatPath,A,X==null?void 0:X.relative),me=aa(Pe,ve,l);if(!me){ue(C,A,Yn(404,{pathname:ve}),{flushSync:le});return}let{path:fe,submission:Le,error:Bt}=kE(c.v7_normalizeFormMethod,!0,ve,X);if(Bt){ue(C,A,Bt,{flushSync:le});return}let Ae=sy(me,fe);if(R=(X&&X.preventScrollReset)===!0,Le&&hr(Le.formMethod)){b(C,A,fe,Ae,me,le,Le);return}ye.set(C,{routeId:A,path:fe}),P(C,A,fe,Ae,me,le,Le)}async function b(C,A,$,X,le,Pe,ve){if(q(),ye.delete(C),!X.route.action&&!X.route.lazy){let dt=Yn(405,{method:ve.formMethod,pathname:$,routeId:A});ue(C,A,dt,{flushSync:Pe});return}let me=E.fetchers.get(C);U(C,B$(ve,me),{flushSync:Pe});let fe=new AbortController,Le=bl(t.history,$,fe.signal,ve);K.set(C,fe);let Bt=V,Ae=await Il("action",Le,X,le,s,i,l,c.v7_relativeSplatPath);if(Le.signal.aborted){K.get(C)===fe&&K.delete(C);return}if(c.v7_fetcherPersist&&qe.has(C)){if(zs(Ae)||la(Ae)){U(C,Mi(void 0));return}}else{if(zs(Ae))if(K.delete(C),O>Bt){U(C,Mi(void 0));return}else return oe.add(C),U(C,Rl(ve)),N(E,Ae,{fetcherSubmission:ve});if(la(Ae)){ue(C,A,Ae.error);return}}if(Bs(Ae))throw Yn(400,{type:"defer-action"});let tt=E.navigation.location||E.location,Qt=bl(t.history,tt,fe.signal),Qn=a||o,zt=E.navigation.state!=="idle"?aa(Qn,E.navigation.location,l):E.matches;Ne(zt,"Didn't find any matches after fetcher action");let Mo=++V;G.set(C,Mo);let Qp=Rl(ve,Ae.data);E.fetchers.set(C,Qp);let[Lo,ki]=NE(t.history,E,zt,ve,tt,!1,H,te,ce,qe,ye,oe,Qn,l,{[X.route.id]:Ae.data},void 0);ki.filter(dt=>dt.key!==C).forEach(dt=>{let Cr=dt.key,Xu=E.fetchers.get(Cr),CN=Rl(void 0,Xu?Xu.data:void 0);E.fetchers.set(Cr,CN),K.has(Cr)&&yn(Cr),dt.controller&&K.set(Cr,dt.controller)}),Se({fetchers:new Map(E.fetchers)});let Ds=()=>ki.forEach(dt=>yn(dt.key));fe.signal.addEventListener("abort",Ds);let{results:Yp,loaderResults:Xp,fetcherResults:Zp}=await re(E.matches,zt,Lo,ki,Qt);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",Ds),G.delete(C),K.delete(C),ki.forEach(dt=>K.delete(dt.key));let Vo=FE(Yp);if(Vo){if(Vo.idx>=Lo.length){let dt=ki[Vo.idx-Lo.length].key;oe.add(dt)}return N(E,Vo.result)}let{loaderData:Yu,errors:Je}=ME(E,E.matches,Lo,Xp,void 0,ki,Zp,Ze);if(E.fetchers.has(C)){let dt=Mi(Ae.data);E.fetchers.set(C,dt)}Oo(Mo),E.navigation.state==="loading"&&Mo>O?(Ne(x,"Expected pending action"),k&&k.abort(),ke(E.navigation.location,{matches:zt,loaderData:Yu,errors:Je,fetchers:new Map(E.fetchers)})):(Se({errors:Je,loaderData:LE(E.loaderData,Yu,zt,Je),fetchers:new Map(E.fetchers)}),H=!1)}async function P(C,A,$,X,le,Pe,ve){let me=E.fetchers.get(C);U(C,Rl(ve,me?me.data:void 0),{flushSync:Pe});let fe=new AbortController,Le=bl(t.history,$,fe.signal);K.set(C,fe);let Bt=V,Ae=await Il("loader",Le,X,le,s,i,l,c.v7_relativeSplatPath);if(Bs(Ae)&&(Ae=await eb(Ae,Le.signal,!0)||Ae),K.get(C)===fe&&K.delete(C),!Le.signal.aborted){if(qe.has(C)){U(C,Mi(void 0));return}if(zs(Ae))if(O>Bt){U(C,Mi(void 0));return}else{oe.add(C),await N(E,Ae);return}if(la(Ae)){ue(C,A,Ae.error);return}Ne(!Bs(Ae),"Unhandled fetcher deferred data"),U(C,Mi(Ae.data))}}async function N(C,A,$){let{submission:X,fetcherSubmission:le,replace:Pe}=$===void 0?{}:$;A.revalidate&&(H=!0);let ve=kc(C.location,A.location,{_isRedirect:!0});if(Ne(ve,"Expected a location on the redirect navigation"),n){let tt=!1;if(A.reloadDocument)tt=!0;else if(YI.test(A.location)){const Qt=t.history.createURL(A.location);tt=Qt.origin!==e.location.origin||gu(Qt.pathname,l)==null}if(tt){Pe?e.location.replace(A.location):e.location.assign(A.location);return}}k=null;let me=Pe===!0?bt.Replace:bt.Push,{formMethod:fe,formAction:Le,formEncType:Bt}=C.navigation;!X&&!le&&fe&&Le&&Bt&&(X=jE(C.navigation));let Ae=X||le;if(A$.has(A.status)&&Ae&&hr(Ae.formMethod))await At(me,ve,{submission:Et({},Ae,{formAction:A.location}),preventScrollReset:R});else{let tt=Rm(ve,X);await At(me,ve,{overrideNavigation:tt,fetcherSubmission:le,preventScrollReset:R})}}async function re(C,A,$,X,le){let Pe=await Promise.all([...$.map(fe=>Il("loader",le,fe,A,s,i,l,c.v7_relativeSplatPath)),...X.map(fe=>fe.matches&&fe.match&&fe.controller?Il("loader",bl(t.history,fe.path,fe.controller.signal),fe.match,fe.matches,s,i,l,c.v7_relativeSplatPath):{type:vt.error,error:Yn(404,{pathname:fe.path})})]),ve=Pe.slice(0,$.length),me=Pe.slice($.length);return await Promise.all([UE(C,$,ve,ve.map(()=>le.signal),!1,E.loaderData),UE(C,X.map(fe=>fe.match),me,X.map(fe=>fe.controller?fe.controller.signal:null),!0)]),{results:Pe,loaderResults:ve,fetcherResults:me}}function q(){H=!0,te.push(...Gp()),ye.forEach((C,A)=>{K.has(A)&&(ce.push(A),yn(A))})}function U(C,A,$){$===void 0&&($={}),E.fetchers.set(C,A),Se({fetchers:new Map(E.fetchers)},{flushSync:($&&$.flushSync)===!0})}function ue(C,A,$,X){X===void 0&&(X={});let le=ic(E.matches,A);ht(C),Se({errors:{[le.route.id]:$},fetchers:new Map(E.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Ke(C){return c.v7_fetcherPersist&&(et.set(C,(et.get(C)||0)+1),qe.has(C)&&qe.delete(C)),E.fetchers.get(C)||P$}function ht(C){let A=E.fetchers.get(C);K.has(C)&&!(A&&A.state==="loading"&&G.has(C))&&yn(C),ye.delete(C),G.delete(C),oe.delete(C),qe.delete(C),E.fetchers.delete(C)}function Gn(C){if(c.v7_fetcherPersist){let A=(et.get(C)||0)-1;A<=0?(et.delete(C),qe.add(C)):et.set(C,A)}else ht(C);Se({fetchers:new Map(E.fetchers)})}function yn(C){let A=K.get(C);Ne(A,"Expected fetch controller: "+C),A.abort(),K.delete(C)}function Qu(C){for(let A of C){let $=Ke(A),X=Mi($.data);E.fetchers.set(A,X)}}function Do(){let C=[],A=!1;for(let $ of oe){let X=E.fetchers.get($);Ne(X,"Expected fetcher: "+$),X.state==="loading"&&(oe.delete($),C.push($),A=!0)}return Qu(C),A}function Oo(C){let A=[];for(let[$,X]of G)if(X<C){let le=E.fetchers.get($);Ne(le,"Expected fetcher: "+$),le.state==="loading"&&(yn($),G.delete($),A.push($))}return Qu(A),A.length>0}function Kp(C,A){let $=E.blockers.get(C)||xl;return Me.get(C)!==A&&Me.set(C,A),$}function pl(C){E.blockers.delete(C),Me.delete(C)}function $o(C,A){let $=E.blockers.get(C)||xl;Ne($.state==="unblocked"&&A.state==="blocked"||$.state==="blocked"&&A.state==="blocked"||$.state==="blocked"&&A.state==="proceeding"||$.state==="blocked"&&A.state==="unblocked"||$.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+A.state);let X=new Map(E.blockers);X.set(C,A),Se({blockers:X})}function ml(C){let{currentLocation:A,nextLocation:$,historyAction:X}=C;if(Me.size===0)return;Me.size>1&&ao(!1,"A router only supports one blocker at a time");let le=Array.from(Me.entries()),[Pe,ve]=le[le.length-1],me=E.blockers.get(Pe);if(!(me&&me.state==="proceeding")&&ve({currentLocation:A,nextLocation:$,historyAction:X}))return Pe}function Gp(C){let A=[];return Ze.forEach(($,X)=>{(!C||C(X))&&($.cancel(),A.push(X),Ze.delete(X))}),A}function IN(C,A,$){if(f=C,y=A,p=$||null,!v&&E.navigation===bm){v=!0;let X=vw(E.location,E.matches);X!=null&&Se({restoreScrollPosition:X})}return()=>{f=null,y=null,p=null}}function yw(C,A){return p&&p(C,A.map(X=>s$(X,E.loaderData)))||C.key}function bN(C,A){if(f&&y){let $=yw(C,A);f[$]=y()}}function vw(C,A){if(f){let $=yw(C,A),X=f[$];if(typeof X=="number")return X}return null}function RN(C){s={},a=ny(C,i,void 0,s)}return I={get basename(){return l},get future(){return c},get state(){return E},get routes(){return o},get window(){return e},initialize:je,subscribe:Be,enableScrollRestoration:IN,navigate:Ut,fetch:Gu,revalidate:jt,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:Ke,deleteFetcher:Gn,dispose:Fe,getBlocker:Kp,deleteBlocker:pl,_internalFetchControllers:K,_internalActiveDeferreds:Ze,_internalSetRoutes:RN},I}function D$(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ry(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=f_(i||".",d_(l,s),gu(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!p_(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:os([n,u.pathname])),mu(u)}function kE(t,e,n,r){if(!r||!D$(r))return{path:n};if(r.formMethod&&!U$(r.formMethod))return{path:n,error:Yn(405,{method:r.formMethod})};let i=()=>({path:n,error:Yn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=JI(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!hr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,y)=>{let[v,w]=y;return""+p+v+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!hr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ne(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=iy(r.formData),c=r.formData;else if(r.body instanceof FormData)l=iy(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=$E(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=$E(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(hr(u.formMethod))return{path:n,submission:u};let d=Ci(n);return e&&d.search&&p_(d.search)&&l.append("index",""),d.search="?"+l,{path:mu(d),submission:u}}function O$(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function NE(t,e,n,r,i,s,o,a,l,c,u,d,f,p,y,v){let w=v?Object.values(v)[0]:y?Object.values(y)[0]:void 0,g=t.createURL(e.location),m=t.createURL(i),_=v?Object.keys(v)[0]:void 0,I=O$(n,_).filter((x,R)=>{let{route:k}=x;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if($$(e.loaderData,e.matches[R],x)||a.some(M=>M===x.route.id))return!0;let F=e.matches[R],W=x;return DE(x,Et({currentUrl:g,currentParams:F.params,nextUrl:m,nextParams:W.params},r,{actionResult:w,defaultShouldRevalidate:o||g.pathname+g.search===m.pathname+m.search||g.search!==m.search||ZI(F,W)}))}),E=[];return u.forEach((x,R)=>{if(s||!n.some(z=>z.route.id===x.routeId)||c.has(R))return;let k=aa(f,x.path,p);if(!k){E.push({key:R,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(R),W=sy(k,x.path),M=!1;d.has(R)?M=!1:l.includes(R)?M=!0:F&&F.state!=="idle"&&F.data===void 0?M=o:M=DE(W,Et({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:w,defaultShouldRevalidate:o})),M&&E.push({key:R,routeId:x.routeId,path:x.path,matches:k,match:W,controller:new AbortController})}),[I,E]}function $$(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function ZI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function DE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function OE(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ne(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ao(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!r$.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Et({},e(i),{lazy:void 0}))}async function Il(t,e,n,r,i,s,o,a,l){l===void 0&&(l={});let c,u,d,f=v=>{let w,g=new Promise((m,_)=>w=_);return d=()=>w(),e.signal.addEventListener("abort",d),Promise.race([v({request:e,params:n.params,context:l.requestContext}),g])};try{let v=n.route[t];if(n.route.lazy)if(v){let w,g=await Promise.all([f(v).catch(m=>{w=m}),OE(n.route,s,i)]);if(w)throw w;u=g[0]}else if(await OE(n.route,s,i),v=n.route[t],v)u=await f(v);else if(t==="action"){let w=new URL(e.url),g=w.pathname+w.search;throw Yn(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:vt.data,data:void 0};else if(v)u=await f(v);else{let w=new URL(e.url),g=w.pathname+w.search;throw Yn(404,{pathname:g})}Ne(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=vt.error,u=v}finally{d&&e.signal.removeEventListener("abort",d)}if(F$(u)){let v=u.status;if(C$.has(v)){let g=u.headers.get("Location");if(Ne(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!YI.test(g))g=ry(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,g,a);else if(!l.isStaticRequest){let m=new URL(e.url),_=g.startsWith("//")?new URL(m.protocol+g):new URL(g),S=gu(_.pathname,o)!=null;_.origin===m.origin&&S&&(g=_.pathname+_.search+_.hash)}if(l.isStaticRequest)throw u.headers.set("Location",g),u;return{type:vt.redirect,status:v,location:g,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===vt.error?vt.error:vt.data,response:u};let w;try{let g=u.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?u.body==null?w=null:w=await u.json():w=await u.text()}catch(g){return{type:vt.error,error:g}}return c===vt.error?{type:c,error:new h_(v,u.statusText,w),headers:u.headers}:{type:vt.data,data:w,statusCode:u.status,headers:u.headers}}if(c===vt.error)return{type:c,error:u};if(V$(u)){var p,y;return{type:vt.deferred,deferredData:u,statusCode:(p=u.init)==null?void 0:p.status,headers:((y=u.init)==null?void 0:y.headers)&&new Headers(u.init.headers)}}return{type:vt.data,data:u}}function bl(t,e,n,r){let i=t.createURL(JI(e)).toString(),s={signal:n};if(r&&hr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=iy(r.formData):s.body=r.formData}return new Request(i,s)}function iy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function $E(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function M$(t,e,n,r,i){let s={},o=null,a,l=!1,c={};return n.forEach((u,d)=>{let f=e[d].route.id;if(Ne(!zs(u),"Cannot handle redirect results in processLoaderData"),la(u)){let p=ic(t,f),y=u.error;r&&(y=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=y),s[f]=void 0,l||(l=!0,a=GI(u.error)?u.error.status:500),u.headers&&(c[f]=u.headers)}else Bs(u)?(i.set(f,u.deferredData),s[f]=u.deferredData.data):s[f]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[f]=u.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function ME(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=M$(e,n,r,i,a);for(let u=0;u<s.length;u++){let{key:d,match:f,controller:p}=s[u];Ne(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let y=o[u];if(!(p&&p.signal.aborted))if(la(y)){let v=ic(t.matches,f==null?void 0:f.route.id);c&&c[v.route.id]||(c=Et({},c,{[v.route.id]:y.error})),t.fetchers.delete(d)}else if(zs(y))Ne(!1,"Unhandled fetcher revalidation redirect");else if(Bs(y))Ne(!1,"Unhandled fetcher deferred data");else{let v=Mi(y.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:c}}function LE(t,e,n,r){let i=Et({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function ic(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function VE(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new h_(t||500,o,new Error(a),!0)}function FE(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(zs(n))return{result:n,idx:e}}}function JI(t){let e=typeof t=="string"?Ci(t):t;return mu(Et({},e,{hash:""}))}function L$(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Bs(t){return t.type===vt.deferred}function la(t){return t.type===vt.error}function zs(t){return(t&&t.type)===vt.redirect}function V$(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function F$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function U$(t){return R$.has(t.toLowerCase())}function hr(t){return I$.has(t.toLowerCase())}async function UE(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!ZI(c,l)&&(s&&s[l.route.id])!==void 0;if(Bs(a)&&(i||u)){let d=r[o];Ne(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await eb(a,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function eb(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:vt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:vt.error,error:i}}return{type:vt.data,data:t.deferredData.data}}}function p_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function sy(t,e){let n=typeof e=="string"?Ci(e).search:e.search;if(t[t.length-1].route.index&&p_(n||""))return t[t.length-1];let r=KI(t);return r[r.length-1]}function jE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Rm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function j$(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Rl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function B$(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Mi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function z$(t,e){try{let n=t.sessionStorage.getItem(XI);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function q$(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(XI,JSON.stringify(n))}catch(r){ao(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}const Kh=h.createContext(null),tb=h.createContext(null),yu=h.createContext(null),Gh=h.createContext(null),bs=h.createContext({outlet:null,matches:[],isDataRoute:!1}),nb=h.createContext(null);function vu(){return h.useContext(Gh)!=null}function _u(){return vu()||Ne(!1),h.useContext(Gh).location}function rb(t){h.useContext(yu).static||h.useLayoutEffect(t)}function Rs(){let{isDataRoute:t}=h.useContext(bs);return t?i2():W$()}function W$(){vu()||Ne(!1);let t=h.useContext(Kh),{basename:e,future:n,navigator:r}=h.useContext(yu),{matches:i}=h.useContext(bs),{pathname:s}=_u(),o=JSON.stringify(d_(i,n.v7_relativeSplatPath)),a=h.useRef(!1);return rb(()=>{a.current=!0}),h.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=f_(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:os([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const H$=h.createContext(null);function K$(t){let e=h.useContext(bs).outlet;return e&&h.createElement(H$.Provider,{value:t},e)}function G$(t,e,n,r){vu()||Ne(!1);let{navigator:i}=h.useContext(yu),{matches:s}=h.useContext(bs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_u(),u;if(e){var d;let w=typeof e=="string"?Ci(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||Ne(!1),u=w}else u=c;let f=u.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",y=aa(t,{pathname:p}),v=J$(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:os([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:os([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?h.createElement(Gh.Provider,{value:{location:Nc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:bt.Pop}},v):v}function Q$(){let t=r2(),e=GI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}const Y$=h.createElement(Q$,null);class X$ extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(bs.Provider,{value:this.props.routeContext},h.createElement(nb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z$(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(Kh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(bs.Provider,{value:e},r)}function J$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||Ne(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,y=!1,v=null,w=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||Y$,l&&(c<0&&f===0?(s2("route-fallback",!1),y=!0,w=null):c===f&&(y=!0,w=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),m=()=>{let _;return p?_=v:y?_=w:d.route.Component?_=h.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,h.createElement(Z$,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?h.createElement(X$,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var ib=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ib||{}),$f=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($f||{});function e2(t){let e=h.useContext(Kh);return e||Ne(!1),e}function t2(t){let e=h.useContext(tb);return e||Ne(!1),e}function n2(t){let e=h.useContext(bs);return e||Ne(!1),e}function sb(t){let e=n2(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function r2(){var t;let e=h.useContext(nb),n=t2($f.UseRouteError),r=sb($f.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function i2(){let{router:t}=e2(ib.UseNavigateStable),e=sb($f.UseNavigateStable),n=h.useRef(!1);return rb(()=>{n.current=!0}),h.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nc({fromRouteId:e},s)))},[t,e])}const BE={};function s2(t,e,n){!e&&!BE[t]&&(BE[t]=!0)}function Cl(t){let{to:e,replace:n,state:r,relative:i}=t;vu()||Ne(!1);let{future:s,static:o}=h.useContext(yu),{matches:a}=h.useContext(bs),{pathname:l}=_u(),c=Rs(),u=f_(e,d_(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return h.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function o2(t){return K$(t.context)}function a2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bt.Pop,navigator:s,static:o=!1,future:a}=t;vu()&&Ne(!1);let l=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:s,static:o,future:Nc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ci(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:y="default"}=r,v=h.useMemo(()=>{let w=gu(u,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:p,key:y},navigationType:i}},[l,u,d,f,p,y,i]);return v==null?null:h.createElement(yu.Provider,{value:c},h.createElement(Gh.Provider,{children:n,value:v}))}new Promise(()=>{});function l2(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:h.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:h.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:h.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}function oy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function c2(t,e){let n=oy(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}function u2(t,e){return N$({basename:e==null?void 0:e.basename,future:Mf({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:e$({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||d2(),routes:t,mapRouteProperties:l2,window:e==null?void 0:e.window}).initialize()}function d2(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Mf({},e,{errors:f2(e.errors)})),e}function f2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new h_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const h2=h.createContext({isTransitioning:!1}),p2=h.createContext(new Map),m2="startTransition",zE=FS[m2],g2="flushSync",qE=JO[g2];function y2(t){zE?zE(t):t()}function Al(t){qE?qE(t):t()}let v2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function _2(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=h.useState(n.state),[o,a]=h.useState(),[l,c]=h.useState({isTransitioning:!1}),[u,d]=h.useState(),[f,p]=h.useState(),[y,v]=h.useState(),w=h.useRef(new Map),{v7_startTransition:g}=r||{},m=h.useCallback(x=>{g?y2(x):x()},[g]),_=h.useCallback((x,R)=>{let{deletedFetchers:k,unstable_flushSync:F,unstable_viewTransitionOpts:W}=R;k.forEach(z=>w.current.delete(z)),x.fetchers.forEach((z,H)=>{z.data!==void 0&&w.current.set(H,z.data)});let M=n.window==null||typeof n.window.document.startViewTransition!="function";if(!W||M){F?Al(()=>s(x)):m(()=>s(x));return}if(F){Al(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:W.currentLocation,nextLocation:W.nextLocation})});let z=n.window.document.startViewTransition(()=>{Al(()=>s(x))});z.finished.finally(()=>{Al(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Al(()=>p(z));return}f?(u&&u.resolve(),f.skipTransition(),v({state:x,currentLocation:W.currentLocation,nextLocation:W.nextLocation})):(a(x),c({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}))},[n.window,f,u,w,m]);h.useLayoutEffect(()=>n.subscribe(_),[n,_]),h.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new v2)},[l]),h.useEffect(()=>{if(u&&o&&n.window){let x=o,R=u.promise,k=n.window.document.startViewTransition(async()=>{m(()=>s(x)),await R});k.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(k)}},[m,o,u,n.window]),h.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,f,i.location,o]),h.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))},[l.isTransitioning,y]),h.useEffect(()=>{},[]);let S=h.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,R,k)=>n.navigate(x,{state:R,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(x,R,k)=>n.navigate(x,{replace:!0,state:R,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),I=n.basename||"/",E=h.useMemo(()=>({router:n,navigator:S,static:!1,basename:I}),[n,S,I]);return h.createElement(h.Fragment,null,h.createElement(Kh.Provider,{value:E},h.createElement(tb.Provider,{value:i},h.createElement(p2.Provider,{value:w.current},h.createElement(h2.Provider,{value:l},h.createElement(a2,{basename:I,location:i.location,navigationType:i.historyAction,navigator:S,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?h.createElement(w2,{routes:n.routes,future:n.future,state:i}):e))))),null)}function w2(t){let{routes:e,future:n,state:r}=t;return G$(e,void 0,r,n)}var WE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(WE||(WE={}));var HE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(HE||(HE={}));function E2(t){let e=h.useRef(oy(t)),n=h.useRef(!1),r=_u(),i=h.useMemo(()=>c2(r.search,n.current?null:e.current),[r.search]),s=Rs(),o=h.useCallback((a,l)=>{const c=oy(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var ob={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},KE=Ee.createContext&&Ee.createContext(ob),T2=["attr","size","title"];function S2(t,e){if(t==null)return{};var n=x2(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){I2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I2(t,e,n){return e=b2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b2(t){var e=R2(t,"string");return typeof e=="symbol"?e:String(e)}function R2(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ab(t){return t&&t.map((e,n)=>Ee.createElement(e.tag,Vf({key:n},e.attr),ab(e.child)))}function wu(t){return e=>Ee.createElement(C2,Lf({attr:Vf({},t.attr)},e),ab(t.child))}function C2(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=S2(t,T2),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ee.createElement("svg",Lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Vf(Vf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ee.createElement("title",null,s),t.children)};return KE!==void 0?Ee.createElement(KE.Consumer,null,n=>e(n)):e(ob)}function A2(t){return wu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1a2 2 0 0 1 2 2v2H6V3a2 2 0 0 1 2-2zm3 4V3a3 3 0 1 0-6 0v2H3.36a1.5 1.5 0 0 0-1.483 1.277L.85 13.13A2.5 2.5 0 0 0 3.322 16h9.355a2.5 2.5 0 0 0 2.473-2.87l-1.028-6.853A1.5 1.5 0 0 0 12.64 5H11zm-1 1v1.5a.5.5 0 0 0 1 0V6h1.639a.5.5 0 0 1 .494.426l1.028 6.851A1.5 1.5 0 0 1 12.678 15H3.322a1.5 1.5 0 0 1-1.483-1.723l1.028-6.851A.5.5 0 0 1 3.36 6H5v1.5a.5.5 0 1 0 1 0V6h4z"},child:[]}]})(t)}function P2(t){return wu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"},child:[]}]})(t)}function k2(t){return wu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"},child:[]}]})(t)}function N2(t){return wu({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:`M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31
		c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z
		 M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02
		z`},child:[]}]}]})(t)}const D2=()=>T.jsxs("div",{className:"flex border-b border-solid border-black items-center",children:[T.jsx("input",{className:"border-none bg-none focus:outline-none m-2 w-24 text-xs"}),T.jsx("button",{className:"button text-base",children:T.jsx(N2,{})})]}),O2=()=>{const t=Rs(),e=()=>{t("/")},n=()=>{t("/cart")},r=()=>{t("/mypage")};return T.jsxs("header",{className:"flex items-center justify-center px-8 py-4 border-b border-slate-200",children:[T.jsxs("div",{className:"w-full",children:[T.jsx("button",{className:"button headerCategoryItem",children:"Men"}),T.jsx("button",{className:"button headerCategoryItem",children:"Women"})]}),T.jsx("button",{className:"button text-5xl font-bold",onClick:e,children:"XSO"}),T.jsxs("div",{className:"flex items-center w-full justify-end",children:[T.jsx("div",{className:"navItem",children:T.jsx(D2,{})}),T.jsx("div",{className:"headerNavItem",children:T.jsx("button",{className:"button headerIconBtn",onClick:n,children:T.jsx(A2,{})})}),T.jsx("div",{className:"headerNavItem",children:T.jsx("button",{className:"button headerIconBtn",onClick:r,children:T.jsx(P2,{})})})]})]})},lb=()=>T.jsxs(T.Fragment,{children:[T.jsx(O2,{}),T.jsx(o2,{})]}),$2=()=>T.jsx("div",{children:"Cart"}),M2=()=>T.jsx("div",{children:"MyOrder"});var He;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(He||(He={}));var QE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(QE||(QE={}));const ne=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ls=t=>{switch(typeof t){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return isNaN(t)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(t)?ne.array:t===null?ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ne.promise:typeof Map<"u"&&t instanceof Map?ne.map:typeof Set<"u"&&t instanceof Set?ne.set:typeof Date<"u"&&t instanceof Date?ne.date:ne.object;default:return ne.unknown}},B=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ur extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ur.create=t=>new Ur(t);const Ff=(t,e)=>{let n;switch(t.code){case B.invalid_type:t.received===ne.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,He.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${He.joinValues(t.keys,", ")}`;break;case B.invalid_union:n="Invalid input";break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${He.joinValues(t.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${He.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:n="Invalid function arguments";break;case B.invalid_return_type:n="Invalid function return type";break;case B.invalid_date:n="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:He.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case B.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case B.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case B.custom:n="Invalid input";break;case B.invalid_intersection_types:n="Intersection results could not be merged";break;case B.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:n="Number must be finite";break;default:n=e.defaultError,He.assertNever(t)}return{message:n}};let L2=Ff;function ay(){return L2}const ly=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}};function se(t,e){const n=ly({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ay(),Ff].filter(r=>!!r)});t.common.issues.push(n)}class In{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return In.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return be;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const be=Object.freeze({status:"aborted"}),V2=t=>({status:"dirty",value:t}),Mn=t=>({status:"valid",value:t}),YE=t=>t.status==="aborted",XE=t=>t.status==="dirty",Uf=t=>t.status==="valid",cy=t=>typeof Promise<"u"&&t instanceof Promise;var he;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(he||(he={}));class Qr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZE=(t,e)=>{if(Uf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ur(t.common.issues);return this._error=n,this._error}}};function Ie(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class De{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ls(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new In,ctx:{common:e.parent.common,data:e.data,parsedType:Ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(cy(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)},s=this._parseSync({data:e,path:i.path,parent:i});return ZE(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ls(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(cy(i)?i:Promise.resolve(i));return ZE(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:B.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new _i({schema:this,typeName:ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return as.create(this,this._def)}nullable(){return La.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jr.create(this,this._def)}promise(){return $c.create(this,this._def)}or(e){return zf.create([this,e],this._def)}and(e){return qf.create(this,e,this._def)}transform(e){return new _i({...Ie(this._def),schema:this,typeName:ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Qf({...Ie(this._def),innerType:this,defaultValue:n,typeName:ge.ZodDefault})}brand(){return new Y2({typeName:ge.ZodBranded,type:this,...Ie(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new my({...Ie(this._def),innerType:this,catchValue:n,typeName:ge.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Qh.create(this,e)}readonly(){return yy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const F2=/^c[^\s-]{8,}$/i,U2=/^[a-z][a-z0-9]*$/,j2=/^[0-9A-HJKMNP-TV-Z]{26}$/,B2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,z2=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,q2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cm;const W2=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,H2=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,K2=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function G2(t,e){return!!((e==="v4"||!e)&&W2.test(t)||(e==="v6"||!e)&&H2.test(t))}class li extends De{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ne.string){const s=this._getOrReturnCtx(e);return se(s,{code:B.invalid_type,expected:ne.string,received:s.parsedType}),be}const r=new In;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),se(i,{code:B.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),se(i,{code:B.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?se(i,{code:B.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&se(i,{code:B.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")z2.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"email",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Cm||(Cm=new RegExp(q2,"u")),Cm.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"emoji",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")B2.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"uuid",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")F2.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"cuid",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")U2.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"cuid2",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")j2.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"ulid",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),se(i,{validation:"url",code:B.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"regex",code:B.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),se(i,{code:B.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),se(i,{code:B.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),se(i,{code:B.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?K2(s).test(e.data)||(i=this._getOrReturnCtx(e,i),se(i,{code:B.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?G2(e.data,s.version)||(i=this._getOrReturnCtx(e,i),se(i,{validation:"ip",code:B.invalid_string,message:s.message}),r.dirty()):He.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:B.invalid_string,...he.errToObj(r)})}_addCheck(e){return new li({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...he.errToObj(e)})}url(e){return this._addCheck({kind:"url",...he.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...he.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...he.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...he.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...he.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...he.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...he.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...he.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...he.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...he.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...he.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...he.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...he.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...he.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...he.errToObj(n)})}nonempty(e){return this.min(1,he.errToObj(e))}trim(){return new li({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new li({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new li({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}li.create=t=>{var e;return new li({checks:[],typeName:ge.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ie(t)})};function Q2(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Oa extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ne.number){const s=this._getOrReturnCtx(e);return se(s,{code:B.invalid_type,expected:ne.number,received:s.parsedType}),be}let r;const i=new In;for(const s of this._def.checks)s.kind==="int"?He.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:B.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:B.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:B.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Q2(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),se(r,{code:B.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:B.not_finite,message:s.message}),i.dirty()):He.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,i){return new Oa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(i)}]})}_addCheck(e){return new Oa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:he.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:he.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&He.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Oa.create=t=>new Oa({checks:[],typeName:ge.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ie(t)});class $a extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ne.bigint){const s=this._getOrReturnCtx(e);return se(s,{code:B.invalid_type,expected:ne.bigint,received:s.parsedType}),be}let r;const i=new In;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:B.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:B.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),se(r,{code:B.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):He.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,i){return new $a({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(i)}]})}_addCheck(e){return new $a({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$a.create=t=>{var e;return new $a({checks:[],typeName:ge.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ie(t)})};class uy extends De{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ne.boolean){const r=this._getOrReturnCtx(e);return se(r,{code:B.invalid_type,expected:ne.boolean,received:r.parsedType}),be}return Mn(e.data)}}uy.create=t=>new uy({typeName:ge.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ie(t)});class Dc extends De{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ne.date){const s=this._getOrReturnCtx(e);return se(s,{code:B.invalid_type,expected:ne.date,received:s.parsedType}),be}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return se(s,{code:B.invalid_date}),be}const r=new In;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),se(i,{code:B.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),se(i,{code:B.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):He.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Dc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:he.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:he.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Dc.create=t=>new Dc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ge.ZodDate,...Ie(t)});class dy extends De{_parse(e){if(this._getType(e)!==ne.symbol){const r=this._getOrReturnCtx(e);return se(r,{code:B.invalid_type,expected:ne.symbol,received:r.parsedType}),be}return Mn(e.data)}}dy.create=t=>new dy({typeName:ge.ZodSymbol,...Ie(t)});class jf extends De{_parse(e){if(this._getType(e)!==ne.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:B.invalid_type,expected:ne.undefined,received:r.parsedType}),be}return Mn(e.data)}}jf.create=t=>new jf({typeName:ge.ZodUndefined,...Ie(t)});class Bf extends De{_parse(e){if(this._getType(e)!==ne.null){const r=this._getOrReturnCtx(e);return se(r,{code:B.invalid_type,expected:ne.null,received:r.parsedType}),be}return Mn(e.data)}}Bf.create=t=>new Bf({typeName:ge.ZodNull,...Ie(t)});class Oc extends De{constructor(){super(...arguments),this._any=!0}_parse(e){return Mn(e.data)}}Oc.create=t=>new Oc({typeName:ge.ZodAny,...Ie(t)});class _a extends De{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mn(e.data)}}_a.create=t=>new _a({typeName:ge.ZodUnknown,...Ie(t)});class hs extends De{_parse(e){const n=this._getOrReturnCtx(e);return se(n,{code:B.invalid_type,expected:ne.never,received:n.parsedType}),be}}hs.create=t=>new hs({typeName:ge.ZodNever,...Ie(t)});class fy extends De{_parse(e){if(this._getType(e)!==ne.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:B.invalid_type,expected:ne.void,received:r.parsedType}),be}return Mn(e.data)}}fy.create=t=>new fy({typeName:ge.ZodVoid,...Ie(t)});class jr extends De{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ne.array)return se(n,{code:B.invalid_type,expected:ne.array,received:n.parsedType}),be;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(se(n,{code:o?B.too_big:B.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(se(n,{code:B.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(se(n,{code:B.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Qr(n,o,n.path,a)))).then(o=>In.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Qr(n,o,n.path,a)));return In.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new jr({...this._def,minLength:{value:e,message:he.toString(n)}})}max(e,n){return new jr({...this._def,maxLength:{value:e,message:he.toString(n)}})}length(e,n){return new jr({...this._def,exactLength:{value:e,message:he.toString(n)}})}nonempty(e){return this.min(1,e)}}jr.create=(t,e)=>new jr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ge.ZodArray,...Ie(e)});function Wo(t){if(t instanceof _t){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=as.create(Wo(r))}return new _t({...t._def,shape:()=>e})}else return t instanceof jr?new jr({...t._def,type:Wo(t.element)}):t instanceof as?as.create(Wo(t.unwrap())):t instanceof La?La.create(Wo(t.unwrap())):t instanceof vi?vi.create(t.items.map(e=>Wo(e))):t}class _t extends De{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=He.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ne.object){const c=this._getOrReturnCtx(e);return se(c,{code:B.invalid_type,expected:ne.object,received:c.parsedType}),be}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof hs&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Qr(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof hs){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(se(i,{code:B.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Qr(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key;c.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>In.mergeObjectSync(r,c)):In.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return he.errToObj,new _t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=he.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new _t({...this._def,unknownKeys:"strip"})}passthrough(){return new _t({...this._def,unknownKeys:"passthrough"})}extend(e){return new _t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ge.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new _t({...this._def,catchall:e})}pick(e){const n={};return He.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new _t({...this._def,shape:()=>n})}omit(e){const n={};return He.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new _t({...this._def,shape:()=>n})}deepPartial(){return Wo(this)}partial(e){const n={};return He.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new _t({...this._def,shape:()=>n})}required(e){const n={};return He.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof as;)s=s._def.innerType;n[r]=s}}),new _t({...this._def,shape:()=>n})}keyof(){return cb(He.objectKeys(this.shape))}}_t.create=(t,e)=>new _t({shape:()=>t,unknownKeys:"strip",catchall:hs.create(),typeName:ge.ZodObject,...Ie(e)});_t.strictCreate=(t,e)=>new _t({shape:()=>t,unknownKeys:"strict",catchall:hs.create(),typeName:ge.ZodObject,...Ie(e)});_t.lazycreate=(t,e)=>new _t({shape:t,unknownKeys:"strip",catchall:hs.create(),typeName:ge.ZodObject,...Ie(e)});class zf extends De{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Ur(a.ctx.common.issues));return se(n,{code:B.invalid_union,unionErrors:o}),be}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Ur(l));return se(n,{code:B.invalid_union,unionErrors:a}),be}}get options(){return this._def.options}}zf.create=(t,e)=>new zf({options:t,typeName:ge.ZodUnion,...Ie(e)});const Qd=t=>t instanceof Hf?Qd(t.schema):t instanceof _i?Qd(t.innerType()):t instanceof Kf?[t.value]:t instanceof lo?t.options:t instanceof Gf?Object.keys(t.enum):t instanceof Qf?Qd(t._def.innerType):t instanceof jf?[void 0]:t instanceof Bf?[null]:null;class m_ extends De{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.object)return se(n,{code:B.invalid_type,expected:ne.object,received:n.parsedType}),be;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Qd(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new m_({typeName:ge.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Ie(r)})}}function hy(t,e){const n=Ls(t),r=Ls(e);if(t===e)return{valid:!0,data:t};if(n===ne.object&&r===ne.object){const i=He.objectKeys(e),s=He.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=hy(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ne.array&&r===ne.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=hy(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ne.date&&r===ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class qf extends De{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(YE(s)||YE(o))return be;const a=hy(s.value,o.value);return a.valid?((XE(s)||XE(o))&&n.dirty(),{status:n.value,value:a.data}):(se(r,{code:B.invalid_intersection_types}),be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}qf.create=(t,e,n)=>new qf({left:t,right:e,typeName:ge.ZodIntersection,...Ie(n)});class vi extends De{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.array)return se(r,{code:B.invalid_type,expected:ne.array,received:r.parsedType}),be;if(r.data.length<this._def.items.length)return se(r,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Qr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>In.mergeArray(n,o)):In.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new vi({...this._def,rest:e})}}vi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vi({items:t,typeName:ge.ZodTuple,rest:null,...Ie(e)})};class Wf extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.object)return se(r,{code:B.invalid_type,expected:ne.object,received:r.parsedType}),be;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Qr(r,a,r.path,a)),value:o._parse(new Qr(r,r.data[a],r.path,a))});return r.common.async?In.mergeObjectAsync(n,i):In.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof De?new Wf({keyType:e,valueType:n,typeName:ge.ZodRecord,...Ie(r)}):new Wf({keyType:li.create(),valueType:e,typeName:ge.ZodRecord,...Ie(n)})}}class py extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.map)return se(r,{code:B.invalid_type,expected:ne.map,received:r.parsedType}),be;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Qr(r,a,r.path,[c,"key"])),value:s._parse(new Qr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return be;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return be;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}py.create=(t,e,n)=>new py({valueType:e,keyType:t,typeName:ge.ZodMap,...Ie(n)});class Ma extends De{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.set)return se(r,{code:B.invalid_type,expected:ne.set,received:r.parsedType}),be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(se(r,{code:B.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(se(r,{code:B.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return be;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Qr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Ma({...this._def,minSize:{value:e,message:he.toString(n)}})}max(e,n){return new Ma({...this._def,maxSize:{value:e,message:he.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ma.create=(t,e)=>new Ma({valueType:t,minSize:null,maxSize:null,typeName:ge.ZodSet,...Ie(e)});class sc extends De{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.function)return se(n,{code:B.invalid_type,expected:ne.function,received:n.parsedType}),be;function r(a,l){return ly({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ay(),Ff].filter(c=>!!c),issueData:{code:B.invalid_arguments,argumentsError:l}})}function i(a,l){return ly({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ay(),Ff].filter(c=>!!c),issueData:{code:B.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof $c){const a=this;return Mn(async function(...l){const c=new Ur([]),u=await a._def.args.parseAsync(l,s).catch(p=>{throw c.addIssue(r(l,p)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(p=>{throw c.addIssue(i(d,p)),c})})}else{const a=this;return Mn(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Ur([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new Ur([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new sc({...this._def,args:vi.create(e).rest(_a.create())})}returns(e){return new sc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new sc({args:e||vi.create([]).rest(_a.create()),returns:n||_a.create(),typeName:ge.ZodFunction,...Ie(r)})}}class Hf extends De{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Hf.create=(t,e)=>new Hf({getter:t,typeName:ge.ZodLazy,...Ie(e)});class Kf extends De{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return se(n,{received:n.data,code:B.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Kf.create=(t,e)=>new Kf({value:t,typeName:ge.ZodLiteral,...Ie(e)});function cb(t,e){return new lo({values:t,typeName:ge.ZodEnum,...Ie(e)})}class lo extends De{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{expected:He.joinValues(r),received:n.parsedType,code:B.invalid_type}),be}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{received:n.data,code:B.invalid_enum_value,options:r}),be}return Mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return lo.create(e)}exclude(e){return lo.create(this.options.filter(n=>!e.includes(n)))}}lo.create=cb;class Gf extends De{_parse(e){const n=He.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ne.string&&r.parsedType!==ne.number){const i=He.objectValues(n);return se(r,{expected:He.joinValues(i),received:r.parsedType,code:B.invalid_type}),be}if(n.indexOf(e.data)===-1){const i=He.objectValues(n);return se(r,{received:r.data,code:B.invalid_enum_value,options:i}),be}return Mn(e.data)}get enum(){return this._def.values}}Gf.create=(t,e)=>new Gf({values:t,typeName:ge.ZodNativeEnum,...Ie(e)});class $c extends De{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.promise&&n.common.async===!1)return se(n,{code:B.invalid_type,expected:ne.promise,received:n.parsedType}),be;const r=n.parsedType===ne.promise?n.data:Promise.resolve(n.data);return Mn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}$c.create=(t,e)=>new $c({type:t,typeName:ge.ZodPromise,...Ie(e)});class _i extends De{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?be:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?be:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Uf(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Uf(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);He.assertNever(i)}}_i.create=(t,e,n)=>new _i({schema:t,typeName:ge.ZodEffects,effect:e,...Ie(n)});_i.createWithPreprocess=(t,e,n)=>new _i({schema:e,effect:{type:"preprocess",transform:t},typeName:ge.ZodEffects,...Ie(n)});class as extends De{_parse(e){return this._getType(e)===ne.undefined?Mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}as.create=(t,e)=>new as({innerType:t,typeName:ge.ZodOptional,...Ie(e)});class La extends De{_parse(e){return this._getType(e)===ne.null?Mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}La.create=(t,e)=>new La({innerType:t,typeName:ge.ZodNullable,...Ie(e)});class Qf extends De{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Qf.create=(t,e)=>new Qf({innerType:t,typeName:ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ie(e)});class my extends De{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return cy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ur(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ur(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}my.create=(t,e)=>new my({innerType:t,typeName:ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ie(e)});class gy extends De{_parse(e){if(this._getType(e)!==ne.nan){const r=this._getOrReturnCtx(e);return se(r,{code:B.invalid_type,expected:ne.nan,received:r.parsedType}),be}return{status:"valid",value:e.data}}}gy.create=t=>new gy({typeName:ge.ZodNaN,...Ie(t)});class Y2 extends De{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qh extends De{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?be:s.status==="dirty"?(n.dirty(),V2(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?be:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Qh({in:e,out:n,typeName:ge.ZodPipeline})}}class yy extends De{_parse(e){const n=this._def.innerType._parse(e);return Uf(n)&&(n.value=Object.freeze(n.value)),n}}yy.create=(t,e)=>new yy({innerType:t,typeName:ge.ZodReadonly,...Ie(e)});const X2=(t,e={},n)=>t?Oc.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Oc.create();_t.lazycreate;var ge;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ge||(ge={}));const Z2=(t,e={message:`Input not instance of ${t.name}`})=>X2(n=>n instanceof t,e),ci=li.create,JE=Oa.create;gy.create;$a.create;uy.create;Dc.create;dy.create;jf.create;Bf.create;Oc.create;_a.create;hs.create;fy.create;jr.create;const g_=_t.create;_t.strictCreate;zf.create;m_.create;qf.create;vi.create;Wf.create;py.create;Ma.create;sc.create;Hf.create;Kf.create;lo.create;Gf.create;$c.create;_i.create;as.create;La.create;_i.createWithPreprocess;Qh.create;var Eu=t=>t.type==="checkbox",ca=t=>t instanceof Date,wn=t=>t==null;const ub=t=>typeof t=="object";var Ft=t=>!wn(t)&&!Array.isArray(t)&&ub(t)&&!ca(t),db=t=>Ft(t)&&t.target?Eu(t.target)?t.target.checked:t.target.value:t,J2=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,fb=(t,e)=>t.has(J2(e)),eM=t=>{const e=t.constructor&&t.constructor.prototype;return Ft(e)&&e.hasOwnProperty("isPrototypeOf")},y_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(y_&&(t instanceof Blob||t instanceof FileList))&&(n||Ft(t)))if(e=n?[]:{},!n&&!eM(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Cn(t[r]));else return t;return e}var Tu=t=>Array.isArray(t)?t.filter(Boolean):[],Tt=t=>t===void 0,Y=(t,e,n)=>{if(!e||!Ft(t))return n;const r=Tu(e.split(/[,[\].]+?/)).reduce((i,s)=>wn(i)?i:i[s],t);return Tt(r)||r===t?Tt(t[e])?n:t[e]:r},mr=t=>typeof t=="boolean";const Yf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},yr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ti={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hb=Ee.createContext(null),Yh=()=>Ee.useContext(hb),tM=t=>{const{children:e,...n}=t;return Ee.createElement(hb.Provider,{value:n},e)};var pb=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==yr.all&&(e._proxyFormState[o]=!r||yr.all),n&&(n[o]=!0),t[o]}});return i},Xn=t=>Ft(t)&&!Object.keys(t).length,mb=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Xn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||yr.all))},Yd=t=>Array.isArray(t)?t:[t],gb=(t,e,n)=>!t||!e||t===e||Yd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function v_(t){const e=Ee.useRef(t);e.current=t,Ee.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function nM(t){const e=Yh(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=Ee.useState(n._formState),l=Ee.useRef(!0),c=Ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ee.useRef(i);return u.current=i,v_({disabled:r,next:d=>l.current&&gb(u.current,d.name,s)&&mb(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),Ee.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),pb(o,n,c.current,!1)}var Or=t=>typeof t=="string",yb=(t,e,n,r,i)=>Or(t)?(r&&e.watch.add(t),Y(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Y(n,s))):(r&&(e.watchAll=!0),n);function rM(t){const e=Yh(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=Ee.useRef(r);a.current=r,v_({disabled:s,subject:n._subjects.values,next:u=>{gb(a.current,u.name,o)&&c(Cn(yb(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=Ee.useState(n._getWatch(r,i));return Ee.useEffect(()=>n._removeUnmounted()),l}var __=t=>/^\w*$/.test(t),vb=t=>Tu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ge=(t,e,n)=>{let r=-1;const i=__(e)?[e]:vb(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Ft(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t};function iM(t){const e=Yh(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=fb(i._names.array,n),a=rM({control:i,name:n,defaultValue:Y(i._formValues,n,Y(i._defaultValues,n,t.defaultValue)),exact:!0}),l=nM({control:i,name:n}),c=Ee.useRef(i.register(n,{...t.rules,value:a,...mr(t.disabled)?{disabled:t.disabled}:{}}));return Ee.useEffect(()=>{const u=i._options.shouldUnregister||s,d=(f,p)=>{const y=Y(i._fields,f);y&&(y._f.mount=p)};if(d(n,!0),u){const f=Cn(Y(i._options.defaultValues,n));Ge(i._defaultValues,n,f),Tt(Y(i._formValues,n))&&Ge(i._formValues,n,f)}return()=>{(o?u&&!i._state.action:u)?i.unregister(n):d(n,!1)}},[n,i,o,s]),Ee.useEffect(()=>{Y(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:Y(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...mr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Ee.useCallback(u=>c.current.onChange({target:{value:db(u),name:n},type:Yf.CHANGE}),[n]),onBlur:Ee.useCallback(()=>c.current.onBlur({target:{value:Y(i._formValues,n),name:n},type:Yf.BLUR}),[n,i]),ref:u=>{const d=Y(i._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Y(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Y(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Y(l.touchedFields,n)},error:{enumerable:!0,get:()=>Y(l.errors,n)}})}}const sM=t=>t.render(iM(t));var _b=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},e1=t=>({isOnSubmit:!t||t===yr.onSubmit,isOnBlur:t===yr.onBlur,isOnChange:t===yr.onChange,isOnAll:t===yr.all,isOnTouch:t===yr.onTouched}),t1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const oc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Y(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;oc(a,e)}else Ft(a)&&oc(a,e)}}};var oM=(t,e,n)=>{const r=Tu(Y(t,n));return Ge(r,"root",e[n]),Ge(t,n,r),t},w_=t=>t.type==="file",Yi=t=>typeof t=="function",Xf=t=>{if(!y_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Xd=t=>Or(t),E_=t=>t.type==="radio",Zf=t=>t instanceof RegExp;const n1={value:!1,isValid:!1},r1={value:!0,isValid:!0};var wb=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Tt(t[0].attributes.value)?Tt(t[0].value)||t[0].value===""?r1:{value:t[0].value,isValid:!0}:r1:n1}return n1};const i1={isValid:!1,value:null};var Eb=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,i1):i1;function s1(t,e,n="validate"){if(Xd(t)||Array.isArray(t)&&t.every(Xd)||mr(t)&&!t)return{type:n,message:Xd(t)?t:"",ref:e}}var Uo=t=>Ft(t)&&!Zf(t)?t:{value:t,message:""},o1=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:f,validate:p,name:y,valueAsNumber:v,mount:w,disabled:g}=t._f,m=Y(e,y);if(!w||g)return{};const _=o?o[0]:s,S=M=>{r&&_.reportValidity&&(_.setCustomValidity(mr(M)?"":M||""),_.reportValidity())},I={},E=E_(s),x=Eu(s),R=E||x,k=(v||w_(s))&&Tt(s.value)&&Tt(m)||Xf(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,F=_b.bind(null,y,n,I),W=(M,z,H,te=ti.maxLength,ce=ti.minLength)=>{const K=M?z:H;I[y]={type:M?te:ce,message:K,ref:s,...F(M?te:ce,K)}};if(i?!Array.isArray(m)||!m.length:a&&(!R&&(k||wn(m))||mr(m)&&!m||x&&!wb(o).isValid||E&&!Eb(o).isValid)){const{value:M,message:z}=Xd(a)?{value:!!a,message:a}:Uo(a);if(M&&(I[y]={type:ti.required,message:z,ref:_,...F(ti.required,z)},!n))return S(z),I}if(!k&&(!wn(u)||!wn(d))){let M,z;const H=Uo(d),te=Uo(u);if(!wn(m)&&!isNaN(m)){const ce=s.valueAsNumber||m&&+m;wn(H.value)||(M=ce>H.value),wn(te.value)||(z=ce<te.value)}else{const ce=s.valueAsDate||new Date(m),K=G=>new Date(new Date().toDateString()+" "+G),V=s.type=="time",O=s.type=="week";Or(H.value)&&m&&(M=V?K(m)>K(H.value):O?m>H.value:ce>new Date(H.value)),Or(te.value)&&m&&(z=V?K(m)<K(te.value):O?m<te.value:ce<new Date(te.value))}if((M||z)&&(W(!!M,H.message,te.message,ti.max,ti.min),!n))return S(I[y].message),I}if((l||c)&&!k&&(Or(m)||i&&Array.isArray(m))){const M=Uo(l),z=Uo(c),H=!wn(M.value)&&m.length>+M.value,te=!wn(z.value)&&m.length<+z.value;if((H||te)&&(W(H,M.message,z.message),!n))return S(I[y].message),I}if(f&&!k&&Or(m)){const{value:M,message:z}=Uo(f);if(Zf(M)&&!m.match(M)&&(I[y]={type:ti.pattern,message:z,ref:s,...F(ti.pattern,z)},!n))return S(z),I}if(p){if(Yi(p)){const M=await p(m,e),z=s1(M,_);if(z&&(I[y]={...z,...F(ti.validate,z.message)},!n))return S(z.message),I}else if(Ft(p)){let M={};for(const z in p){if(!Xn(M)&&!n)break;const H=s1(await p[z](m,e),_,z);H&&(M={...H,...F(z,H.message)},S(H.message),n&&(I[y]=M))}if(!Xn(M)&&(I[y]={ref:_,...M},!n))return I}}return S(!0),I};function aM(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Tt(t)?r++:t[e[r++]];return t}function lM(t){for(const e in t)if(t.hasOwnProperty(e)&&!Tt(t[e]))return!1;return!0}function Xt(t,e){const n=Array.isArray(e)?e:__(e)?[e]:vb(e),r=n.length===1?t:aM(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ft(r)&&Xn(r)||Array.isArray(r)&&lM(r))&&Xt(t,n.slice(0,-1)),t}var Am=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Jf=t=>wn(t)||!ub(t);function qs(t,e){if(Jf(t)||Jf(e))return t===e;if(ca(t)&&ca(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ca(s)&&ca(o)||Ft(s)&&Ft(o)||Array.isArray(s)&&Array.isArray(o)?!qs(s,o):s!==o)return!1}}return!0}var Tb=t=>t.type==="select-multiple",cM=t=>E_(t)||Eu(t),Pm=t=>Xf(t)&&t.isConnected,Sb=t=>{for(const e in t)if(Yi(t[e]))return!0;return!1};function eh(t,e={}){const n=Array.isArray(t);if(Ft(t)||n)for(const r in t)Array.isArray(t[r])||Ft(t[r])&&!Sb(t[r])?(e[r]=Array.isArray(t[r])?[]:{},eh(t[r],e[r])):wn(t[r])||(e[r]=!0);return e}function xb(t,e,n){const r=Array.isArray(t);if(Ft(t)||r)for(const i in t)Array.isArray(t[i])||Ft(t[i])&&!Sb(t[i])?Tt(e)||Jf(n[i])?n[i]=Array.isArray(t[i])?eh(t[i],[]):{...eh(t[i])}:xb(t[i],wn(e)?{}:e[i],n[i]):n[i]=!qs(t[i],e[i]);return n}var km=(t,e)=>xb(t,e,eh(e)),Ib=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Tt(t)?t:e?t===""?NaN:t&&+t:n&&Or(t)?new Date(t):r?r(t):t;function Nm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return w_(e)?e.files:E_(e)?Eb(t.refs).value:Tb(e)?[...e.selectedOptions].map(({value:n})=>n):Eu(e)?wb(t.refs).value:Ib(Tt(e.value)?t.ref.value:e.value,t)}var uM=(t,e,n,r)=>{const i={};for(const s of t){const o=Y(e,s);o&&Ge(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Pl=t=>Tt(t)?t:Zf(t)?t.source:Ft(t)?Zf(t.value)?t.value.source:t.value:t,dM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function a1(t,e,n){const r=Y(t,n);if(r||__(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Y(e,s),a=Y(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var fM=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,hM=(t,e)=>!Tu(Y(t,e)).length&&Xt(t,e);const pM={mode:yr.onSubmit,reValidateMode:yr.onChange,shouldFocusError:!0};function mM(t={},e){let n={...pM,...t},r={submitCount:0,isDirty:!1,isLoading:Yi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},s=Ft(n.defaultValues)||Ft(n.values)?Cn(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Cn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Am(),array:Am(),state:Am()},p=e1(n.mode),y=e1(n.reValidateMode),v=n.criteriaMode===yr.all,w=b=>P=>{clearTimeout(u),u=setTimeout(b,P)},g=async b=>{if(d.isValid||b){const P=n.resolver?Xn((await k()).errors):await W(i,!0);P!==r.isValid&&f.state.next({isValid:P})}},m=b=>d.isValidating&&f.state.next({isValidating:b}),_=(b,P=[],N,re,q=!0,U=!0)=>{if(re&&N){if(a.action=!0,U&&Array.isArray(Y(i,b))){const ue=N(Y(i,b),re.argA,re.argB);q&&Ge(i,b,ue)}if(U&&Array.isArray(Y(r.errors,b))){const ue=N(Y(r.errors,b),re.argA,re.argB);q&&Ge(r.errors,b,ue),hM(r.errors,b)}if(d.touchedFields&&U&&Array.isArray(Y(r.touchedFields,b))){const ue=N(Y(r.touchedFields,b),re.argA,re.argB);q&&Ge(r.touchedFields,b,ue)}d.dirtyFields&&(r.dirtyFields=km(s,o)),f.state.next({name:b,isDirty:z(b,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ge(o,b,P)},S=(b,P)=>{Ge(r.errors,b,P),f.state.next({errors:r.errors})},I=b=>{r.errors=b,f.state.next({errors:r.errors,isValid:!1})},E=(b,P,N,re)=>{const q=Y(i,b);if(q){const U=Y(o,b,Tt(N)?Y(s,b):N);Tt(U)||re&&re.defaultChecked||P?Ge(o,b,P?U:Nm(q._f)):ce(b,U),a.mount&&g()}},x=(b,P,N,re,q)=>{let U=!1,ue=!1;const Ke={name:b},ht=!!(Y(i,b)&&Y(i,b)._f.disabled);if(!N||re){d.isDirty&&(ue=r.isDirty,r.isDirty=Ke.isDirty=z(),U=ue!==Ke.isDirty);const Gn=ht||qs(Y(s,b),P);ue=!!(!ht&&Y(r.dirtyFields,b)),Gn||ht?Xt(r.dirtyFields,b):Ge(r.dirtyFields,b,!0),Ke.dirtyFields=r.dirtyFields,U=U||d.dirtyFields&&ue!==!Gn}if(N){const Gn=Y(r.touchedFields,b);Gn||(Ge(r.touchedFields,b,N),Ke.touchedFields=r.touchedFields,U=U||d.touchedFields&&Gn!==N)}return U&&q&&f.state.next(Ke),U?Ke:{}},R=(b,P,N,re)=>{const q=Y(r.errors,b),U=d.isValid&&mr(P)&&r.isValid!==P;if(t.delayError&&N?(c=w(()=>S(b,N)),c(t.delayError)):(clearTimeout(u),c=null,N?Ge(r.errors,b,N):Xt(r.errors,b)),(N?!qs(q,N):q)||!Xn(re)||U){const ue={...re,...U&&mr(P)?{isValid:P}:{},errors:r.errors,name:b};r={...r,...ue},f.state.next(ue)}m(!1)},k=async b=>n.resolver(o,n.context,uM(b||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),F=async b=>{const{errors:P}=await k(b);if(b)for(const N of b){const re=Y(P,N);re?Ge(r.errors,N,re):Xt(r.errors,N)}else r.errors=P;return P},W=async(b,P,N={valid:!0})=>{for(const re in b){const q=b[re];if(q){const{_f:U,...ue}=q;if(U){const Ke=l.array.has(U.name),ht=await o1(q,o,v,n.shouldUseNativeValidation&&!P,Ke);if(ht[U.name]&&(N.valid=!1,P))break;!P&&(Y(ht,U.name)?Ke?oM(r.errors,ht,U.name):Ge(r.errors,U.name,ht[U.name]):Xt(r.errors,U.name))}ue&&await W(ue,P,N)}}return N.valid},M=()=>{for(const b of l.unMount){const P=Y(i,b);P&&(P._f.refs?P._f.refs.every(N=>!Pm(N)):!Pm(P._f.ref))&&ae(b)}l.unMount=new Set},z=(b,P)=>(b&&P&&Ge(o,b,P),!qs(ye(),s)),H=(b,P,N)=>yb(b,l,{...a.mount?o:Tt(P)?s:Or(b)?{[b]:P}:P},N,P),te=b=>Tu(Y(a.mount?o:s,b,t.shouldUnregister?Y(s,b,[]):[])),ce=(b,P,N={})=>{const re=Y(i,b);let q=P;if(re){const U=re._f;U&&(!U.disabled&&Ge(o,b,Ib(P,U)),q=Xf(U.ref)&&wn(P)?"":P,Tb(U.ref)?[...U.ref.options].forEach(ue=>ue.selected=q.includes(ue.value)):U.refs?Eu(U.ref)?U.refs.length>1?U.refs.forEach(ue=>(!ue.defaultChecked||!ue.disabled)&&(ue.checked=Array.isArray(q)?!!q.find(Ke=>Ke===ue.value):q===ue.value)):U.refs[0]&&(U.refs[0].checked=!!q):U.refs.forEach(ue=>ue.checked=ue.value===q):w_(U.ref)?U.ref.value="":(U.ref.value=q,U.ref.type||f.values.next({name:b,values:{...o}})))}(N.shouldDirty||N.shouldTouch)&&x(b,q,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&oe(b)},K=(b,P,N)=>{for(const re in P){const q=P[re],U=`${b}.${re}`,ue=Y(i,U);(l.array.has(b)||!Jf(q)||ue&&!ue._f)&&!ca(q)?K(U,q,N):ce(U,q,N)}},V=(b,P,N={})=>{const re=Y(i,b),q=l.array.has(b),U=Cn(P);Ge(o,b,U),q?(f.array.next({name:b,values:{...o}}),(d.isDirty||d.dirtyFields)&&N.shouldDirty&&f.state.next({name:b,dirtyFields:km(s,o),isDirty:z(b,U)})):re&&!re._f&&!wn(U)?K(b,U,N):ce(b,U,N),t1(b,l)&&f.state.next({...r}),f.values.next({name:b,values:{...o}}),!a.mount&&e()},O=async b=>{const P=b.target;let N=P.name,re=!0;const q=Y(i,N),U=()=>P.type?Nm(q._f):db(b),ue=Ke=>{re=Number.isNaN(Ke)||Ke===Y(o,N,Ke)};if(q){let Ke,ht;const Gn=U(),yn=b.type===Yf.BLUR||b.type===Yf.FOCUS_OUT,Qu=!dM(q._f)&&!n.resolver&&!Y(r.errors,N)&&!q._f.deps||fM(yn,Y(r.touchedFields,N),r.isSubmitted,y,p),Do=t1(N,l,yn);Ge(o,N,Gn),yn?(q._f.onBlur&&q._f.onBlur(b),c&&c(0)):q._f.onChange&&q._f.onChange(b);const Oo=x(N,Gn,yn,!1),Kp=!Xn(Oo)||Do;if(!yn&&f.values.next({name:N,type:b.type,values:{...o}}),Qu)return d.isValid&&g(),Kp&&f.state.next({name:N,...Do?{}:Oo});if(!yn&&Do&&f.state.next({...r}),m(!0),n.resolver){const{errors:pl}=await k([N]);if(ue(Gn),re){const $o=a1(r.errors,i,N),ml=a1(pl,i,$o.name||N);Ke=ml.error,N=ml.name,ht=Xn(pl)}}else Ke=(await o1(q,o,v,n.shouldUseNativeValidation))[N],ue(Gn),re&&(Ke?ht=!1:d.isValid&&(ht=await W(i,!0)));re&&(q._f.deps&&oe(q._f.deps),R(N,ht,Ke,Oo))}},G=(b,P)=>{if(Y(r.errors,P)&&b.focus)return b.focus(),1},oe=async(b,P={})=>{let N,re;const q=Yd(b);if(m(!0),n.resolver){const U=await F(Tt(b)?b:q);N=Xn(U),re=b?!q.some(ue=>Y(U,ue)):N}else b?(re=(await Promise.all(q.map(async U=>{const ue=Y(i,U);return await W(ue&&ue._f?{[U]:ue}:ue)}))).every(Boolean),!(!re&&!r.isValid)&&g()):re=N=await W(i);return f.state.next({...!Or(b)||d.isValid&&N!==r.isValid?{}:{name:b},...n.resolver||!b?{isValid:N}:{},errors:r.errors,isValidating:!1}),P.shouldFocus&&!re&&oc(i,G,b?q:l.mount),re},ye=b=>{const P={...s,...a.mount?o:{}};return Tt(b)?P:Or(b)?Y(P,b):b.map(N=>Y(P,N))},et=(b,P)=>({invalid:!!Y((P||r).errors,b),isDirty:!!Y((P||r).dirtyFields,b),isTouched:!!Y((P||r).touchedFields,b),error:Y((P||r).errors,b)}),qe=b=>{b&&Yd(b).forEach(P=>Xt(r.errors,P)),f.state.next({errors:b?r.errors:{}})},Ze=(b,P,N)=>{const re=(Y(i,b,{_f:{}})._f||{}).ref;Ge(r.errors,b,{...P,ref:re}),f.state.next({name:b,errors:r.errors,isValid:!1}),N&&N.shouldFocus&&re&&re.focus&&re.focus()},Me=(b,P)=>Yi(b)?f.values.subscribe({next:N=>b(H(void 0,P),N)}):H(b,P,!0),ae=(b,P={})=>{for(const N of b?Yd(b):l.mount)l.mount.delete(N),l.array.delete(N),P.keepValue||(Xt(i,N),Xt(o,N)),!P.keepError&&Xt(r.errors,N),!P.keepDirty&&Xt(r.dirtyFields,N),!P.keepTouched&&Xt(r.touchedFields,N),!n.shouldUnregister&&!P.keepDefaultValue&&Xt(s,N);f.values.next({values:{...o}}),f.state.next({...r,...P.keepDirty?{isDirty:z()}:{}}),!P.keepIsValid&&g()},je=({disabled:b,name:P,field:N,fields:re,value:q})=>{if(mr(b)){const U=b?void 0:Tt(q)?Nm(N?N._f:Y(re,P)._f):q;Ge(o,P,U),x(P,U,!1,!1,!0)}},Fe=(b,P={})=>{let N=Y(i,b);const re=mr(P.disabled);return Ge(i,b,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:b}},name:b,mount:!0,...P}}),l.mount.add(b),N?je({field:N,disabled:P.disabled,name:b,value:P.value}):E(b,!0,P.value),{...re?{disabled:P.disabled}:{},...n.progressive?{required:!!P.required,min:Pl(P.min),max:Pl(P.max),minLength:Pl(P.minLength),maxLength:Pl(P.maxLength),pattern:Pl(P.pattern)}:{},name:b,onChange:O,onBlur:O,ref:q=>{if(q){Fe(b,P),N=Y(i,b);const U=Tt(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,ue=cM(U),Ke=N._f.refs||[];if(ue?Ke.find(ht=>ht===U):U===N._f.ref)return;Ge(i,b,{_f:{...N._f,...ue?{refs:[...Ke.filter(Pm),U,...Array.isArray(Y(s,b))?[{}]:[]],ref:{type:U.type,name:b}}:{ref:U}}}),E(b,!1,void 0,U)}else N=Y(i,b,{}),N._f&&(N._f.mount=!1),(n.shouldUnregister||P.shouldUnregister)&&!(fb(l.array,b)&&a.action)&&l.unMount.add(b)}}},Be=()=>n.shouldFocusError&&oc(i,G,l.mount),Se=b=>{mr(b)&&(f.state.next({disabled:b}),oc(i,(P,N)=>{let re=b;const q=Y(i,N);q&&mr(q._f.disabled)&&(re||(re=q._f.disabled)),P.disabled=re},0,!1))},ke=(b,P)=>async N=>{N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let re=Cn(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:q,values:U}=await k();r.errors=q,re=U}else await W(i);Xt(r.errors,"root"),Xn(r.errors)?(f.state.next({errors:{}}),await b(re,N)):(P&&await P({...r.errors},N),Be(),setTimeout(Be)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ut=(b,P={})=>{Y(i,b)&&(Tt(P.defaultValue)?V(b,Cn(Y(s,b))):(V(b,P.defaultValue),Ge(s,b,Cn(P.defaultValue))),P.keepTouched||Xt(r.touchedFields,b),P.keepDirty||(Xt(r.dirtyFields,b),r.isDirty=P.defaultValue?z(b,Cn(Y(s,b))):z()),P.keepError||(Xt(r.errors,b),d.isValid&&g()),f.state.next({...r}))},jt=(b,P={})=>{const N=b?Cn(b):s,re=Cn(N),q=b&&!Xn(b)?re:s;if(P.keepDefaultValues||(s=N),!P.keepValues){if(P.keepDirtyValues)for(const U of l.mount)Y(r.dirtyFields,U)?Ge(q,U,Y(o,U)):V(U,Y(q,U));else{if(y_&&Tt(b))for(const U of l.mount){const ue=Y(i,U);if(ue&&ue._f){const Ke=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(Xf(Ke)){const ht=Ke.closest("form");if(ht){ht.reset();break}}}}i={}}o=t.shouldUnregister?P.keepDefaultValues?Cn(s):{}:Cn(q),f.array.next({values:{...q}}),f.values.next({values:{...q}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!P.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!qs(b,s)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:P.keepDirtyValues?r.dirtyFields:P.keepDefaultValues&&b?km(s,b):{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},At=(b,P)=>jt(Yi(b)?b(o):b,P);return{control:{register:Fe,unregister:ae,getFieldState:et,handleSubmit:ke,setError:Ze,_executeSchema:k,_getWatch:H,_getDirty:z,_updateValid:g,_removeUnmounted:M,_updateFieldArray:_,_updateDisabledField:je,_getFieldArray:te,_reset:jt,_resetDefaultValues:()=>Yi(n.defaultValues)&&n.defaultValues().then(b=>{At(b,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:b=>{r={...r,...b}},_disableForm:Se,_subjects:f,_proxyFormState:d,_setErrors:I,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(b){a=b},get _defaultValues(){return s},get _names(){return l},set _names(b){l=b},get _formState(){return r},set _formState(b){r=b},get _options(){return n},set _options(b){n={...n,...b}}},trigger:oe,register:Fe,handleSubmit:ke,watch:Me,setValue:V,getValues:ye,reset:At,resetField:Ut,clearErrors:qe,unregister:ae,setError:Ze,setFocus:(b,P={})=>{const N=Y(i,b),re=N&&N._f;if(re){const q=re.refs?re.refs[0]:re.ref;q.focus&&(q.focus(),P.shouldSelect&&q.select())}},getFieldState:et}}function T_(t={}){const e=Ee.useRef(),n=Ee.useRef(),[r,i]=Ee.useState({isDirty:!1,isValidating:!1,isLoading:Yi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Yi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...mM(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,v_({subject:s._subjects.state,next:o=>{mb(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ee.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ee.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ee.useEffect(()=>{t.values&&!qs(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Ee.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Ee.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=pb(r,s),e.current}var l1=function(t,e,n){if(t&&"reportValidity"in t){var r=Y(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},bb=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?l1(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return l1(o,i,t)})};for(var r in e.fields)n(r)},gM=function(t,e){e.shouldUseNativeValidation&&bb(t,e);var n={};for(var r in t){var i=Y(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(yM(e.names||Object.keys(t),r)){var o=Object.assign({},Y(n,r));Ge(o,"root",s),Ge(n,r,o)}else Ge(n,r,s)}return n},yM=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},vM=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=_b(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},S_=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&bb({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:gM(vM(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},c1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_M=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_M(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new wM;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EM=function(t){const e=Rb(t);return Cb.encodeByteArray(e,!0)},th=function(t){return EM(t).replace(/\./g,"")},Ab=function(t){try{return Cb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=()=>TM().__FIREBASE_DEFAULTS__,xM=()=>{if(typeof process>"u"||typeof c1>"u")return;const t=c1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ab(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return SM()||xM()||IM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pb=t=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kb=t=>{const e=Pb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nb=()=>{var t;return(t=Xh())===null||t===void 0?void 0:t.config},Db=t=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[th(JSON.stringify(n)),th(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function CM(){var t;const e=(t=Xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kM(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NM(){return!CM()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $b(){try{return typeof indexedDB=="object"}catch{return!1}}function DM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OM,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?$M(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Jr(i,a,r)}}function $M(t,e){return t.replace(MM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MM=/\{\$([^}]+)}/g;function LM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(u1(s)&&u1(o)){if(!nh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VM(t,e){const n=new FM(t,e);return n.subscribe.bind(n)}class FM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dm),i.error===void 0&&(i.error=Dm),i.complete===void 0&&(i.complete=Dm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zM(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BM(t){return t===Ms?void 0:t}function zM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const WM={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},HM=Ve.INFO,KM={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},GM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=HM,this._logHandler=GM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const QM=(t,e)=>e.some(n=>t instanceof n);let d1,f1;function YM(){return d1||(d1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XM(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mb=new WeakMap,vy=new WeakMap,Lb=new WeakMap,Om=new WeakMap,I_=new WeakMap;function ZM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mb.set(n,t)}).catch(()=>{}),I_.set(e,t),e}function JM(t){if(vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vy.set(t,e)}let _y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eL(t){_y=t(_y)}function tL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($m(this),e,...n);return Lb.set(r,e.sort?e.sort():[e]),ls(r)}:XM().includes(t)?function(...e){return t.apply($m(this),e),ls(Mb.get(this))}:function(...e){return ls(t.apply($m(this),e))}}function nL(t){return typeof t=="function"?tL(t):(t instanceof IDBTransaction&&JM(t),QM(t,YM())?new Proxy(t,_y):t)}function ls(t){if(t instanceof IDBRequest)return ZM(t);if(Om.has(t))return Om.get(t);const e=nL(t);return e!==t&&(Om.set(t,e),I_.set(e,t)),e}const $m=t=>I_.get(t);function rL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ls(o.result),l.oldVersion,l.newVersion,ls(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const iL=["get","getKey","getAll","getAllKeys","count"],sL=["put","add","delete","clear"],Mm=new Map;function h1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Mm.set(e,s),s}eL(t=>({...t,get:(e,n,r)=>h1(e,n)||t.get(e,n,r),has:(e,n)=>!!h1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wy="@firebase/app",p1="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new x_("@firebase/app"),lL="@firebase/app-compat",cL="@firebase/analytics-compat",uL="@firebase/analytics",dL="@firebase/app-check-compat",fL="@firebase/app-check",hL="@firebase/auth",pL="@firebase/auth-compat",mL="@firebase/database",gL="@firebase/database-compat",yL="@firebase/functions",vL="@firebase/functions-compat",_L="@firebase/installations",wL="@firebase/installations-compat",EL="@firebase/messaging",TL="@firebase/messaging-compat",SL="@firebase/performance",xL="@firebase/performance-compat",IL="@firebase/remote-config",bL="@firebase/remote-config-compat",RL="@firebase/storage",CL="@firebase/storage-compat",AL="@firebase/firestore",PL="@firebase/firestore-compat",kL="firebase",NL="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="[DEFAULT]",DL={[wy]:"fire-core",[lL]:"fire-core-compat",[uL]:"fire-analytics",[cL]:"fire-analytics-compat",[fL]:"fire-app-check",[dL]:"fire-app-check-compat",[hL]:"fire-auth",[pL]:"fire-auth-compat",[mL]:"fire-rtdb",[gL]:"fire-rtdb-compat",[yL]:"fire-fn",[vL]:"fire-fn-compat",[_L]:"fire-iid",[wL]:"fire-iid-compat",[EL]:"fire-fcm",[TL]:"fire-fcm-compat",[SL]:"fire-perf",[xL]:"fire-perf-compat",[IL]:"fire-rc",[bL]:"fire-rc-compat",[RL]:"fire-gcs",[CL]:"fire-gcs-compat",[AL]:"fire-fst",[PL]:"fire-fst-compat","fire-js":"fire-js",[kL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,Ty=new Map;function OL(t,e){try{t.container.addComponent(e)}catch(n){co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(Ty.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;Ty.set(e,t);for(const n of rh.values())OL(n,t);return!0}function Zh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cs=new Su("app","Firebase",$L);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=NL;function Vb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(n||(n=Nb()),!n)throw cs.create("no-options");const s=rh.get(i);if(s){if(nh(n,s.options)&&nh(r,s.config))return s;throw cs.create("duplicate-app",{appName:i})}const o=new qM(i);for(const l of Ty.values())o.addComponent(l);const a=new ML(n,r,o);return rh.set(i,a),a}function b_(t=Ey){const e=rh.get(t);if(!e&&t===Ey&&Nb())return Vb();if(!e)throw cs.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=DL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),co.warn(a.join(" "));return}uo(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="firebase-heartbeat-database",VL=1,Mc="firebase-heartbeat-store";let Lm=null;function Fb(){return Lm||(Lm=rL(LL,VL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),Lm}async function FL(t){try{return await(await Fb()).transaction(Mc).objectStore(Mc).get(Ub(t))}catch(e){if(e instanceof Jr)co.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});co.warn(n.message)}}}async function m1(t,e){try{const r=(await Fb()).transaction(Mc,"readwrite");await r.objectStore(Mc).put(e,Ub(t)),await r.done}catch(n){if(n instanceof Jr)co.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});co.warn(r.message)}}}function Ub(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=1024,jL=30*24*60*60*1e3;class BL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=jL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g1(),{heartbeatsToSend:r,unsentEntries:i}=zL(this._heartbeatsCache.heartbeats),s=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function g1(){return new Date().toISOString().substring(0,10)}function zL(t,e=UL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),y1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $b()?DM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y1(t){return th(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){uo(new ps("platform-logger",e=>new oL(e),"PRIVATE")),uo(new ps("heartbeat",e=>new BL(e),"PRIVATE")),Br(wy,p1,t),Br(wy,p1,"esm2017"),Br("fire-js","")}WL("");var Nr=function(){return Nr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nr.apply(this,arguments)};function Iu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function HL(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KL=jb,Bb=new Su("auth","Firebase",jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new x_("@firebase/auth");function GL(t,...e){ih.logLevel<=Ve.WARN&&ih.warn(`Auth (${Eo}): ${t}`,...e)}function Zd(t,...e){ih.logLevel<=Ve.ERROR&&ih.error(`Auth (${Eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw R_(t,...e)}function zr(t,...e){return R_(t,...e)}function QL(t,e,n){const r=Object.assign(Object.assign({},KL()),{[e]:n});return new Su("auth","Firebase",r).create(e,{appName:t.name})}function R_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Bb.create(t,...e)}function _e(t,e,...n){if(!t)throw R_(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function wi(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YL(){return v1()==="http:"||v1()==="https:"}function v1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YL()||AM()||"connection"in navigator)?navigator.onLine:!0}function ZL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=RM()||PM()}get(){return XL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new bu(3e4,6e4);function Cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function As(t,e,n,r,i={}){return qb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zb.fetch()(Wb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function qb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JL),e);try{const i=new nV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw md(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw md(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw md(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QL(t,u,c);xr(t,u)}}catch(i){if(i instanceof Jr)throw i;xr(t,"network-request-failed",{message:String(i)})}}async function Ru(t,e,n,r,i={}){const s=await As(t,e,n,r,i);return"mfaPendingCredential"in s&&xr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Wb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?C_(t.config,i):`${t.config.apiScheme}://${i}`}function tV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),eV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function _1(t){return t!==void 0&&t.enterprise!==void 0}class rV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function iV(t,e){return As(t,"GET","/v2/recaptchaConfig",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function oV(t,e){return As(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aV(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=A_(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ac(Vm(i.auth_time)),issuedAtTime:ac(Vm(i.iat)),expirationTime:ac(Vm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vm(t){return Number(t)*1e3}function A_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ab(n);return i?JSON.parse(i):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lV(t){const e=A_(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jr&&cV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Lc(t,oV(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hV(s.providerUserInfo):[],a=fV(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hb(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function dV(t){const e=Ct(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hV(t){return t.map(e=>{var{providerId:n}=e,r=Iu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){const n=await qb(t,{},async()=>{const r=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Wb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mV(t,e){return As(t,"POST","/v2/accounts:revokeToken",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await pV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vc;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vc,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Js{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Iu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aV(this,e)}reload(){return dV(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Lc(this,sV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:S,isAnonymous:I,providerData:E,stsTokenManager:x}=n;_e(_&&x,e,"internal-error");const R=Vc.fromJSON(this.name,x);_e(typeof _=="string",e,"internal-error"),Di(d,e.name),Di(f,e.name),_e(typeof S=="boolean",e,"internal-error"),_e(typeof I=="boolean",e,"internal-error"),Di(p,e.name),Di(y,e.name),Di(v,e.name),Di(w,e.name),Di(g,e.name),Di(m,e.name);const k=new Js({uid:_,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:I,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:R,createdAt:g,lastLoginAt:m});return E&&Array.isArray(E)&&(k.providerData=E.map(F=>Object.assign({},F))),w&&(k._redirectEventId=w),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vc;i.updateFromServerResponse(n);const s=new Js({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;function di(t){wi(t instanceof Function,"Expected a class definition");let e=w1.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,w1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kb.type="NONE";const E1=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Js._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wa(di(E1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||di(E1);const o=Jd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Js._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new wa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(Jb(e))return"Webos";if(P_(e))return"Safari";if((e.includes("chrome/")||Qb(e))&&!e.includes("edge/"))return"Chrome";if(Xb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gb(t=$t()){return/firefox\//i.test(t)}function P_(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qb(t=$t()){return/crios\//i.test(t)}function Yb(t=$t()){return/iemobile/i.test(t)}function Xb(t=$t()){return/android/i.test(t)}function Zb(t=$t()){return/blackberry/i.test(t)}function Jb(t=$t()){return/webos/i.test(t)}function Jh(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gV(t=$t()){var e;return Jh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yV(){return kM()&&document.documentMode===10}function eR(t=$t()){return Jh(t)||Xb(t)||Jb(t)||Zb(t)||/windows phone/i.test(t)||Yb(t)}function vV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t,e=[]){let n;switch(t){case"Browser":n=T1($t());break;case"Worker":n=`${T1($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e={}){return As(t,"GET","/v2/passwordPolicy",Cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=6;class TV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:EV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S1(this),this.idTokenSubscription=new S1(this),this.beforeStateQueue=new _V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ct(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wV(this),n=new TV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function To(t){return Ct(t)}class S1{constructor(e){this.auth=e,this.observer=null,this.addObserver=VM(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function nR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xV().appendChild(r)})}function IV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const bV="https://www.google.com/recaptcha/enterprise.js?render=",RV="recaptcha-enterprise",CV="NO_RECAPTCHA";class AV{constructor(e){this.type=RV,this.auth=To(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{iV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new rV(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;_1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(CV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&_1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}nR(bV+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function x1(t,e,n,r=!1){const i=new AV(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function xy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await x1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await x1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e){const n=Zh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(nh(s,e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}function kV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NV(t,e,n){const r=To(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=rR(e),{host:o,port:a}=DV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||OV()}function rR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DV(t){const e=rR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:I1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:I1(o)}}}function I1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function $V(t,e){return As(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e){return Ru(t,"POST","/v1/accounts:signInWithPassword",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}async function VV(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends k_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,n,"signInWithPassword",MV);case"emailLink":return LV(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,r,"signUpPassword",$V);case"emailLink":return VV(e,{idToken:n,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e){return Ru(t,"POST","/v1/accounts:signInWithIdp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="http://localhost";class fo extends k_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Iu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ea(e,n)}buildRequest(){const e={requestUri:FV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jV(t){const e=jl(Bl(t)).link,n=e?jl(Bl(e)).deep_link_id:null,r=jl(Bl(t)).deep_link_id;return(r?jl(Bl(r)).link:null)||r||n||e||t}class N_{constructor(e){var n,r,i,s,o,a;const l=jl(Bl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=UV((i=l.mode)!==null&&i!==void 0?i:null);_e(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jV(e);try{return new N_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(e,n){return Fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=N_.parseLink(n);return _e(r,"argument-error"),Fc._fromEmailAndCode(e,r.code,r.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends iR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Cu{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Cu{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Cu{constructor(){super("twitter.com")}static credential(e,n){return fo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e){return Ru(t,"POST","/v1/accounts:signUp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Js._fromIdTokenResponse(e,r,i),o=b1(r);return new ho({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=b1(r);return new ho({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function b1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends Jr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oh(e,n,r,i)}}function sR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,s,e,r):s})}async function zV(t,e,n=!1){const r=await Lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Lc(t,sR(r,i,e,t),n);_e(s.idToken,r,"internal-error");const o=A_(s.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),ho._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e,n=!1){const r="signIn",i=await sR(t,r,e),s=await ho._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function WV(t,e){return oR(To(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t){const e=To(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HV(t,e,n){const r=To(t),o=await xy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BV).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&aR(t),l}),a=await ho._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function KV(t,e,n){return WV(Ct(t),el.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aR(t),r})}function GV(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function QV(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function YV(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function lR(t){return Ct(t).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){const t=$t();return P_(t)||Jh(t)}const ZV=1e3,JV=10;class uR extends cR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XV()&&vV(),this.fallbackToPolling=eR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uR.type="LOCAL";const eF=uR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR extends cR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dR.type="SESSION";const fR=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ep(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await tF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ep.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=D_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function rF(t){qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function iF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oF(){return hR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="firebaseLocalStorageDb",aF=1,lh="firebaseLocalStorage",mR="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tp(t,e){return t.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function lF(){const t=indexedDB.deleteDatabase(pR);return new Au(t).toPromise()}function Iy(){const t=indexedDB.open(pR,aF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lh,{keyPath:mR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await lF(),e(await Iy()))})})}async function R1(t,e,n){const r=tp(t,!0).put({[mR]:e,value:n});return new Au(r).toPromise()}async function cF(t,e){const n=tp(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function C1(t,e){const n=tp(t,!0).delete(e);return new Au(n).toPromise()}const uF=800,dF=3;class gR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ep._getInstance(oF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iF(),!this.activeServiceWorker)return;this.sender=new nF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await R1(e,ah,"1"),await C1(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tp(i,!1).getAll();return new Au(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gR.type="LOCAL";const fF=gR;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t,e){return e?di(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends k_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pF(t){return oR(t.auth,new O_(t),t.bypassAuthState)}function mF(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),qV(n,new O_(t),t.bypassAuthState)}async function gF(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),zV(n,new O_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pF;case"linkViaPopup":case"linkViaRedirect":return gF;case"reauthViaPopup":case"reauthViaRedirect":return mF;default:xr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new bu(2e3,1e4);class ua extends yR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=D_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yF.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="pendingRedirect",ef=new Map;class _F extends yR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const r=await wF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wF(t,e){const n=SF(e),r=TF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function EF(t,e){ef.set(t._key(),e)}function TF(t){return di(t._redirectPersistence)}function SF(t){return Jd(vF,t.config.apiKey,t.name)}async function xF(t,e,n=!1){const r=To(t),i=hF(r,e),o=await new _F(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=10*60*1e3;class bF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IF&&this.cachedEventUids.clear(),this.cachedEventUids.has(A1(e))}saveEventToCache(e){this.cachedEventUids.add(A1(e)),this.lastProcessedEventTime=Date.now()}}function A1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e={}){return As(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PF=/^https?/;async function kF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CF(t);for(const n of e)try{if(NF(n))return}catch{}xr(t,"unauthorized-domain")}function NF(t){const e=Sy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PF.test(n))return!1;if(AF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=new bu(3e4,6e4);function P1(){const t=qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OF(t){return new Promise((e,n)=>{var r,i,s;function o(){P1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P1(),n(zr(t,"network-request-failed"))},timeout:DF.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qr().gapi)===null||s===void 0)&&s.load)o();else{const a=IV("iframefcb");return qr()[a]=()=>{gapi.load?o():n(zr(t,"network-request-failed"))},nR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function $F(t){return tf=tf||OF(t),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=new bu(5e3,15e3),LF="__/auth/iframe",VF="emulator/auth/iframe",FF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jF(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?C_(e,VF):`https://${t.config.authDomain}/${LF}`,r={apiKey:e.apiKey,appName:t.name,v:Eo},i=UF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xu(r).slice(1)}`}async function BF(t){const e=await $F(t),n=qr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:jF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zr(t,"network-request-failed"),a=qr().setTimeout(()=>{s(o)},MF.get());function l(){qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qF=500,WF=600,HF="_blank",KF="http://localhost";class k1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GF(t,e,n,r=qF,i=WF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zF),{width:r.toString(),height:i.toString(),top:s,left:o}),c=$t().toLowerCase();n&&(a=Qb(c)?HF:n),Gb(c)&&(e=e||KF,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(gV(c)&&a!=="_self")return QF(e||"",a),new k1(null);const d=window.open(e||"",a,u);_e(d,t,"popup-blocked");try{d.focus()}catch{}return new k1(d)}function QF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF="__/auth/handler",XF="emulator/auth/handler",ZF=encodeURIComponent("fac");async function N1(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eo,eventId:i};if(e instanceof iR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Cu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${ZF}=${encodeURIComponent(l)}`:"";return`${JF(t)}?${xu(a).slice(1)}${c}`}function JF({config:t}){return t.emulator?C_(t,XF):`https://${t.authDomain}/${YF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class e4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fR,this._completeRedirectFn=xF,this._overrideRedirectResult=EF}async _openPopup(e,n,r,i){var s;wi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await N1(e,n,r,Sy(),i);return GF(e,o,D_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await N1(e,n,r,Sy(),i);return rF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BF(e),r=new bF(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fm,{type:Fm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Fm];o!==void 0&&n(!!o),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eR()||P_()||Jh()}}const t4=e4;var D1="@firebase/auth",O1="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function i4(t){uo(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tR(t)},c=new SV(r,i,s,l);return kV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uo(new ps("auth-internal",e=>{const n=To(e.getProvider("auth").getImmediate());return(r=>new n4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(D1,O1,r4(t)),Br(D1,O1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=5*60,o4=Db("authIdTokenMaxAge")||s4;let $1=null;const a4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o4)return;const i=n==null?void 0:n.token;$1!==i&&($1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l4(t=b_()){const e=Zh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PV(t,{popupRedirectResolver:t4,persistence:[fF,eF,fR]}),r=Db("authTokenSyncURL");if(r){const s=a4(r);QV(n,s,()=>s(n.currentUser)),GV(n,o=>s(o))}const i=Pb("auth");return i&&NV(n,`http://${i}`),n}i4("Browser");var c4="firebase",u4="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(c4,u4,"app");var d4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,$_=$_||{},Te=d4||self;function np(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function f4(t){return Object.prototype.hasOwnProperty.call(t,Um)&&t[Um]||(t[Um]=++h4)}var Um="closure_uid_"+(1e9*Math.random()>>>0),h4=0;function p4(t,e,n){return t.call.apply(t.bind,arguments)}function m4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function hn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?hn=p4:hn=m4,hn.apply(null,arguments)}function gd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ps(){this.s=this.s,this.o=this.o}var g4=0;Ps.prototype.s=!1;Ps.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),g4!=0)&&f4(this)};Ps.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _R=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function M_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function M1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(np(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var y4=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Te.addEventListener("test",n,e),Te.removeEventListener("test",n,e)}catch{}return t}();function Uc(t){return/^[\s\xa0]*$/.test(t)}function rp(){var t=Te.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return rp().indexOf(t)!=-1}function L_(t){return L_[" "](t),t}L_[" "]=function(){};function v4(t,e){var n=u9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _4=Dr("Opera"),Va=Dr("Trident")||Dr("MSIE"),wR=Dr("Edge"),by=wR||Va,ER=Dr("Gecko")&&!(rp().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),w4=rp().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function TR(){var t=Te.document;return t?t.documentMode:void 0}var Ry;e:{var jm="",Bm=function(){var t=rp();if(ER)return/rv:([^\);]+)(\)|;)/.exec(t);if(wR)return/Edge\/([\d\.]+)/.exec(t);if(Va)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(w4)return/WebKit\/(\S+)/.exec(t);if(_4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Bm&&(jm=Bm?Bm[1]:""),Va){var zm=TR();if(zm!=null&&zm>parseFloat(jm)){Ry=String(zm);break e}}Ry=jm}var Cy;if(Te.document&&Va){var L1=TR();Cy=L1||parseInt(Ry,10)||void 0}else Cy=void 0;var E4=Cy;function jc(t,e){if(pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ER){e:{try{L_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:T4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jc.$.h.call(this)}}Gt(jc,pn);var T4={2:"touch",3:"pen",4:"mouse"};jc.prototype.h=function(){jc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ku="closure_listenable_"+(1e6*Math.random()|0),S4=0;function x4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++S4,this.fa=this.ia=!1}function ip(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function V_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function I4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function SR(t){const e={};for(const n in t)e[n]=t[n];return e}const V1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<V1.length;s++)n=V1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sp(t){this.src=t,this.g={},this.h=0}sp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Py(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new x4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ay(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=_R(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ip(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Py(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var F_="closure_lm_"+(1e6*Math.random()|0),qm={};function IR(t,e,n,r,i){if(r&&r.once)return RR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)IR(t,e[s],n,r,i);return null}return n=B_(n),t&&t[ku]?t.O(e,n,Pu(r)?!!r.capture:!!r,i):bR(t,e,n,!1,r,i)}function bR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pu(i)?!!i.capture:!!i,a=j_(t);if(a||(t[F_]=a=new sp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=b4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)y4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function b4(){function t(n){return e.call(t.src,t.listener,n)}const e=R4;return t}function RR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)RR(t,e[s],n,r,i);return null}return n=B_(n),t&&t[ku]?t.P(e,n,Pu(r)?!!r.capture:!!r,i):bR(t,e,n,!0,r,i)}function CR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)CR(t,e[s],n,r,i);else r=Pu(r)?!!r.capture:!!r,n=B_(n),t&&t[ku]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Py(s,n,r,i),-1<n&&(ip(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=j_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Py(e,n,r,i)),(n=-1<t?e[t]:null)&&U_(n))}function U_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ku])Ay(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=j_(e))?(Ay(n,t),n.h==0&&(n.src=null,e[F_]=null)):ip(t)}}}function AR(t){return t in qm?qm[t]:qm[t]="on"+t}function R4(t,e){if(t.fa)t=!0;else{e=new jc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&U_(t),t=n.call(r,e)}return t}function j_(t){return t=t[F_],t instanceof sp?t:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function B_(t){return typeof t=="function"?t:(t[Wm]||(t[Wm]=function(e){return t.handleEvent(e)}),t[Wm])}function Kt(){Ps.call(this),this.i=new sp(this),this.S=this,this.J=null}Gt(Kt,Ps);Kt.prototype[ku]=!0;Kt.prototype.removeEventListener=function(t,e,n,r){CR(this,t,e,n,r)};function rn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new pn(e,t);else if(e instanceof pn)e.target=e.target||t;else{var i=e;e=new pn(r,t),xR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yd(o,r,!0,e)&&i}if(o=e.g=t,i=yd(o,r,!0,e)&&i,i=yd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=yd(o,r,!1,e)&&i}Kt.prototype.N=function(){if(Kt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ip(n[r]);delete t.g[e],t.h--}}this.J=null};Kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ay(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var z_=Te.JSON.stringify;class C4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function A4(){var t=q_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class P4{constructor(){this.h=this.g=null}add(e,n){const r=PR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var PR=new C4(()=>new k4,t=>t.reset());class k4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function N4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function D4(t){Te.setTimeout(()=>{throw t},0)}let Bc,zc=!1,q_=new P4,kR=()=>{const t=Te.Promise.resolve(void 0);Bc=()=>{t.then(O4)}};var O4=()=>{for(var t;t=A4();){try{t.h.call(t.g)}catch(n){D4(n)}var e=PR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zc=!1};function op(t,e){Kt.call(this),this.h=t||1,this.g=e||Te,this.j=hn(this.qb,this),this.l=Date.now()}Gt(op,Kt);J=op.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rn(this,"tick"),this.ga&&(W_(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function W_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){op.$.N.call(this),W_(this),delete this.g};function H_(t,e,n){if(typeof t=="function")n&&(t=hn(t,n));else if(t&&typeof t.handleEvent=="function")t=hn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Te.setTimeout(t,e||0)}function NR(t){t.g=H_(()=>{t.g=null,t.i&&(t.i=!1,NR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $4 extends Ps{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NR(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qc(t){Ps.call(this),this.h=t,this.g={}}Gt(qc,Ps);var F1=[];function DR(t,e,n,r){Array.isArray(n)||(n&&(F1[0]=n.toString()),n=F1);for(var i=0;i<n.length;i++){var s=IR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function OR(t){V_(t.g,function(e,n){this.g.hasOwnProperty(n)&&U_(e)},t),t.g={}}qc.prototype.N=function(){qc.$.N.call(this),OR(this)};qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ap(){this.g=!0}ap.prototype.Ea=function(){this.g=!1};function M4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function L4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function da(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+F4(t,n)+(r?" "+r:"")})}function V4(t,e){t.info(function(){return"TIMEOUT: "+e})}ap.prototype.info=function(){};function F4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return z_(n)}catch{return e}}var So={},U1=null;function lp(){return U1=U1||new Kt}So.Ta="serverreachability";function $R(t){pn.call(this,So.Ta,t)}Gt($R,pn);function Wc(t){const e=lp();rn(e,new $R(e))}So.STAT_EVENT="statevent";function MR(t,e){pn.call(this,So.STAT_EVENT,t),this.stat=e}Gt(MR,pn);function Sn(t){const e=lp();rn(e,new MR(e,t))}So.Ua="timingevent";function LR(t,e){pn.call(this,So.Ua,t),this.size=e}Gt(LR,pn);function Nu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){t()},e)}var cp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function K_(){}K_.prototype.h=null;function j1(t){return t.h||(t.h=t.i())}function FR(){}var Du={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function G_(){pn.call(this,"d")}Gt(G_,pn);function Q_(){pn.call(this,"c")}Gt(Q_,pn);var ky;function up(){}Gt(up,K_);up.prototype.g=function(){return new XMLHttpRequest};up.prototype.i=function(){return{}};ky=new up;function Ou(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new qc(this),this.P=U4,t=by?125:void 0,this.V=new op(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UR}function UR(){this.i=null,this.g="",this.h=!1}var U4=45e3,jR={},Ny={};J=Ou.prototype;J.setTimeout=function(t){this.P=t};function Dy(t,e,n){t.L=1,t.A=fp(Ei(e)),t.u=n,t.S=!0,BR(t,null)}function BR(t,e){t.G=Date.now(),$u(t),t.B=Ei(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),YR(n.i,"t",r),t.o=0,n=t.l.J,t.h=new UR,t.g=yC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new $4(hn(t.Pa,t,t.g),t.O)),DR(t.U,t.g,"readystatechange",t.nb),e=t.I?SR(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Wc(),M4(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&$r(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const u=$r(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||by||this.g&&(this.h.h||this.g.ja()||W1(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Wc(3):Wc(2)),dp(this);var n=this.g.da();this.ca=n;t:if(zR(this)){var r=W1(this.g);t="";var i=r.length,s=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ws(this),lc(this);var o="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,L4(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uc(a)){var c=a;break t}}c=null}if(n=c)da(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oy(this,n);else{this.i=!1,this.s=3,Sn(12),Ws(this),lc(this);break e}}this.S?(qR(this,u,o),by&&this.i&&u==3&&(DR(this.U,this.V,"tick",this.mb),this.V.start())):(da(this.j,this.m,o,null),Oy(this,o)),u==4&&Ws(this),this.i&&!this.J&&(u==4?hC(this.l,this):(this.i=!1,$u(this)))}else a9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Sn(12)):(this.s=0,Sn(13)),Ws(this),lc(this)}}}catch{}finally{}};function zR(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function qR(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=j4(t,n),i==Ny){e==4&&(t.s=4,Sn(14),r=!1),da(t.j,t.m,null,"[Incomplete Response]");break}else if(i==jR){t.s=4,Sn(15),da(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else da(t.j,t.m,i,null),Oy(t,i);zR(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),t0(e),e.M=!0,Sn(11))):(da(t.j,t.m,n,"[Invalid Chunked Response]"),Ws(t),lc(t))}J.mb=function(){if(this.g){var t=$r(this.g),e=this.g.ja();this.o<e.length&&(dp(this),qR(this,t,e),this.i&&t!=4&&$u(this))}};function j4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ny:(n=Number(e.substring(n,r)),isNaN(n)?jR:(r+=1,r+n>e.length?Ny:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,Ws(this)};function $u(t){t.Y=Date.now()+t.P,WR(t,t.P)}function WR(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Nu(hn(t.lb,t),e)}function dp(t){t.C&&(Te.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(V4(this.j,this.B),this.L!=2&&(Wc(),Sn(17)),Ws(this),this.s=2,lc(this)):WR(this,this.Y-t)};function lc(t){t.l.H==0||t.J||hC(t.l,t)}function Ws(t){dp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,W_(t.V),OR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Oy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||$y(n.i,t))){if(!t.K&&$y(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)dh(n),gp(n);else break e;e0(n),Sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Nu(hn(n.ib,n),6e3));if(1>=JR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Hs(n,11)}else if((t.K||n.g==t)&&dh(n),!Uc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Y_(s,s.h),s.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,lt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=gC(r,r.J?r.pa:null,r.Y),o.K){eC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(dp(a),$u(a)),r.g=o}else dC(r);0<n.j.length&&yp(n)}else c[0]!="stop"&&c[0]!="close"||Hs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Hs(n,7):J_(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Wc(4)}catch{}}function B4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(np(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function z4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(np(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function HR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(np(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=z4(t),r=B4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var KR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function eo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof eo){this.h=t.h,ch(this,t.j),this.s=t.s,this.g=t.g,uh(this,t.m),this.l=t.l;var e=t.i,n=new Hc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),B1(this,n),this.o=t.o}else t&&(e=String(t).match(KR))?(this.h=!1,ch(this,e[1]||"",!0),this.s=zl(e[2]||""),this.g=zl(e[3]||"",!0),uh(this,e[4]),this.l=zl(e[5]||"",!0),B1(this,e[6]||"",!0),this.o=zl(e[7]||"")):(this.h=!1,this.i=new Hc(null,this.h))}eo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ql(e,z1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ql(e,z1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ql(n,n.charAt(0)=="/"?K4:H4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ql(n,Q4)),t.join("")};function Ei(t){return new eo(t)}function ch(t,e,n){t.j=n?zl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function uh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function B1(t,e,n){e instanceof Hc?(t.i=e,Y4(t.i,t.h)):(n||(e=ql(e,G4)),t.i=new Hc(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function fp(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ql(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,W4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function W4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var z1=/[#\/\?@]/g,H4=/[#\?:]/g,K4=/[#\?]/g,G4=/[#\?@]/g,Q4=/#/g;function Hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ks(t){t.g||(t.g=new Map,t.h=0,t.i&&q4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=Hc.prototype;J.add=function(t,e){ks(this),this.i=null,t=tl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function GR(t,e){ks(t),e=tl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function QR(t,e){return ks(t),e=tl(t,e),t.g.has(e)}J.forEach=function(t,e){ks(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.ta=function(){ks(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.Z=function(t){ks(this);let e=[];if(typeof t=="string")QR(this,t)&&(e=e.concat(this.g.get(tl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return ks(this),this.i=null,t=tl(this,t),QR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function YR(t,e,n){GR(t,e),0<n.length&&(t.i=null,t.g.set(tl(t,e),M_(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function tl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Y4(t,e){e&&!t.j&&(ks(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(GR(this,r),YR(this,i,n))},t)),t.j=e}var X4=class{constructor(t,e){this.g=t,this.map=e}};function XR(t){this.l=t||Z4,Te.PerformanceNavigationTiming?(t=Te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Z4=10;function ZR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function JR(t){return t.h?1:t.g?t.g.size:0}function $y(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Y_(t,e){t.g?t.g.add(e):t.h=e}function eC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}XR.prototype.cancel=function(){if(this.i=tC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function tC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return M_(t.i)}var J4=class{stringify(t){return Te.JSON.stringify(t,void 0)}parse(t){return Te.JSON.parse(t,void 0)}};function e9(){this.g=new J4}function t9(t,e,n){const r=n||"";try{HR(t,function(i,s){let o=i;Pu(i)&&(o=z_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function n9(t,e){const n=new ap;if(Te.Image){const r=new Image;r.onload=gd(vd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gd(vd,n,r,"TestLoadImage: error",!1,e),r.onabort=gd(vd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gd(vd,n,r,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hp(t){this.l=t.ec||null,this.j=t.ob||!1}Gt(hp,K_);hp.prototype.g=function(){return new pp(this.l,this.j)};hp.prototype.i=function(t){return function(){return t}}({});function pp(t,e){Kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=X_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(pp,Kt);var X_=0;J=pp.prototype;J.open=function(t,e){if(this.readyState!=X_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kc(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mu(this)),this.readyState=X_};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function nC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mu(this):Kc(this),this.readyState==3&&nC(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,Mu(this))};J.Ya=function(t){this.g&&(this.response=t,Mu(this))};J.ka=function(){this.g&&Mu(this)};function Mu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kc(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(pp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var r9=Te.JSON.parse;function St(t){Kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rC,this.L=this.M=!1}Gt(St,Kt);var rC="",i9=/^https?$/i,s9=["POST","PUT"];J=St.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ky.g(),this.C=this.u?j1(this.u):j1(ky),this.g.onreadystatechange=hn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){q1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Te.FormData&&t instanceof Te.FormData,!(0<=_R(s9,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oC(this),0<this.B&&((this.L=o9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.ua,this)):this.A=H_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){q1(this,s)}};function o9(t){return Va&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof $_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))};function q1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,iC(t),mp(t)}function iC(t){t.F||(t.F=!0,rn(t,"complete"),rn(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rn(this,"complete"),rn(this,"abort"),mp(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mp(this,!0)),St.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?sC(this):this.kb())};J.kb=function(){sC(this)};function sC(t){if(t.h&&typeof $_<"u"&&(!t.C[1]||$r(t)!=4||t.da()!=2)){if(t.v&&$r(t)==4)H_(t.La,0,t);else if(rn(t,"readystatechange"),$r(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(KR)[1]||null;!i&&Te.self&&Te.self.location&&(i=Te.self.location.protocol.slice(0,-1)),r=!i9.test(i?i.toLowerCase():"")}n=r}if(n)rn(t,"complete"),rn(t,"success");else{t.m=6;try{var s=2<$r(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",iC(t)}}finally{mp(t)}}}}function mp(t,e){if(t.g){oC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rn(t,"ready");try{n.onreadystatechange=r}catch{}}}function oC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Te.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function $r(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),r9(e)}};function W1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case rC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function a9(t){const e={};t=(t.g&&2<=$r(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Uc(t[r]))continue;var n=N4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}I4(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function aC(t){let e="";return V_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Z_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function kl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lC(t){this.Ga=0,this.j=[],this.l=new ap,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kl("baseRetryDelayMs",5e3,t),this.hb=kl("retryDelaySeedMs",1e4,t),this.eb=kl("forwardChannelMaxRetries",2,t),this.xa=kl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new XR(t&&t.concurrentRequestLimit),this.Ja=new e9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=lC.prototype;J.ra=8;J.H=1;function J_(t){if(cC(t),t.H==3){var e=t.W++,n=Ei(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),Lu(t,n),e=new Ou(t,t.l,e),e.L=2,e.A=fp(Ei(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon)try{n=Te.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Te.Image&&(new Image().src=e.A,n=!0),n||(e.g=yC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),$u(e)}mC(t)}function gp(t){t.g&&(t0(t),t.g.cancel(),t.g=null)}function cC(t){gp(t),t.u&&(Te.clearTimeout(t.u),t.u=null),dh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Te.clearTimeout(t.m),t.m=null)}function yp(t){if(!ZR(t.i)&&!t.m){t.m=!0;var e=t.Na;Bc||kR(),zc||(Bc(),zc=!0),q_.add(e,t),t.C=0}}function l9(t,e){return JR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Nu(hn(t.Na,t,e),pC(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ou(this,this.l,t);let s=this.s;if(this.U&&(s?(s=SR(s),xR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uC(this,i,e),n=Ei(this.I),lt(n,"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),Lu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(aC(s)))+"&"+e:this.o&&Z_(n,this.o,s)),Y_(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,Dy(i,n,null)):Dy(i,n,e),this.H=2}}else this.H==3&&(t?H1(this,t):this.j.length==0||ZR(this.i)||H1(this))};function H1(t,e){var n;e?n=e.m:n=t.W++;const r=Ei(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),Lu(t,r),t.o&&t.s&&Z_(r,t.o,t.s),n=new Ou(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Y_(t.i,n),Dy(n,r,e)}function Lu(t,e){t.na&&V_(t.na,function(n,r){lt(e,r,n)}),t.h&&HR({},function(n,r){lt(e,r,n)})}function uC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?hn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{t9(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function dC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bc||kR(),zc||(Bc(),zc=!0),q_.add(e,t),t.A=0}}function e0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Nu(hn(t.Ma,t),pC(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,fC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Nu(hn(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sn(10),gp(this),fC(this))};function t0(t){t.B!=null&&(Te.clearTimeout(t.B),t.B=null)}function fC(t){t.g=new Ou(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ei(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),Lu(t,e),t.o&&t.s&&Z_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=fp(Ei(e)),n.u=null,n.S=!0,BR(n,t)}J.ib=function(){this.v!=null&&(this.v=null,gp(this),e0(this),Sn(19))};function dh(t){t.v!=null&&(Te.clearTimeout(t.v),t.v=null)}function hC(t,e){var n=null;if(t.g==e){dh(t),t0(t),t.g=null;var r=2}else if($y(t.i,e))n=e.F,eC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=lp(),rn(r,new LR(r,n)),yp(t)}else dC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&l9(t,e)||r==2&&e0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Hs(t,5);break;case 4:Hs(t,10);break;case 3:Hs(t,6);break;default:Hs(t,2)}}}function pC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Hs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=hn(t.pb,t);n||(n=new eo("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||ch(n,"https"),fp(n)),n9(n.toString(),r)}else Sn(2);t.H=0,t.h&&t.h.za(e),mC(t),cC(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sn(2)):(this.l.info("Failed to ping google.com"),Sn(1))};function mC(t){if(t.H=0,t.ma=[],t.h){const e=tC(t.i);(e.length!=0||t.j.length!=0)&&(M1(t.ma,e),M1(t.ma,t.j),t.i.i.length=0,M_(t.j),t.j.length=0),t.h.ya()}}function gC(t,e,n){var r=n instanceof eo?Ei(n):new eo(n);if(r.g!="")e&&(r.g=e+"."+r.g),uh(r,r.m);else{var i=Te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new eo(null);r&&ch(s,r),e&&(s.g=e),i&&uh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&lt(r,n,e),lt(r,"VER",t.ra),Lu(t,r),r}function yC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new St(new hp({ob:n})):new St(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function vC(){}J=vC.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function fh(){if(Va&&!(10<=Number(E4)))throw Error("Environmental error: no available transport.")}fh.prototype.g=function(t,e){return new Wn(t,e)};function Wn(t,e){Kt.call(this),this.g=new lC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Uc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new nl(this)}Gt(Wn,Kt);Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=gC(t,null,t.Y),yp(t)};Wn.prototype.close=function(){J_(this.g)};Wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=z_(t),t=n);e.j.push(new X4(e.fb++,t)),e.H==3&&yp(e)};Wn.prototype.N=function(){this.g.h=null,delete this.j,J_(this.g),delete this.g,Wn.$.N.call(this)};function _C(t){G_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Gt(_C,G_);function wC(){Q_.call(this),this.status=1}Gt(wC,Q_);function nl(t){this.g=t}Gt(nl,vC);nl.prototype.Ba=function(){rn(this.g,"a")};nl.prototype.Aa=function(t){rn(this.g,new _C(t))};nl.prototype.za=function(t){rn(this.g,new wC)};nl.prototype.ya=function(){rn(this.g,"b")};function c9(){this.blockSize=-1}function Ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Gt(Ir,c9);Ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Hm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ir.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Hm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Hm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Hm(this,r),i=0;break}}this.h=i,this.i+=e};Ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var u9={};function n0(t){return-128<=t&&128>t?v4(t,function(e){return new Ye([e|0],0>e?-1:0)}):new Ye([t|0],0>t?-1:0)}function Mr(t){if(isNaN(t)||!isFinite(t))return Ta;if(0>t)return en(Mr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=My;return new Ye(e,0)}function EC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return en(EC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mr(Math.pow(e,8)),r=Ta,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Mr(Math.pow(e,s)),r=r.R(s).add(Mr(o))):(r=r.R(n),r=r.add(Mr(o)))}return r}var My=4294967296,Ta=n0(0),Ly=n0(1),K1=n0(16777216);J=Ye.prototype;J.ea=function(){if(nr(this))return-en(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:My+r)*e,e*=My}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fi(this))return"0";if(nr(this))return"-"+en(this).toString(t);for(var e=Mr(Math.pow(t,6)),n=this,r="";;){var i=ph(n,e).g;n=hh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,fi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nr(t){return t.h==-1}J.X=function(t){return t=hh(this,t),nr(t)?-1:fi(t)?0:1};function en(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ye(n,~t.h).add(Ly)}J.abs=function(){return nr(this)?en(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ye(n,n[n.length-1]&-2147483648?-1:0)};function hh(t,e){return t.add(en(e))}J.R=function(t){if(fi(this)||fi(t))return Ta;if(nr(this))return nr(t)?en(this).R(en(t)):en(en(this).R(t));if(nr(t))return en(this.R(en(t)));if(0>this.X(K1)&&0>t.X(K1))return Mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,_d(n,2*r+2*i),n[2*r+2*i+1]+=s*l,_d(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,_d(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,_d(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ye(n,0)};function _d(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Nl(t,e){this.g=t,this.h=e}function ph(t,e){if(fi(e))throw Error("division by zero");if(fi(t))return new Nl(Ta,Ta);if(nr(t))return e=ph(en(t),e),new Nl(en(e.g),en(e.h));if(nr(e))return e=ph(t,en(e)),new Nl(en(e.g),e.h);if(30<t.g.length){if(nr(t)||nr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ly,r=e;0>=r.X(t);)n=G1(n),r=G1(r);var i=jo(n,1),s=jo(r,1);for(r=jo(r,2),n=jo(n,2);!fi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=jo(r,1),n=jo(n,1)}return e=hh(t,i.R(e)),new Nl(i,e)}for(i=Ta;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Mr(n),o=s.R(e);nr(o)||0<o.X(t);)n-=r,s=Mr(n),o=s.R(e);fi(s)&&(s=Ly),i=i.add(s),t=hh(t,o)}return new Nl(i,t)}J.gb=function(t){return ph(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ye(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ye(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ye(n,this.h^t.h)};function G1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ye(n,t.h)}function jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ye(i,t.h)}fh.prototype.createWebChannel=fh.prototype.g;Wn.prototype.send=Wn.prototype.u;Wn.prototype.open=Wn.prototype.m;Wn.prototype.close=Wn.prototype.close;cp.NO_ERROR=0;cp.TIMEOUT=8;cp.HTTP_ERROR=6;VR.COMPLETE="complete";FR.EventType=Du;Du.OPEN="a";Du.CLOSE="b";Du.ERROR="c";Du.MESSAGE="d";Kt.prototype.listen=Kt.prototype.O;St.prototype.listenOnce=St.prototype.P;St.prototype.getLastError=St.prototype.Sa;St.prototype.getLastErrorCode=St.prototype.Ia;St.prototype.getStatus=St.prototype.da;St.prototype.getResponseJson=St.prototype.Wa;St.prototype.getResponseText=St.prototype.ja;St.prototype.send=St.prototype.ha;St.prototype.setWithCredentials=St.prototype.Oa;Ir.prototype.digest=Ir.prototype.l;Ir.prototype.reset=Ir.prototype.reset;Ir.prototype.update=Ir.prototype.j;Ye.prototype.add=Ye.prototype.add;Ye.prototype.multiply=Ye.prototype.R;Ye.prototype.modulo=Ye.prototype.gb;Ye.prototype.compare=Ye.prototype.X;Ye.prototype.toNumber=Ye.prototype.ea;Ye.prototype.toString=Ye.prototype.toString;Ye.prototype.getBits=Ye.prototype.D;Ye.fromNumber=Mr;Ye.fromString=EC;var d9=function(){return new fh},f9=function(){return lp()},Km=cp,h9=VR,p9=So,Q1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wd=FR,m9=St,g9=Ir,Sa=Ye;const Y1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new x_("@firebase/firestore");function Dl(){return po.logLevel}function Z(t,...e){if(po.logLevel<=Ve.DEBUG){const n=e.map(r0);po.debug(`Firestore (${rl}): ${t}`,...n)}}function Yr(t,...e){if(po.logLevel<=Ve.ERROR){const n=e.map(r0);po.error(`Firestore (${rl}): ${t}`,...n)}}function Fa(t,...e){if(po.logLevel<=Ve.WARN){const n=e.map(r0);po.warn(`Firestore (${rl}): ${t}`,...n)}}function r0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function it(t,e){t||we()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class v9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _9{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new TC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new un(e)}}class w9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class E9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new w9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new T9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=x9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Vt(0,0))}static max(){return new xe(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends Gc{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const I9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Gc{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return I9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(nt.fromString(e))}static fromName(e){return new de(nt.fromString(e).popFirst(5))}static empty(){return new de(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new nt(e.slice()))}}function b9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new ms(i,de.empty(),e)}function R9(t){return new ms(t.readTime,t.key,-1)}class ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ms(xe.min(),de.empty(),-1)}static max(){return new ms(xe.max(),de.empty(),-1)}}function C9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==A9)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new cc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=s0(r.target.error);this.V.reject(new cc(e,i))}}static open(e,n,r,i){try{return new i0(n,e.transaction(i,r))}catch(s){throw new cc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Z("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new N9(n)}}class Ks{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ks.S($t())===12.2&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Z("SimpleDb","Removing database:",e),Vs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!$b())return!1;if(Ks.C())return!0;const e=$t(),n=Ks.S(e),r=0<n&&n<10,i=Ks.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Z("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new cc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Q(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Q(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new cc(e,o))},i.onupgradeneeded=s=>{Z("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Z("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=i0.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),L.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(Z("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class k9{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Vs(this.k.delete())}}class cc extends Q{constructor(e,n){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fu(t){return t.name==="IndexedDbTransactionError"}class N9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Z("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Z("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vs(r)}add(e){return Z("SimpleDb","ADD",this.store.name,e,e),Vs(this.store.add(e))}get(e){return Vs(this.store.get(e)).next(n=>(n===void 0&&(n=null),Z("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Z("SimpleDb","DELETE",this.store.name,e),Vs(this.store.delete(e))}count(){return Z("SimpleDb","COUNT",this.store.name),Vs(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){Z("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=s=>{const o=s0(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new k9(a),c=n(a.primaryKey,a.value,l);if(c instanceof L){const u=c.catch(d=>(l.done(),L.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Vs(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=s0(r.target.error);n(i)}})}let X1=!1;function s0(t){const e=Ks.S($t());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return X1||(X1=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}o0._e=-1;function vp(t){return t==null}function mh(t){return t===0&&1/t==-1/0}function D9(t){return typeof t=="number"&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=s??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J1(this.data.getIterator())}getIteratorFrom(e){return new J1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class J1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new vr([])}unionWith(e){let n=new sn(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new IC("Invalid base64 string: "+s):s}}(e);return new gn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const O9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(it(!!t),typeof t=="string"){let e=0;const n=O9.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mo(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function a0(t){const e=t.mapValue.fields.__previous_value__;return _p(e)?a0(e):e}function Qc(t){const e=gs(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Yc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_p(t)?4:M9(t)?9007199254740991:10:we()}function Xr(t,e){if(t===e)return!0;const n=go(t);if(n!==go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gs(i.timestampValue),a=gs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return mo(i.bytesValue).isEqual(mo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kt(i.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kt(i.integerValue)===kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kt(i.doubleValue),a=kt(s.doubleValue);return o===a?mh(o)===mh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Z1(o)!==Z1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xr(o[l],a[l])))return!1;return!0}(t,e);default:return we()}}function Xc(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function ja(t,e){if(t===e)return 0;const n=go(t),r=go(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=kt(s.integerValue||s.doubleValue),l=kt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return eT(t.timestampValue,e.timestampValue);case 4:return eT(Qc(t),Qc(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(s,o){const a=mo(s),l=mo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=We(a[c],l[c]);if(u!==0)return u}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=We(kt(s.latitude),kt(o.latitude));return a!==0?a:We(kt(s.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=ja(a[c],l[c]);if(u)return u}return We(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Td.mapValue&&o===Td.mapValue)return 0;if(s===Td.mapValue)return 1;if(o===Td.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=We(l[d],u[d]);if(f!==0)return f;const p=ja(a[l[d]],c[u[d]]);if(p!==0)return p}return We(l.length,u.length)}(t.mapValue,e.mapValue);default:throw we()}}function eT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=gs(t),r=gs(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function Ba(t){return Vy(t)}function Vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Vy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Vy(n.fields[o])}`;return i+"}"}(t.mapValue):we()}function gh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fy(t){return!!t&&"integerValue"in t}function l0(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function nT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return il(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function M9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){il(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rr(uc(this.value))}}function bC(t){const e=[];return il(t.fields,(n,r)=>{const i=new tn([n]);if(nf(r)){const s=bC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,xe.min(),xe.min(),xe.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new fn(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new fn(e,2,n,xe.min(),xe.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,xe.min(),xe.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.position=e,this.inclusive=n}}function rT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=ja(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function L9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{}class Ot extends RC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F9(e,n,r):n==="array-contains"?new B9(e,r):n==="in"?new z9(e,r):n==="not-in"?new q9(e,r):n==="array-contains-any"?new W9(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U9(e,r):new j9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ja(n,this.value)):n!==null&&go(this.value)===go(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends RC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new br(e,n)}matches(e){return CC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function CC(t){return t.op==="and"}function AC(t){return V9(t)&&CC(t)}function V9(t){for(const e of t.filters)if(e instanceof br)return!1;return!0}function Uy(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(AC(t))return t.filters.map(e=>Uy(e)).join(",");{const e=t.filters.map(n=>Uy(n)).join(",");return`${t.op}(${e})`}}function PC(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)}(t,e):t instanceof br?function(r,i){return i instanceof br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PC(o,i.filters[a]),!0):!1}(t,e):void we()}function kC(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ba(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(kC).join(" ,")+"}"}(t):"Filter"}class F9 extends Ot{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class U9 extends Ot{constructor(e,n){super(e,"in",n),this.keys=NC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class j9 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=NC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class B9 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l0(n)&&Xc(n.arrayValue,this.value)}}class z9 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class q9 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class W9 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function sT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new H9(t,e,n,r,i,s,o)}function c0(t){const e=Re(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ba(r)).join(",")),e.ce=n}return e.ce}function u0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function jy(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function K9(t,e,n,r,i,s,o,a){return new xo(t,e,n,r,i,s,o,a)}function d0(t){return new xo(t)}function oT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f0(t){return t.collectionGroup!==null}function xa(t){const e=Re(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new sn(tn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Zc(s,r))}),n.has(tn.keyField().canonicalString())||e.le.push(new Zc(tn.keyField(),r))}return e.le}function Hr(t){const e=Re(t);return e.he||(e.he=G9(e,xa(t))),e.he}function G9(t,e){if(t.limitType==="F")return sT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zc(i.field,s)});const n=t.endAt?new za(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new za(t.startAt.position,t.startAt.inclusive):null;return sT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function By(t,e){const n=t.filters.concat([e]);return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yh(t,e,n){return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wp(t,e){return u0(Hr(t),Hr(e))&&t.limitType===e.limitType}function DC(t){return`${c0(Hr(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kC(i)).join(", ")}]`),vp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ba(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ba(i)).join(",")),`Target(${r})`}(Hr(t))}; limitType=${t.limitType})`}function Ep(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=rT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xa(r),i)||r.endAt&&!function(o,a,l){const c=rT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xa(r),i))}(t,e)}function Q9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OC(t){return(e,n)=>{let r=!1;for(const i of xa(t)){const s=Y9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Y9(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ja(l,c):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new yt(de.comparator);function Ti(){return X9}const $C=new yt(de.comparator);function Wl(...t){let e=$C;for(const n of t)e=e.insert(n.key,n);return e}function MC(t){let e=$C;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return dc()}function LC(){return dc()}function dc(){return new sl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Z9=new yt(de.comparator),J9=new sn(de.comparator);function Oe(...t){let e=J9;for(const n of t)e=e.add(n);return e}const e3=new sn(We);function t3(){return e3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function FC(t){return{integerValue:""+t}}function n3(t,e){return D9(e)?FC(e):VC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function r3(t,e,n){return t instanceof Jc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_p(s)&&(s=a0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof eu?jC(t,e):t instanceof tu?BC(t,e):function(i,s){const o=UC(i,s),a=aT(o)+aT(i.Ie);return Fy(o)&&Fy(i.Ie)?FC(a):VC(i.serializer,a)}(t,e)}function i3(t,e,n){return t instanceof eu?jC(t,e):t instanceof tu?BC(t,e):n}function UC(t,e){return t instanceof vh?function(r){return Fy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jc extends Tp{}class eu extends Tp{constructor(e){super(),this.elements=e}}function jC(t,e){const n=zC(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class tu extends Tp{constructor(e){super(),this.elements=e}}function BC(t,e){let n=zC(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class vh extends Tp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function aT(t){return kt(t.integerValue||t.doubleValue)}function zC(t){return l0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n){this.field=e,this.transform=n}}function o3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof eu&&i instanceof eu||r instanceof tu&&i instanceof tu?Ua(r.elements,i.elements,Xr):r instanceof vh&&i instanceof vh?Xr(r.Ie,i.Ie):r instanceof Jc&&i instanceof Jc}(t.transform,e.transform)}class a3{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Sp=class{};function qC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h0(t.key,Er.none()):new Uu(t.key,t.data,Er.none());{const n=t.data,r=rr.empty();let i=new sn(tn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Io(t.key,r,new vr(i.toArray()),Er.none())}}function l3(t,e,n){t instanceof Uu?function(i,s,o){const a=i.value.clone(),l=cT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Io?function(i,s,o){if(!rf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=cT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(WC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fc(t,e,n,r){return t instanceof Uu?function(s,o,a,l){if(!rf(s.precondition,o))return a;const c=s.value.clone(),u=uT(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Io?function(s,o,a,l){if(!rf(s.precondition,o))return a;const c=uT(s.fieldTransforms,l,o),u=o.data;return u.setAll(WC(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return rf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function c3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=UC(r.transform,i||null);s!=null&&(n===null&&(n=rr.empty()),n.set(r.field,s))}return n||null}function lT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ua(r,i,(s,o)=>o3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uu extends Sp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Io extends Sp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cT(t,e,n){const r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,i3(o,a,n[i]))}return r}function uT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,r3(s,o,e))}return r}class h0 extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u3 extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&l3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(n,r)=>lT(n,r))&&Ua(this.baseMutations,e.baseMutations,(n,r)=>lT(n,r))}}class p0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length);let i=function(){return Z9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new p0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ue;function p3(t){switch(t){default:return we();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function HC(t){if(t===void 0)return Yr("GRPC error has no .code"),D.UNKNOWN;switch(t){case Pt.OK:return D.OK;case Pt.CANCELLED:return D.CANCELLED;case Pt.UNKNOWN:return D.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return D.INTERNAL;case Pt.UNAVAILABLE:return D.UNAVAILABLE;case Pt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Pt.NOT_FOUND:return D.NOT_FOUND;case Pt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Pt.ABORTED:return D.ABORTED;case Pt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Pt.DATA_LOSS:return D.DATA_LOSS;default:return we()}}(Ue=Pt||(Pt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new Sa([4294967295,4294967295],0);function dT(t){const e=m3().encode(t),n=new g9;return n.update(e),new Uint8Array(n.digest())}function fT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sa([n,r],0),new Sa([i,s],0)]}class m0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Sa.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Sa.fromNumber(r)));return i.compare(g3)===1&&(i=new Sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=dT(e),[r,i]=fT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new m0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=dT(e),[r,i]=fT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xp(xe.min(),i,new yt(We),Ti(),Oe())}}class ju{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ju(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class KC{constructor(e,n){this.targetId=e,this.fe=n}}class GC{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hT{constructor(){this.ge=0,this.pe=mT(),this.ye=gn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new ju(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=mT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,it(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class y3{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ti(),this.Qe=pT(),this.Ke=new yt(We)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(jy(s))if(r===0){const o=new de(s.path);this.We(n,o,fn.newNoDocument(o,xe.min()))}else it(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=mo(r).toUint8Array()}catch(l){if(l instanceof IC)return Fa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new m0(o,i,s)}catch(l){return Fa(l instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&jy(a.target)){const l=new de(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,fn.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Oe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new xp(e,n,this.Ke,this.qe,r);return this.qe=Ti(),this.Qe=pT(),this.Ke=new yt(We),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new hT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new sn(We),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new hT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function pT(){return new yt(de.comparator)}function mT(){return new yt(de.comparator)}const v3={asc:"ASCENDING",desc:"DESCENDING"},_3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w3={and:"AND",or:"OR"};class E3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zy(t,e){return t.useProto3Json||vp(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T3(t,e){return _h(t,e.toTimestamp())}function Kr(t){return it(!!t),xe.fromTimestamp(function(n){const r=gs(n);return new Vt(r.seconds,r.nanos)}(t))}function g0(t,e){return qy(t,e).canonicalString()}function qy(t,e){const n=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YC(t){const e=nt.fromString(t);return it(tA(e)),e}function Wy(t,e){return g0(t.databaseId,e.path)}function Gm(t,e){const n=YC(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(ZC(n))}function XC(t,e){return g0(t.databaseId,e)}function S3(t){const e=YC(t);return e.length===4?nt.emptyPath():ZC(e)}function Hy(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZC(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gT(t,e,n){return{name:Wy(t,e),fields:n.value.mapValue.fields}}function x3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(it(u===void 0||typeof u=="string"),gn.fromBase64String(u||"")):(it(u===void 0||u instanceof Uint8Array),gn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?D.UNKNOWN:HC(c.code);return new Q(u,c.message||"")}(o);n=new GC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gm(t,r.document.name),s=Kr(r.document.updateTime),o=r.document.createTime?Kr(r.document.createTime):xe.min(),a=new rr({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gm(t,r.document),s=r.readTime?Kr(r.readTime):xe.min(),o=fn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new sf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gm(t,r.document),s=r.removedTargetIds||[];n=new sf([],s,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new h3(i,s),a=r.targetId;n=new KC(a,o)}}return n}function I3(t,e){let n;if(e instanceof Uu)n={update:gT(t,e.key,e.value)};else if(e instanceof h0)n={delete:Wy(t,e.key)};else if(e instanceof Io)n={update:gT(t,e.key,e.data),updateMask:O3(e.fieldMask)};else{if(!(e instanceof u3))return we();n={verify:Wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:T3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:we()}(t,e.precondition)),n}function b3(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kr(i.updateTime):Kr(s);return o.isEqual(xe.min())&&(o=Kr(s)),new a3(o,i.transformResults||[])}(n,e))):[]}function R3(t,e){return{documents:[XC(t,e.path)]}}function C3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XC(t,i);const s=function(c){if(c.length!==0)return eA(br.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ko(f.field),direction:k3(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=zy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function A3(t){let e=S3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=JC(d);return f instanceof br&&AC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new Zc(Go(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,vp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new za(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new za(p,f)}(n.endAt)),K9(e,i,o,s,a,"F",l,c)}function P3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Go(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Go(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Go(n.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Go(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(Go(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>JC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function k3(t){return v3[t]}function N3(t){return _3[t]}function D3(t){return w3[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Go(t){return tn.fromServerFormat(t.fieldPath)}function eA(t){return t instanceof Ot?function(n){if(n.op==="=="){if(nT(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nT(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:N3(n.op),value:n.value}}}(t):t instanceof br?function(n){const r=n.getFilters().map(i=>eA(i));return r.length===1?r[0]:{compositeFilter:{op:D3(n.op),filters:r}}}(t):we()}function O3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r,i,s=xe.min(),o=xe.min(),a=gn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.ct=e}}function M3(t){const e=A3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this._n=new V3}addToCollectionParentIndex(e,n){return this._n.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(ms.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class V3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(nt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qa(0)}static Bn(){return new qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.changes=new sl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fc(r.mutation,i,vr.empty(),Vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ti();const o=dc(),a=function(){return dc()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Io)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),fc(u.mutation,c,u.mutation.getFieldMask(),Vt.now())):o.set(c.key,vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new U3(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dc();let i=new yt((o,a)=>o-a),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||vr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=LC();u.forEach(f=>{if(!s.has(f)){const p=qC(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Gs());let a=-1,l=s;return o.next(c=>L.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?L.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Oe())).next(u=>({batchId:a,changes:MC(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wl();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const c=function(d,f){return new xo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,fn.newInvalidDocument(u)))});let a=Wl();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&fc(u.mutation,c,vr.empty(),Vt.now()),Ep(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return L.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:M3(i.bundledQuery),readTime:Kr(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.overlays=new yt(de.comparator),this.hr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Gs(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Gs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Gs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f3(n,r));let s=this.hr.get(n);s===void 0&&(s=Oe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.Pr=new sn(qt.Ir),this.Tr=new sn(qt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new qt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new de(new nt([])),r=new qt(n,e),i=new qt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new de(new nt([])),r=new qt(n,e),i=new qt(n,e+1);let s=Oe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new qt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return de.comparator(e.key,n.key)||We(e.pr,n.pr)}static Er(e,n){return We(e.pr,n.pr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new sn(qt.Ir)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new d3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new qt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),i=new qt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(We);return n.forEach(i=>{const s=new qt(i,0),o=new qt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),L.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new qt(new de(s),0);let a=new sn(We);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),L.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return L.forEach(n.mutations,i=>{const s=new qt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new qt(n,0),i=this.wr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.vr=e,this.docs=function(){return new yt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ti();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C9(R9(u),r)<=0||(i.has(u.key)||Ep(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){we()}Fr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new H3(this)}getSize(e){return L.resolve(this.size)}}class H3 extends F3{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.persistence=e,this.Mr=new sl(n=>c0(n),u0),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new y0,this.targetCount=0,this.Br=qa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),L.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new qa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.qn(n),L.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.Lr={},this.overlays={},this.kr=new o0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new K3(this),this.indexManager=new L3,this.remoteDocumentCache=function(i){return new W3(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new $3(n),this.$r=new B3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new q3(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new Q3(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return L.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Q3 extends P9{constructor(e){super(),this.currentSequenceNumber=e}}class v0{constructor(e){this.persistence=e,this.zr=new y0,this.jr=null}static Hr(e){return new v0(e)}get Jr(){if(this.jr)return this.jr;throw we()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),L.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Jr,r=>{const i=de.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,xe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return L.or([()=>L.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return NM()?8:Ks.v($t())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Y3;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Dl()<=Ve.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),L.resolve()):(Dl()<=Ve.DEBUG&&Z("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Dl()<=Ve.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):L.resolve())}ji(e,n){if(oT(n))return L.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yh(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Oe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,yh(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return oT(n)||i.isEqual(xe.min())?L.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?L.resolve(null):(Dl()<=Ve.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(n)),this.es(e,o,n,b9(i,-1)).next(a=>a))})}Zi(e,n){let r=new sn(OC(e));return n.forEach((i,s)=>{Ep(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Dl()<=Ve.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.zi.getDocumentsMatchingQuery(e,n,ms.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new yt(We),this.rs=new sl(s=>c0(s),u0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j3(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function J3(t,e,n,r){return new Z3(t,e,n,r)}async function nA(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Oe();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function e6(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=L.resolve();return f.forEach(y=>{p=p.next(()=>u.getEntry(l,y)).next(v=>{const w=c.docVersions.get(y);it(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rA(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function t6(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(gn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(v,w,g){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let l=Ti(),c=Oe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(n6(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(xe.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function n6(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ti();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function r6(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i6(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Ky(t,e,n){const r=Re(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fu(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function yT(t,e,n){const r=Re(t);let i=xe.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Re(l),f=d.rs.get(u);return f!==void 0?L.resolve(d.ns.get(f)):d.Qr.getTargetData(c,u)}(r,o,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:xe.min(),n?s:Oe())).next(a=>(s6(r,Q9(e),a),{documents:a,hs:s})))}function s6(t,e,n){let r=t.ss.get(e)||xe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class vT{constructor(){this.activeTargetIds=t3()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o6{constructor(){this.no=new vT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new vT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd=null;function Qm(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class u6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Qm(),l=this.bo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Fa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=l6[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Qm();return new Promise((o,a)=>{const l=new m9;l.setWithCredentials(!0),l.listenOnce(h9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Km.NO_ERROR:const u=l.getResponseJson();Z(cn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Km.TIMEOUT:Z(cn,`RPC '${e}' ${s} timed out`),a(new Q(D.DEADLINE_EXCEEDED,"Request time out"));break;case Km.HTTP_ERROR:const d=l.getStatus();if(Z(cn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(g)>=0?g:D.UNKNOWN}(p.status);a(new Q(y,p.message))}else a(new Q(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(D.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{Z(cn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Z(cn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Qm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d9(),a=f9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Z(cn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const y=new c6({lo:w=>{p?Z(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(Z(cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Z(cn,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),v=(w,g,m)=>{w.listen(g,_=>{try{m(_)}catch(S){setTimeout(()=>{throw S},0)}})};return v(d,wd.EventType.OPEN,()=>{p||Z(cn,`RPC '${e}' stream ${i} transport opened.`)}),v(d,wd.EventType.CLOSE,()=>{p||(p=!0,Z(cn,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),v(d,wd.EventType.ERROR,w=>{p||(p=!0,Fa(cn,`RPC '${e}' stream ${i} transport errored:`,w),y.Vo(new Q(D.UNAVAILABLE,"The operation could not be completed")))}),v(d,wd.EventType.MESSAGE,w=>{var g;if(!p){const m=w.data[0];it(!!m);const _=m,S=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(S){Z(cn,`RPC '${e}' stream ${i} received error:`,S);const I=S.status;let E=function(k){const F=Pt[k];if(F!==void 0)return HC(F)}(I),x=S.message;E===void 0&&(E=D.INTERNAL,x="Unknown error status: "+I+" with message "+S.message),p=!0,y.Vo(new Q(E,x)),d.close()}else Z(cn,`RPC '${e}' stream ${i} received:`,m),y.mo(m)}}),v(a,p9.STAT_EVENT,w=>{w.stat===Q1.PROXY?Z(cn,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Q1.NOPROXY&&Z(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){return new E3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new iA(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Q(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d6 extends sA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=x3(this.serializer,e),r=function(s){if(!("targetChange"in s))return xe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xe.min():o.readTime?Kr(o.readTime):xe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Hy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=jy(l)?{documents:R3(s,l)}:{query:C3(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QC(s,o.resumeToken);const c=zy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(xe.min())>0){a.readTime=_h(s,o.snapshotVersion.toTimestamp());const c=zy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=P3(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Hy(this.serializer),n.removeTarget=e,this.t_(n)}}class f6 extends sA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=b3(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.T_(r,n)}return it(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Hy(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I3(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Q(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,qy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(D.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,qy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(D.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class p6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Yr(n),this.g_=!1):Z("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{bo(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Re(l);c.v_.add(4),await Bu(c),c.x_.set("Unknown"),c.v_.delete(4),await bp(c)}(this))})}),this.x_=new p6(r,i)}}async function bp(t){if(bo(t))for(const e of t.F_)await e(!0)}async function Bu(t){for(const e of t.F_)await e(!1)}function oA(t,e){const n=Re(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),T0(n)?E0(n):ol(n).Jo()&&w0(n,e))}function aA(t,e){const n=Re(t),r=ol(n);n.C_.delete(e),r.Jo()&&lA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():bo(n)&&n.x_.set("Unknown"))}function w0(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).c_(e)}function lA(t,e){t.O_.Oe(e),ol(t).l_(e)}function E0(t){t.O_=new y3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.x_.p_()}function T0(t){return bo(t)&&!ol(t).Ho()&&t.C_.size>0}function bo(t){return Re(t).v_.size===0}function cA(t){t.O_=void 0}async function g6(t){t.C_.forEach((e,n)=>{w0(t,e)})}async function y6(t,e){cA(t),T0(t)?(t.x_.S_(e),E0(t)):t.x_.set("Unknown")}async function v6(t,e,n){if(t.x_.set("Online"),e instanceof GC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(t,r)}else if(e instanceof sf?t.O_.$e(e):e instanceof KC?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(xe.min()))try{const r=await rA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(gn.EMPTY_BYTE_STRING,u.snapshotVersion)),lA(s,l);const d=new Xi(u.target,l,c,u.sequenceNumber);w0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await wh(t,r)}}async function wh(t,e,n){if(!Fu(e))throw e;t.v_.add(1),await Bu(t),t.x_.set("Offline"),n||(n=()=>rA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await bp(t)})}function uA(t,e){return e().catch(n=>wh(t,n,e))}async function Rp(t){const e=Re(t),n=ys(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;_6(e);)try{const i=await r6(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,w6(e,i)}catch(i){await wh(e,i)}dA(e)&&fA(e)}function _6(t){return bo(t)&&t.D_.length<10}function w6(t,e){t.D_.push(e);const n=ys(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function dA(t){return bo(t)&&!ys(t).Ho()&&t.D_.length>0}function fA(t){ys(t).start()}async function E6(t){ys(t).d_()}async function T6(t){const e=ys(t);for(const n of t.D_)e.I_(n.mutations)}async function S6(t,e,n){const r=t.D_.shift(),i=p0.from(r,e,n);await uA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rp(t)}async function x6(t,e){e&&ys(t).P_&&await async function(r,i){if(function(o){return p3(o)&&o!==D.ABORTED}(i.code)){const s=r.D_.shift();ys(r).Zo(),await uA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Rp(r)}}(t,e),dA(t)&&fA(t)}async function wT(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=bo(n);n.v_.add(3),await Bu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await bp(n)}async function I6(t,e){const n=Re(t);e?(n.v_.delete(2),await bp(n)):e||(n.v_.add(2),await Bu(n),n.x_.set("Unknown"))}function ol(t){return t.N_||(t.N_=function(n,r,i){const s=Re(n);return s.R_(),new d6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:g6.bind(null,t),To:y6.bind(null,t),u_:v6.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),T0(t)?E0(t):t.x_.set("Unknown")):(await t.N_.stop(),cA(t))})),t.N_}function ys(t){return t.B_||(t.B_=function(n,r,i){const s=Re(n);return s.R_(),new f6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:E6.bind(null,t),To:x6.bind(null,t),E_:T6.bind(null,t),T_:S6.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Rp(t)):(await t.B_.stop(),t.D_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new S0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x0(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Fu(t))return new Q(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new Ia(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.L_=new yt(de.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):we():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wa(e,n,Ia.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.q_=void 0,this.Q_=[]}}class R6{constructor(){this.queries=new sl(e=>DC(e),wp),this.onlineState="Unknown",this.K_=new Set}}async function hA(t,e){const n=Re(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new b6),i)try{s.q_=await n.onListen(r)}catch(o){const a=x0(o,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&I0(n)}async function pA(t,e){const n=Re(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function C6(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&I0(n)}function A6(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function I0(t){t.K_.forEach(e=>{e.next()})}class mA{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.key=e}}class yA{constructor(e){this.key=e}}class P6{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Oe(),this.mutatedKeys=Oe(),this.ua=OC(e),this.ca=new Ia(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new ET,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),p=Ep(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?y!==v&&(r.track({type:3,doc:p}),w=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ua(p,l)>0||c&&this.ua(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,d)=>function(p,y){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return v(p)-v(y)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,c=l!==this._a;return this._a=l,o.length!==0||c?{snapshot:new Wa(this.query,e.ca,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new ET,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Oe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new yA(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new gA(r))}),n}Ra(e){this.oa=e.hs,this.aa=Oe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Wa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class k6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N6{constructor(e){this.key=e,this.ma=!1}}class D6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new sl(a=>DC(a),wp),this.pa=new Map,this.ya=new Set,this.wa=new yt(de.comparator),this.Sa=new Map,this.ba=new y0,this.Da={},this.Ca=new Map,this.va=qa.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function O6(t,e){const n=q6(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await i6(n.localStore,Hr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await $6(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&oA(n.remoteStore,o)}return i}async function $6(t,e,n,r,i){t.Ma=(d,f,p)=>async function(v,w,g,m){let _=w.view.ha(g);_.Xi&&(_=await yT(v.localStore,w.query,!1).then(({documents:x})=>w.view.ha(x,_)));const S=m&&m.targetChanges.get(w.targetId),I=m&&m.targetMismatches.get(w.targetId)!=null,E=w.view.applyChanges(_,v.isPrimaryClient,S,I);return ST(v,w.targetId,E.da),E.snapshot}(t,d,f,p);const s=await yT(t.localStore,e,!0),o=new P6(e,s.hs),a=o.ha(s.documents),l=ju.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);ST(t,n,c.da);const u=new k6(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function M6(t,e){const n=Re(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!wp(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ky(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),aA(n.remoteStore,r.targetId),Gy(n,r.targetId)}).catch(Vu)):(Gy(n,r.targetId),await Ky(n.localStore,r.targetId,!0))}async function L6(t,e,n){const r=W6(t);try{const i=await function(o,a){const l=Re(o),c=Vt.now(),u=a.reduce((p,y)=>p.add(y.key),Oe());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Ti(),v=Oe();return l.os.getEntries(p,u).next(w=>{y=w,y.forEach((g,m)=>{m.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(w=>{d=w;const g=[];for(const m of a){const _=c3(m,d.get(m.key).overlayedDocument);_!=null&&g.push(new Io(m.key,_,bC(_.value.mapValue),Er.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(p,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:MC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new yt(We)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await zu(r,i.changes),await Rp(r.remoteStore)}catch(i){const s=x0(i,"Failed to persist write");n.reject(s)}}async function vA(t,e){const n=Re(t);try{const r=await t6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?it(o.ma):i.removedDocuments.size>0&&(it(o.ma),o.ma=!1))}),await zu(n,r,e)}catch(r){await Vu(r)}}function TT(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Re(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.Q_)f.U_(a)&&(c=!0)}),c&&I0(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V6(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new yt(de.comparator);o=o.insert(s,fn.newNoDocument(s,xe.min()));const a=Oe().add(s),l=new xp(xe.min(),new Map,new yt(We),o,a);await vA(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),b0(r)}else await Ky(r.localStore,e,!1).then(()=>Gy(r,e,n)).catch(Vu)}async function F6(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await e6(n.localStore,e);wA(n,r,null),_A(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zu(n,i)}catch(i){await Vu(i)}}async function U6(t,e,n){const r=Re(t);try{const i=await function(o,a){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(it(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);wA(r,e,n),_A(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zu(r,i)}catch(i){await Vu(i)}}function _A(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function wA(t,e,n){const r=Re(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||EA(t,r)})}function EA(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(aA(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),b0(t))}function ST(t,e,n){for(const r of n)r instanceof gA?(t.ba.addReference(r.key,e),j6(t,r)):r instanceof yA?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||EA(t,r.key)):we()}function j6(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.ya.add(r),b0(t))}function b0(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new de(nt.fromString(e)),r=t.va.next();t.Sa.set(r,new N6(n)),t.wa=t.wa.insert(n,r),oA(t.remoteStore,new Xi(Hr(d0(n.path)),r,"TargetPurposeLimboResolution",o0._e))}}async function zu(t,e,n){const r=Re(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=_0.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,c){const u=Re(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(c,f=>L.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>L.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Fu(d))throw d;Z("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.ns.get(f),y=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(y);u.ns=u.ns.insert(f,v)}}}(r.localStore,s))}async function B6(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await nA(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new Q(D.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(n,r.us)}}function z6(t,e){const n=Re(t),r=n.Sa.get(e);if(r&&r.ma)return Oe().add(r.key);{let i=Oe();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function q6(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V6.bind(null,e),e.fa.u_=C6.bind(null,e.eventManager),e.fa.xa=A6.bind(null,e.eventManager),e}function W6(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U6.bind(null,e),e}class xT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ip(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return J3(this.persistence,new X3,e.initialUser,this.serializer)}createPersistence(e){return new G3(v0.Hr,this.serializer)}createSharedClientState(e){return new o6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class H6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B6.bind(null,this.syncEngine),await I6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R6}()}createDatastore(e){const n=Ip(e.databaseInfo.databaseId),r=function(s){return new u6(s)}(e.databaseInfo);return function(s,o,a,l){return new h6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new m6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>TT(this.syncEngine,n,0),function(){return _T.D()?new _T:new a6}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new D6(i,s,o,a,l,c);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Re(r);Z("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Bu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=SC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xm(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function IT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q6(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wT(e.remoteStore,i)),t._onlineComponents=e}function G6(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Q6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!G6(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await Xm(t,new xT)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Xm(t,new xT);return t._offlineComponents}async function SA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await IT(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await IT(t,new H6))),t._onlineComponents}function Y6(t){return SA(t).then(e=>e.syncEngine)}async function xA(t){const e=await SA(t),n=e.eventManager;return n.onListen=O6.bind(null,e.syncEngine),n.onUnlisten=M6.bind(null,e.syncEngine),n}function X6(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new TA({next:f=>{o.enqueueAndForget(()=>pA(s,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new Q(D.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new Q(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new mA(d0(a.path),u,{includeMetadataChanges:!0,Z_:!0});return hA(s,d)}(await xA(t),t.asyncQueue,e,n,r)),r.promise}function Z6(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new TA({next:f=>{o.enqueueAndForget(()=>pA(s,d)),f.fromCache&&l.source==="server"?c.reject(new Q(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new mA(a,u,{includeMetadataChanges:!0,Z_:!0});return hA(s,d)}(await xA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,n){if(!n)throw new Q(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J6(t,e,n,r){if(e===!0&&r===!0)throw new Q(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RT(t){if(!de.isDocumentKey(t))throw new Q(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CT(t){if(de.isDocumentKey(t))throw new Q(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function Si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cp(t);throw new Q(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function eU(t,e){if(e<=0)throw new Q(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new y9;switch(r.type){case"firstParty":return new E9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bT.get(n);r&&(Z("ComponentProvider","Removing Datastore"),bT.delete(n),r.terminate())}(this),Promise.resolve()}}function tU(t,e,n,r={}){var i;const s=(t=Si(t,Ap))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=un.MOCK_USER;else{a=Ob(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new un(c)}t._authCredentials=new v9(new TC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro=class RA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new RA(this.firestore,e,this._query)}};class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class us extends Ro{constructor(e,n,r){super(e,n,d0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new de(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function CA(t,e,...n){if(t=Ct(t),bA("collection","path",e),t instanceof Ap){const r=nt.fromString(e,...n);return CT(r),new us(t,null,r)}{if(!(t instanceof $n||t instanceof us))throw new Q(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return CT(r),new us(t.firestore,null,r)}}function al(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=SC.newId()),bA("doc","path",e),t instanceof Ap){const r=nt.fromString(e,...n);return RT(r),new $n(t,null,new de(r))}{if(!(t instanceof $n||t instanceof us))throw new Q(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return RT(r),new $n(t.firestore,t instanceof us?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new iA(this,"async_queue_retry"),this._u=()=>{const n=Ym();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Wr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Fu(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=S0.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&we()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class ll extends Ap{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new nU}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||AA(this),this._firestoreClient.terminate()}}function rU(t,e){const n=typeof t=="object"?t:b_(),r=typeof t=="string"?t:e||"(default)",i=Zh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kb("firestore");s&&tU(i,...s)}return i}function R0(t){return t._firestoreClient||AA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new $9(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new K6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ha(gn.fromBase64String(e))}catch(n){throw new Q(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ha(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=/^__.*__$/;class sU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}function PA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class k0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new k0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Eh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(PA(this.du)&&iU.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class oU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ip(e)}Su(e,n,r,i=!1){return new k0({du:e,methodName:n,wu:r,path:tn.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(t){const e=t._freezeSettings(),n=Ip(t._databaseId);return new oU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kA(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);$A("Data must be an object, but it was:",o,r);const a=DA(r,o);let l,c;if(s.merge)l=new vr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=aU(e,d,n);if(!o.contains(f))throw new Q(D.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);cU(u,f)||u.push(f)}l=new vr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new sU(new rr(a),l,c)}class N0 extends A0{_toFieldTransform(e){return new s3(e.path,new Jc)}isEqual(e){return e instanceof N0}}function NA(t,e,n,r=!1){return D0(n,t.Su(r?4:3,e))}function D0(t,e){if(OA(t=Ct(t)))return $A("Unsupported field value:",e,t),DA(t,e);if(t instanceof A0)return function(r,i){if(!PA(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=D0(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vt.fromDate(r);return{timestampValue:_h(i.serializer,s)}}if(r instanceof Vt){const s=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(i.serializer,s)}}if(r instanceof P0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ha)return{bytesValue:QC(i.serializer,r._byteString)};if(r instanceof $n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Cp(r)}`)}(t,e)}function DA(t,e){const n={};return xC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):il(t,(r,i)=>{const s=D0(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function OA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof P0||t instanceof Ha||t instanceof $n||t instanceof A0)}function $A(t,e,n){if(!OA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cp(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function aU(t,e,n){if((e=Ct(e))instanceof C0)return e._internalPath;if(typeof e=="string")return MA(t,e);throw Eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const lU=new RegExp("[~\\*/\\[\\]]");function MA(t,e,n){if(e.search(lU)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new C0(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(D.INVALID_ARGUMENT,a+t+l)}function cU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uU extends O0{data(){return super.data()}}function $0(t,e){return typeof e=="string"?MA(t,e):e instanceof C0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M0{}class kp extends M0{}function PT(t,e,...n){let r=[];e instanceof M0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof V0).length,a=s.filter(l=>l instanceof L0).length;if(o>1||o>0&&a>0)throw new Q(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class L0 extends kp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new L0(e,n,r)}_apply(e){const n=this._parse(e);return LA(e._query,n),new Ro(e.firestore,e.converter,By(e._query,n))}_parse(e){const n=Pp(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Q(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){OT(d,u);const p=[];for(const y of d)p.push(DT(l,s,y));f={arrayValue:{values:p}}}else f=DT(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||OT(d,u),f=NA(a,o,d,u==="in"||u==="not-in");return Ot.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class V0 extends M0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)LA(o,l),o=By(o,l)}(e._query,n),new Ro(e.firestore,e.converter,By(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F0 extends kp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new F0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Q(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(s,o)}(e._query,this._field,this._direction);return new Ro(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new xo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function kT(t,e="asc"){const n=e,r=$0("orderBy",t);return F0._create(r,n)}class U0 extends kp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new U0(e,n,r)}_apply(e){return new Ro(e.firestore,e.converter,yh(e._query,this._limit,this._limitType))}}function NT(t){return eU("limit",t),U0._create("limit",t,"F")}class j0 extends kp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new j0(e,n,r)}_apply(e){const n=hU(e,this.type,this._docOrFields,this._inclusive);return new Ro(e.firestore,e.converter,function(i,s){return new xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function fU(...t){return j0._create("startAfter",t,!1)}function hU(t,e,n,r){if(n[0]=Ct(n[0]),n[0]instanceof O0)return function(s,o,a,l,c){if(!l)throw new Q(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of xa(s))if(d.field.isKeyField())u.push(gh(o,l.key));else{const f=l.data.field(d.field);if(_p(f))throw new Q(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=d.field.canonicalString();throw new Q(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(f)}return new za(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Pp(t.firestore);return function(o,a,l,c,u,d){const f=o.explicitOrderBy;if(u.length>f.length)throw new Q(D.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let y=0;y<u.length;y++){const v=u[y];if(f[y].field.isKeyField()){if(typeof v!="string")throw new Q(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof v}`);if(!f0(o)&&v.indexOf("/")!==-1)throw new Q(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${v}' contains a slash.`);const w=o.path.child(nt.fromString(v));if(!de.isDocumentKey(w))throw new Q(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const g=new de(w);p.push(gh(a,g))}else{const w=NA(l,c,v);p.push(w)}}return new za(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function DT(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new Q(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f0(e)&&n.indexOf("/")!==-1)throw new Q(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!de.isDocumentKey(r))throw new Q(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gh(t,new de(r))}if(n instanceof $n)return gh(t,n._key);throw new Q(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cp(n)}.`)}function OT(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pU{convertValue(e,n="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return il(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new P0(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=a0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=gs(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);it(tA(r));const i=new Yc(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FA extends O0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class of extends FA{data(e={}){return super.data(e)}}class mU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new of(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new of(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new of(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:gU(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t){t=Si(t,$n);const e=Si(t.firestore,ll);return X6(R0(e),t._key).then(n=>EU(e,t,n))}class UA extends pU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function yU(t){t=Si(t,Ro);const e=Si(t.firestore,ll),n=R0(e),r=new UA(e);return dU(t._query),Z6(n,t._query).then(i=>new mU(e,r,t,i))}function vU(t,e,n){t=Si(t,$n);const r=Si(t.firestore,ll),i=VA(t.converter,e,n);return z0(r,[kA(Pp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function _U(t){return z0(Si(t.firestore,ll),[new h0(t._key,Er.none())])}function wU(t,e){const n=Si(t.firestore,ll),r=al(t),i=VA(t.converter,e);return z0(n,[kA(Pp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function z0(t,e){return function(r,i){const s=new Wr;return r.asyncQueue.enqueueAndForget(async()=>L6(await Y6(r),i,s)),s.promise}(R0(t),e)}function EU(t,e,n){const r=n.docs.get(e._key),i=new UA(t);return new FA(t,i,e._key,r,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}function Th(){return new N0("serverTimestamp")}(function(e,n=!0){(function(i){rl=i})(Eo),uo(new ps("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ll(new _9(r.getProvider("auth-internal")),new S9(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Br(Y1,"4.4.1",e),Br(Y1,"4.4.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebasestorage.googleapis.com",BA="storageBucket",TU=2*60*1e3,SU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Jr{constructor(e,n,r=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function Zm(t){return"storage/"+t}function q0(){const t="An unknown error occurred, please check the error payload for server response.";return new It(xt.UNKNOWN,t)}function xU(t){return new It(xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function IU(t){return new It(xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(xt.UNAUTHENTICATED,t)}function RU(){return new It(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function CU(t){return new It(xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function AU(){return new It(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PU(){return new It(xt.CANCELED,"User canceled the upload/download.")}function kU(t){return new It(xt.INVALID_URL,"Invalid URL '"+t+"'.")}function NU(t){return new It(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function DU(){return new It(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BA+"' property when initializing the app?")}function OU(){return new It(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $U(){return new It(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MU(t){return new It(xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qy(t){return new It(xt.INVALID_ARGUMENT,t)}function zA(){return new It(xt.APP_DELETED,"The Firebase app was deleted.")}function LU(t){return new It(xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hc(t,e){return new It(xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ol(t){throw new It(xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=jn.makeFromUrl(e,n)}catch{return new jn(e,"")}if(r.path==="")return r;throw NU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},v=n===jA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${v}/${i}/${w}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:y,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<_.length;S++){const I=_[S],E=I.regex.exec(e);if(E){const x=E[I.indices.bucket];let R=E[I.indices.path];R||(R=""),r=new jn(x,R),I.postModify(r);break}}if(r==null)throw kU(e);return r}}class VU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function f(){s&&clearTimeout(s)}function p(w,...g){if(c){f();return}if(w){f(),u.call(null,w,...g);return}if(l()||o){f(),u.call(null,w,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let y=!1;function v(w){y||(y=!0,f(),!c&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function UU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){return t!==void 0}function BU(t){return typeof t=="object"&&!Array.isArray(t)}function W0(t){return typeof t=="string"||t instanceof String}function $T(t){return H0()&&t instanceof Blob}function H0(){return typeof Blob<"u"}function MT(t,e,n,r){if(r<e)throw Qy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(to||(to={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new xd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===to.NO_ERROR,l=s.getStatus();if(!a||zU(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===to.ABORT;r(!1,new xd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new xd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=q0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?zA():PU();o(l)}else{const l=AU();o(l)}};this.canceled_?n(!1,new xd(!1,null,!0)):this.backoffId_=FU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function WU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function HU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function QU(t,e,n,r,i,s,o=!0){const a=qA(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return KU(c,e),WU(c,n),HU(c,s),GU(c,r),new qU(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XU(...t){const e=YU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(H0())return new Blob(t);throw new It(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){if(typeof atob>"u")throw MU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jm{constructor(e,n){this.data=e,this.contentType=n||null}}function e7(t,e){switch(t){case Lr.RAW:return new Jm(WA(e));case Lr.BASE64:case Lr.BASE64URL:return new Jm(HA(t,e));case Lr.DATA_URL:return new Jm(n7(e),r7(e))}throw q0()}function WA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function t7(t){let e;try{e=decodeURIComponent(t)}catch{throw hc(Lr.DATA_URL,"Malformed data URL.")}return WA(e)}function HA(t,e){switch(t){case Lr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw hc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Lr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw hc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JU(e)}catch(i){throw i.message.includes("polyfill")?i:hc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class KA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hc(Lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=i7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function n7(t){const e=new KA(t);return e.base64?HA(Lr.BASE64,e.rest):t7(e.rest)}function r7(t){return new KA(t).contentType}function i7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){let r=0,i="";$T(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($T(this.data_)){const r=this.data_,i=ZU(r,e,n);return i===null?null:new Ki(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ki(r,!0)}}static getBlob(...e){if(H0()){const n=e.map(r=>r instanceof Ki?r.data_:r);return new Ki(XU.apply(null,n))}else{const n=e.map(o=>W0(o)?e7(Lr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ki(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){let e;try{e=JSON.parse(t)}catch{return null}return BU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function QA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t,e){return e}class vn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||a7}}let Id=null;function l7(t){return!W0(t)||t.length<2?t:QA(t)}function YA(){if(Id)return Id;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(s,o){return l7(o)}const n=new vn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new vn("size");return i.xform=r,t.push(i),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),Id=t,Id}function c7(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new jn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function u7(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return c7(r,t),r}function XA(t,e,n){const r=GA(e);return r===null?null:u7(t,r,n)}function d7(t,e,n,r){const i=GA(e);if(i===null||!W0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=Np(f,n,r),y=qA({alt:"media",token:c});return p+y})[0]}function f7(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class K0{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t){if(!t)throw q0()}function h7(t,e){function n(r,i){const s=XA(t,i,e);return ZA(s!==null),s}return n}function p7(t,e){function n(r,i){const s=XA(t,i,e);return ZA(s!==null),d7(s,i,t.host,t._protocol)}return n}function JA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=RU():i=bU():n.getStatus()===402?i=IU(t.bucket):n.getStatus()===403?i=CU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function eP(t){const e=JA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=xU(t.path)),s.serverResponse=i.serverResponse,s}return n}function m7(t,e,n){const r=e.fullServerUrl(),i=Np(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new K0(i,s,p7(t,n),o);return a.errorHandler=eP(e),a}function g7(t,e){const n=e.fullServerUrl(),r=Np(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new K0(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=eP(e),a}function y7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function v7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=y7(null,e)),r}function _7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=v7(e,r,i),u=f7(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Ki.getBlob(d,r,f);if(p===null)throw OU();const y={name:c.fullPath},v=Np(s,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,m=new K0(v,w,h7(t,n),g);return m.urlParams=y,m.headers=o,m.body=p.uploadData(),m.errorHandler=JA(e),m}class w7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=to.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=to.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=to.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ol("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ol("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ol("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ol("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ol("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class E7 extends w7{initXhr(){this.xhr_.responseType="text"}}function G0(){return new E7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this._service=e,n instanceof jn?this._location=n:this._location=jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yo(e,n)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QA(this._location.path)}get storage(){return this._service}get parent(){const e=s7(this._location.path);if(e===null)return null;const n=new jn(this._location.bucket,e);return new yo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LU(e)}}function T7(t,e,n){t._throwIfRoot("uploadBytes");const r=_7(t.storage,t._location,YA(),new Ki(e,!0),n);return t.storage.makeRequestWithTokens(r,G0).then(i=>({metadata:i,ref:t}))}function S7(t){t._throwIfRoot("getDownloadURL");const e=m7(t.storage,t._location,YA());return t.storage.makeRequestWithTokens(e,G0).then(n=>{if(n===null)throw $U();return n})}function x7(t){t._throwIfRoot("deleteObject");const e=g7(t.storage,t._location);return t.storage.makeRequestWithTokens(e,G0)}function I7(t,e){const n=o7(t._location.path,e),r=new jn(t._location.bucket,n);return new yo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){return/^[A-Za-z]+:\/\//.test(t)}function R7(t,e){return new yo(t,e)}function tP(t,e){if(t instanceof Q0){const n=t;if(n._bucket==null)throw DU();const r=new yo(n,n._bucket);return e!=null?tP(r,e):r}else return e!==void 0?I7(t,e):t}function C7(t,e){if(e&&b7(e)){if(t instanceof Q0)return R7(t,e);throw Qy("To use ref(service, url), the first argument must be a Storage instance.")}else return tP(t,e)}function LT(t,e){const n=e==null?void 0:e[BA];return n==null?null:jn.makeFromBucketSpec(n,t)}function A7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ob(i,t.app.options.projectId))}class Q0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TU,this._maxUploadRetryTime=SU,this._requests=new Set,i!=null?this._bucket=jn.makeFromBucketSpec(i,this._host):this._bucket=LT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=LT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new VU(zA());{const o=QU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const VT="@firebase/storage",FT="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="storage";function P7(t,e,n){return t=Ct(t),T7(t,e,n)}function k7(t){return t=Ct(t),S7(t)}function N7(t){return t=Ct(t),x7(t)}function rP(t,e){return t=Ct(t),C7(t,e)}function D7(t=b_(),e){t=Ct(t);const r=Zh(t,nP).getImmediate({identifier:e}),i=kb("storage");return i&&O7(r,...i),r}function O7(t,e,n,r={}){A7(t,e,n,r)}function $7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Q0(n,r,i,e,Eo)}function M7(){uo(new ps(nP,$7,"PUBLIC").setMultipleInstances(!0)),Br(VT,FT,""),Br(VT,FT,"esm2017")}M7();const L7={apiKey:"AIzaSyApV0aZSd9qJqxQ1XyGo8BPJ7u0xDWXHtg",authDomain:"hh-ecommerce.firebaseapp.com",projectId:"hh-ecommerce",storageBucket:"hh-ecommerce.appspot.com",messagingSenderId:"713134179062",appId:"1:713134179062:web:76ea7f4865a717d2ee22d7",measurementId:"G-Y3Y8BXY282"},iP=Vb(L7),nu=l4(iP),Co=rU(iP),sP=D7(),V7=async t=>{const e=al(Co,"users",t),n=await B0(e);if(n.exists()){const r=n.data();return{id:r.id,email:r.email,isSeller:r.isSeller,nickname:r.nickname,password:r.password,createdAt:r.createdAt,updatedAt:r.updatedAt}}else return null},oP=h.createContext({loggedUser:null,isLoggedIn:!1}),F7=({children:t})=>{const[e,n]=h.useState(null),r=i=>{i&&V7(i.uid).then(s=>{s&&n(s)})};return h.useEffect(()=>{const i=YV(nu,r);return()=>i()},[]),T.jsx(oP.Provider,{value:{loggedUser:e,isLoggedIn:!!e},children:t})};function aP(){const t=h.useContext(oP);if(!t)throw new Error("Cannot find UserContextProvider");return t}const U7=()=>{const{isLoggedIn:t,loggedUser:e}=aP(),[n,r]=h.useState(),[i,s]=h.useState(),[o]=h.useState(_u().pathname),a=Rs(),l=()=>{lR(nu).then(()=>{window.alert("로그아웃 완료."),window.localStorage.removeItem("user-token"),window.localStorage.removeItem("uid"),window.localStorage.removeItem("user-role"),a("/")}).catch(f=>{console.log(f)})},c=[{title:"상품",items:[{name:"전체 상품 조회",path:"/mypage/view-allproducts"},{name:"상품 등록",path:"/mypage/add-product"}]},{title:"판매",items:[{name:"판매 기록 관리",path:"/mypage/manage-order"}]}],u=[{title:"나의 활동",items:[{name:"주문 내역",path:"/mypage/myorder"}]}],d=[{title:"환경 설정",items:[{name:"회원정보수정",path:"/mypage/edit-info"},{name:"로그아웃",onClick:l}]}];return h.useEffect(()=>{t&&(r(e==null?void 0:e.nickname),e!=null&&e.isSeller?s([...c,...d]):s([...u,...d]))},[t,e]),t&&T.jsxs("div",{className:"p-8 pr-24",children:[T.jsx("div",{className:"text-3xl",children:n}),T.jsx("ul",{children:i==null?void 0:i.map((f,p)=>T.jsxs("li",{className:"myPageNavGroup",children:[T.jsx("div",{className:"myPageNavGroupTitle",children:f.title}),T.jsx("ul",{children:f.items.map((y,v)=>T.jsx("li",{className:`myPageNavItem ${o===y.path&&"font-bold"}`,children:T.jsx("button",{onClick:y.path?()=>a(y.path):y.onClick,children:y.name})},`mpn_item_${v}`))})]},`mpn_group_${p}`))})]})},lP=({children:t})=>T.jsxs("div",{className:"flex ",children:[T.jsx(U7,{}),T.jsx("div",{className:"px-24 py-8 w-full",children:t})]});function ee(){return ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ee.apply(this,arguments)}function j7(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Dp(...t){return e=>t.forEach(n=>j7(n,e))}function ut(...t){return h.useCallback(Dp(...t),t)}const vs=h.forwardRef((t,e)=>{const{children:n,...r}=t,i=h.Children.toArray(n),s=i.find(z7);if(s){const o=s.props.children,a=i.map(l=>l===s?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return h.createElement(Yy,ee({},r,{ref:e}),h.isValidElement(o)?h.cloneElement(o,void 0,a):null)}return h.createElement(Yy,ee({},r,{ref:e}),n)});vs.displayName="Slot";const Yy=h.forwardRef((t,e)=>{const{children:n,...r}=t;return h.isValidElement(n)?h.cloneElement(n,{...q7(r,n.props),ref:e?Dp(e,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});Yy.displayName="SlotClone";const B7=({children:t})=>h.createElement(h.Fragment,null,t);function z7(t){return h.isValidElement(t)&&t.type===B7}function q7(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function cP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=cP(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function uP(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=cP(t))&&(r&&(r+=" "),r+=e);return r}const Y0="-";function W7(t){const e=K7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(o){const a=o.split(Y0);return a[0]===""&&a.length!==1&&a.shift(),dP(a,e)||H7(o)}function s(o,a){const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function dP(t,e){var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?dP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Y0);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const UT=/^\[(.+)\]$/;function H7(t){if(UT.test(t)){const e=UT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function K7(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Q7(Object.entries(t.classGroups),n).forEach(([s,o])=>{Xy(o,r,s,e)}),r}function Xy(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:jT(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(G7(i)){Xy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Xy(o,jT(e,s),n,r)})})}function jT(t,e){let n=t;return e.split(Y0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function G7(t){return t.isThemeGetter}function Q7(t,e){return e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t}function Y7(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}}const fP="!";function X7(t){const e=t.separator,n=e.length===1,r=e[0],i=e.length;return function(o){const a=[];let l=0,c=0,u;for(let v=0;v<o.length;v++){let w=o[v];if(l===0){if(w===r&&(n||o.slice(v,v+i)===e)){a.push(o.slice(c,v)),c=v+i;continue}if(w==="/"){u=v;continue}}w==="["?l++:w==="]"&&l--}const d=a.length===0?o:o.substring(c),f=d.startsWith(fP),p=f?d.substring(1):d,y=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}}}function Z7(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function J7(t){return{cache:Y7(t.cacheSize),splitModifiers:X7(t),...W7(t)}}const ej=/\s+/;function tj(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=new Set;return t.trim().split(ej).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(o);let d=r(u?c.substring(0,u):c),f=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:o};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:o};f=!1}const p=Z7(a).join(":");return{isTailwindClass:!0,modifierId:l?p+fP:p,classGroupId:d,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=o,u=a+l;return s.has(u)?!1:(s.add(u),i(l,c).forEach(d=>s.add(a+d)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function nj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=hP(e))&&(r&&(r+=" "),r+=n);return r}function hP(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=hP(t[r]))&&(n&&(n+=" "),n+=e);return n}function rj(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=J7(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=tj(l,n);return i(l,u),u}return function(){return s(nj.apply(null,arguments))}}function ot(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const pP=/^\[(?:([a-z-]+):)?(.+)\]$/i,ij=/^\d+\/\d+$/,sj=new Set(["px","full","screen"]),oj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cj=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function ni(t){return Qs(t)||sj.has(t)||ij.test(t)}function Oi(t){return cl(t,"length",vj)}function Qs(t){return!!t&&!Number.isNaN(Number(t))}function bd(t){return cl(t,"number",Qs)}function $l(t){return!!t&&Number.isInteger(Number(t))}function dj(t){return t.endsWith("%")&&Qs(t.slice(0,-1))}function Ce(t){return pP.test(t)}function $i(t){return oj.test(t)}const fj=new Set(["length","size","percentage"]);function hj(t){return cl(t,fj,mP)}function pj(t){return cl(t,"position",mP)}const mj=new Set(["image","url"]);function gj(t){return cl(t,mj,wj)}function yj(t){return cl(t,"",_j)}function Ml(){return!0}function cl(t,e,n){const r=pP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function vj(t){return aj.test(t)&&!lj.test(t)}function mP(){return!1}function _j(t){return cj.test(t)}function wj(t){return uj.test(t)}function Ej(){const t=ot("colors"),e=ot("spacing"),n=ot("blur"),r=ot("brightness"),i=ot("borderColor"),s=ot("borderRadius"),o=ot("borderSpacing"),a=ot("borderWidth"),l=ot("contrast"),c=ot("grayscale"),u=ot("hueRotate"),d=ot("invert"),f=ot("gap"),p=ot("gradientColorStops"),y=ot("gradientColorStopPositions"),v=ot("inset"),w=ot("margin"),g=ot("opacity"),m=ot("padding"),_=ot("saturate"),S=ot("scale"),I=ot("sepia"),E=ot("skew"),x=ot("space"),R=ot("translate"),k=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Ce,e],M=()=>[Ce,e],z=()=>["",ni,Oi],H=()=>["auto",Qs,Ce],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],V=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Ce],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Qs,bd],ye=()=>[Qs,Ce];return{cacheSize:500,separator:":",theme:{colors:[Ml],spacing:[ni,Oi],blur:["none","",$i,Ce],brightness:oe(),borderColor:[t],borderRadius:["none","","full",$i,Ce],borderSpacing:M(),borderWidth:z(),contrast:oe(),grayscale:O(),hueRotate:ye(),invert:O(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[dj,Oi],inset:W(),margin:W(),opacity:oe(),padding:M(),saturate:oe(),scale:oe(),sepia:O(),skew:ye(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[$i]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Ce]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$l,Ce]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",$l,Ce]}],"grid-cols":[{"grid-cols":[Ml]}],"col-start-end":[{col:["auto",{span:["full",$l,Ce]},Ce]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ml]}],"row-start-end":[{row:["auto",{span:[$l,Ce]},Ce]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[$i]},$i]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$i,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bd]}],"font-family":[{font:[Ml]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Qs,bd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ni,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ni,Oi]}],"underline-offset":[{"underline-offset":["auto",ni,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),pj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[ni,Ce]}],"outline-w":[{outline:[ni,Oi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ni,Oi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$i,yj]}],"shadow-color":[{shadow:[Ml]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$i,Ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[$l,Ce]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ni,Oi,bd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Tj=rj(Ej),st=(...t)=>Tj(uP(t)),Sj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=Sj.reduce((t,e)=>{const n=h.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?vs:e;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(a,ee({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function gP(t,e){t&&Is.flushSync(()=>t.dispatchEvent(e))}const xj=h.forwardRef((t,e)=>h.createElement(Xe.label,ee({},t,{ref:e,onMouseDown:n=>{var r;(r=t.onMouseDown)===null||r===void 0||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),yP=xj,BT=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,zT=uP,vP=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const f=BT(u)||BT(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...p}=u;return Object.entries(p).every(y=>{let[v,w]=y;return Array.isArray(w)?w.includes({...s,...a}[v]):{...s,...a}[v]===w})?[...c,d,f]:c},[]);return zT(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Ij=vP("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_P=h.forwardRef(({className:t,...e},n)=>T.jsx(yP,{ref:n,className:st(Ij(),t),...e}));_P.displayName=yP.displayName;const X0=tM,wP=h.createContext({}),tr=({...t})=>T.jsx(wP.Provider,{value:{name:t.name},children:T.jsx(sM,{...t})}),Op=()=>{const t=h.useContext(wP),e=h.useContext(EP),{getFieldState:n,formState:r}=Yh(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},EP=h.createContext({}),En=h.forwardRef(({className:t,...e},n)=>{const r=h.useId();return T.jsx(EP.Provider,{value:{id:r},children:T.jsx("div",{ref:n,className:st("space-y-2",t),...e})})});En.displayName="FormItem";const Tn=h.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Op();return T.jsx(_P,{ref:n,className:st(r&&"text-destructive",t),htmlFor:i,...e})});Tn.displayName="FormLabel";const Pn=h.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=Op();return T.jsx(vs,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Pn.displayName="FormControl";const fa=h.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Op();return T.jsx("p",{ref:n,id:r,className:st("text-xs text-muted-foreground text-gray-400",t),...e})});fa.displayName="FormDescription";const gr=h.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=Op(),o=i?String(i==null?void 0:i.message):e;return o?T.jsx("p",{ref:r,id:s,className:st("text-xs font-medium text-destructive",t),...n,children:o}):T.jsx("div",{className:"h-4"})});gr.displayName="FormMessage";const Gr=h.forwardRef(({className:t,type:e,...n},r)=>T.jsx("input",{type:e,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Gr.displayName="Input";const bj=vP("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ka=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?vs:"button";return T.jsx(o,{className:st(bj({variant:e,size:n,className:t})),ref:s,...i})});Ka.displayName="Button";function qT(t,[e,n]){return Math.min(n,Math.max(e,t))}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ns(t,e=[]){let n=[];function r(s,o){const a=h.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:p,...y}=d,v=(f==null?void 0:f[t][l])||a,w=h.useMemo(()=>y,Object.values(y));return h.createElement(v.Provider,{value:w},p)}function u(d,f){const p=(f==null?void 0:f[t][l])||a,y=h.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Rj(i,...e)]}function Rj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Z0(t){const e=t+"CollectionProvider",[n,r]=Ns(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:v}=p,w=Ee.useRef(null),g=Ee.useRef(new Map).current;return Ee.createElement(i,{scope:y,itemMap:g,collectionRef:w},v)},a=t+"CollectionSlot",l=Ee.forwardRef((p,y)=>{const{scope:v,children:w}=p,g=s(a,v),m=ut(y,g.collectionRef);return Ee.createElement(vs,{ref:m},w)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",d=Ee.forwardRef((p,y)=>{const{scope:v,children:w,...g}=p,m=Ee.useRef(null),_=ut(y,m),S=s(c,v);return Ee.useEffect(()=>(S.itemMap.set(m,{ref:m,...g}),()=>void S.itemMap.delete(m))),Ee.createElement(vs,{[u]:"",ref:_},w)});function f(p){const y=s(t+"CollectionConsumer",p);return Ee.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const g=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((S,I)=>g.indexOf(S.ref.current)-g.indexOf(I.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}const Cj=h.createContext(void 0);function $p(t){const e=h.useContext(Cj);return t||e||"ltr"}function Rr(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Aj(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Zy="dismissableLayer.update",Pj="dismissableLayer.pointerDownOutside",kj="dismissableLayer.focusOutside";let WT;const Nj=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TP=h.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=h.useContext(Nj),[d,f]=h.useState(null),p=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=h.useState({}),v=ut(e,R=>f(R)),w=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=w.indexOf(g),_=d?w.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,I=_>=m,E=Dj(R=>{const k=R.target,F=[...u.branches].some(W=>W.contains(k));!I||F||(s==null||s(R),a==null||a(R),R.defaultPrevented||l==null||l())},p),x=Oj(R=>{const k=R.target;[...u.branches].some(W=>W.contains(k))||(o==null||o(R),a==null||a(R),R.defaultPrevented||l==null||l())},p);return Aj(R=>{_===u.layers.size-1&&(i==null||i(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},p),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(WT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),HT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=WT)}},[d,p,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),HT())},[d,u]),h.useEffect(()=>{const R=()=>y({});return document.addEventListener(Zy,R),()=>document.removeEventListener(Zy,R)},[]),h.createElement(Xe.div,ee({},c,{ref:v,style:{pointerEvents:S?I?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,x.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,x.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,E.onPointerDownCapture)}))});function Dj(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){SP(Pj,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Oj(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t),r=h.useRef(!1);return h.useEffect(()=>{const i=s=>{s.target&&!r.current&&SP(kj,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HT(){const t=new CustomEvent(Zy);document.dispatchEvent(t)}function SP(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?gP(i,s):i.dispatchEvent(s)}let eg=0;function xP(){h.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:KT()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:KT()),eg++,()=>{eg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),eg--}},[])}function KT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const tg="focusScope.autoFocusOnMount",ng="focusScope.autoFocusOnUnmount",GT={bubbles:!1,cancelable:!0},IP=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=h.useState(null),c=Rr(i),u=Rr(s),d=h.useRef(null),f=ut(e,v=>l(v)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let m=function(E){if(p.paused||!a)return;const x=E.target;a.contains(x)?d.current=x:Li(d.current,{select:!0})},_=function(E){if(p.paused||!a)return;const x=E.relatedTarget;x!==null&&(a.contains(x)||Li(d.current,{select:!0}))},S=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&Li(a)};var v=m,w=_,g=S;document.addEventListener("focusin",m),document.addEventListener("focusout",_);const I=new MutationObserver(S);return a&&I.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",_),I.disconnect()}}},[r,a,p.paused]),h.useEffect(()=>{if(a){YT.add(p);const v=document.activeElement;if(!a.contains(v)){const g=new CustomEvent(tg,GT);a.addEventListener(tg,c),a.dispatchEvent(g),g.defaultPrevented||($j(Uj(bP(a)),{select:!0}),document.activeElement===v&&Li(a))}return()=>{a.removeEventListener(tg,c),setTimeout(()=>{const g=new CustomEvent(ng,GT);a.addEventListener(ng,u),a.dispatchEvent(g),g.defaultPrevented||Li(v??document.body,{select:!0}),a.removeEventListener(ng,u),YT.remove(p)},0)}}},[a,c,u,p]);const y=h.useCallback(v=>{if(!n&&!r||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(w&&g){const m=v.currentTarget,[_,S]=Mj(m);_&&S?!v.shiftKey&&g===S?(v.preventDefault(),n&&Li(_,{select:!0})):v.shiftKey&&g===_&&(v.preventDefault(),n&&Li(S,{select:!0})):g===m&&v.preventDefault()}},[n,r,p.paused]);return h.createElement(Xe.div,ee({tabIndex:-1},o,{ref:f,onKeyDown:y}))});function $j(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Li(r,{select:e}),document.activeElement!==n)return}function Mj(t){const e=bP(t),n=QT(e,t),r=QT(e.reverse(),t);return[n,r]}function bP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function QT(t,e){for(const n of t)if(!Lj(n,{upTo:e}))return n}function Lj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Vj(t){return t instanceof HTMLInputElement&&"select"in t}function Li(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Vj(t)&&e&&t.select()}}const YT=Fj();function Fj(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=XT(t,e),t.unshift(e)},remove(e){var n;t=XT(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function XT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Uj(t){return t.filter(e=>e.tagName!=="A")}const Ln=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},jj=FS.useId||(()=>{});let Bj=0;function ru(t){const[e,n]=h.useState(jj());return Ln(()=>{t||n(r=>r??String(Bj++))},[t]),t||(e?`radix-${e}`:"")}const zj=["top","right","bottom","left"],_s=Math.min,Fn=Math.max,Sh=Math.round,Rd=Math.floor,ws=t=>({x:t,y:t}),qj={left:"right",right:"left",bottom:"top",top:"bottom"},Wj={start:"end",end:"start"};function Jy(t,e,n){return Fn(t,_s(e,n))}function xi(t,e){return typeof t=="function"?t(e):t}function Ii(t){return t.split("-")[0]}function ul(t){return t.split("-")[1]}function J0(t){return t==="x"?"y":"x"}function ew(t){return t==="y"?"height":"width"}function dl(t){return["top","bottom"].includes(Ii(t))?"y":"x"}function tw(t){return J0(dl(t))}function Hj(t,e,n){n===void 0&&(n=!1);const r=ul(t),i=tw(t),s=ew(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=xh(o)),[o,xh(o)]}function Kj(t){const e=xh(t);return[ev(t),e,ev(e)]}function ev(t){return t.replace(/start|end/g,e=>Wj[e])}function Gj(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Qj(t,e,n,r){const i=ul(t);let s=Gj(Ii(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(ev)))),s}function xh(t){return t.replace(/left|right|bottom|top/g,e=>qj[e])}function Yj(t){return{top:0,right:0,bottom:0,left:0,...t}}function RP(t){return typeof t!="number"?Yj(t):{top:t,right:t,bottom:t,left:t}}function Ih(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function ZT(t,e,n){let{reference:r,floating:i}=t;const s=dl(e),o=tw(e),a=ew(o),l=Ii(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(ul(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const Xj=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=ZT(c,r,l),f=r,p={},y=0;for(let v=0;v<a.length;v++){const{name:w,fn:g}=a[v],{x:m,y:_,data:S,reset:I}=await g({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=m??u,d=_??d,p={...p,[w]:{...p[w],...S}},I&&y<=50&&(y++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(c=I.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:u,y:d}=ZT(c,f,l)),v=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function iu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=xi(e,t),y=RP(p),w=a[f?d==="floating"?"reference":"floating":d],g=Ih(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},I=Ih(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:_,strategy:l}):m);return{top:(g.top-I.top+y.top)/S.y,bottom:(I.bottom-g.bottom+y.bottom)/S.y,left:(g.left-I.left+y.left)/S.x,right:(I.right-g.right+y.right)/S.x}}const Zj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=xi(t,e)||{};if(c==null)return{};const d=RP(u),f={x:n,y:r},p=tw(i),y=ew(p),v=await o.getDimensions(c),w=p==="y",g=w?"top":"left",m=w?"bottom":"right",_=w?"clientHeight":"clientWidth",S=s.reference[y]+s.reference[p]-f[p]-s.floating[y],I=f[p]-s.reference[p],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let x=E?E[_]:0;(!x||!await(o.isElement==null?void 0:o.isElement(E)))&&(x=a.floating[_]||s.floating[y]);const R=S/2-I/2,k=x/2-v[y]/2-1,F=_s(d[g],k),W=_s(d[m],k),M=F,z=x-v[y]-W,H=x/2-v[y]/2+R,te=Jy(M,H,z),ce=!l.arrow&&ul(i)!=null&&H!==te&&s.reference[y]/2-(H<M?F:W)-v[y]/2<0,K=ce?H<M?H-M:H-z:0;return{[p]:f[p]+K,data:{[p]:te,centerOffset:H-te-K,...ce&&{alignmentOffset:K}},reset:ce}}}),Jj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=xi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Ii(i),m=Ii(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(m||!v?[xh(a)]:Kj(a));!f&&y!=="none"&&S.push(...Qj(a,v,y,_));const I=[a,...S],E=await iu(e,w),x=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&x.push(E[g]),d){const M=Hj(i,o,_);x.push(E[M[0]],E[M[1]])}if(R=[...R,{placement:i,overflows:x}],!x.every(M=>M<=0)){var k,F;const M=(((k=s.flip)==null?void 0:k.index)||0)+1,z=I[M];if(z)return{data:{index:M,overflows:R},reset:{placement:z}};let H=(F=R.filter(te=>te.overflows[0]<=0).sort((te,ce)=>te.overflows[1]-ce.overflows[1])[0])==null?void 0:F.placement;if(!H)switch(p){case"bestFit":{var W;const te=(W=R.map(ce=>[ce.placement,ce.overflows.filter(K=>K>0).reduce((K,V)=>K+V,0)]).sort((ce,K)=>ce[1]-K[1])[0])==null?void 0:W[0];te&&(H=te);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function JT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function eS(t){return zj.some(e=>t[e]>=0)}const e5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=xi(t,e);switch(r){case"referenceHidden":{const s=await iu(e,{...i,elementContext:"reference"}),o=JT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:eS(o)}}}case"escaped":{const s=await iu(e,{...i,altBoundary:!0}),o=JT(s,n.floating);return{data:{escapedOffsets:o,escaped:eS(o)}}}default:return{}}}}};async function t5(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ii(n),a=ul(n),l=dl(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=xi(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const n5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await t5(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},r5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:g,y:m}=w;return{x:g,y:m}}},...l}=xi(t,e),c={x:n,y:r},u=await iu(e,l),d=dl(Ii(i)),f=J0(d);let p=c[f],y=c[d];if(s){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",m=p+u[w],_=p-u[g];p=Jy(m,p,_)}if(o){const w=d==="y"?"top":"left",g=d==="y"?"bottom":"right",m=y+u[w],_=y-u[g];y=Jy(m,y,_)}const v=a.fn({...e,[f]:p,[d]:y});return{...v,data:{x:v.x-n,y:v.y-r}}}}},i5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=xi(t,e),u={x:n,y:r},d=dl(i),f=J0(d);let p=u[f],y=u[d];const v=xi(a,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const _=f==="y"?"height":"width",S=s.reference[f]-s.floating[_]+w.mainAxis,I=s.reference[f]+s.reference[_]-w.mainAxis;p<S?p=S:p>I&&(p=I)}if(c){var g,m;const _=f==="y"?"width":"height",S=["top","left"].includes(Ii(i)),I=s.reference[d]-s.floating[_]+(S&&((g=o.offset)==null?void 0:g[d])||0)+(S?0:w.crossAxis),E=s.reference[d]+s.reference[_]+(S?0:((m=o.offset)==null?void 0:m[d])||0)-(S?w.crossAxis:0);y<I?y=I:y>E&&(y=E)}return{[f]:p,[d]:y}}}},s5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=xi(t,e),l=await iu(e,a),c=Ii(n),u=ul(n),d=dl(n)==="y",{width:f,height:p}=r.floating;let y,v;c==="top"||c==="bottom"?(y=c,v=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,y=u==="end"?"top":"bottom");const w=p-l[y],g=f-l[v],m=!e.middlewareData.shift;let _=w,S=g;if(d){const E=f-l.left-l.right;S=u||m?_s(g,E):E}else{const E=p-l.top-l.bottom;_=u||m?_s(w,E):E}if(m&&!u){const E=Fn(l.left,0),x=Fn(l.right,0),R=Fn(l.top,0),k=Fn(l.bottom,0);d?S=f-2*(E!==0||x!==0?E+x:Fn(l.left,l.right)):_=p-2*(R!==0||k!==0?R+k:Fn(l.top,l.bottom))}await o({...e,availableWidth:S,availableHeight:_});const I=await i.getDimensions(s.floating);return f!==I.width||p!==I.height?{reset:{rects:!0}}:{}}}};function Es(t){return CP(t)?(t.nodeName||"").toLowerCase():"#document"}function zn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ai(t){var e;return(e=(CP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CP(t){return t instanceof Node||t instanceof zn(t).Node}function bi(t){return t instanceof Element||t instanceof zn(t).Element}function Zr(t){return t instanceof HTMLElement||t instanceof zn(t).HTMLElement}function tS(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zn(t).ShadowRoot}function qu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function o5(t){return["table","td","th"].includes(Es(t))}function nw(t){const e=rw(),n=lr(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function AP(t){let e=Ga(t);for(;Zr(e)&&!Mp(e);){if(nw(e))return e;e=Ga(e)}return null}function rw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Mp(t){return["html","body","#document"].includes(Es(t))}function lr(t){return zn(t).getComputedStyle(t)}function Lp(t){return bi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ga(t){if(Es(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tS(t)&&t.host||Ai(t);return tS(e)?e.host:e}function PP(t){const e=Ga(t);return Mp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zr(e)&&qu(e)?e:PP(e)}function su(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=PP(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=zn(i);return s?e.concat(o,o.visualViewport||[],qu(i)?i:[],o.frameElement&&n?su(o.frameElement):[]):e.concat(i,su(i,[],n))}function kP(t){const e=lr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Sh(n)!==s||Sh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function iw(t){return bi(t)?t:t.contextElement}function ba(t){const e=iw(t);if(!Zr(e))return ws(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=kP(e);let o=(s?Sh(n.width):n.width)/r,a=(s?Sh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const a5=ws(0);function NP(t){const e=zn(t);return!rw()||!e.visualViewport?a5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function l5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==zn(t)?!1:e}function vo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=iw(t);let o=ws(1);e&&(r?bi(r)&&(o=ba(r)):o=ba(t));const a=l5(s,n,r)?NP(s):ws(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=zn(s),p=r&&bi(r)?zn(r):r;let y=f.frameElement;for(;y&&r&&p!==f;){const v=ba(y),w=y.getBoundingClientRect(),g=lr(y),m=w.left+(y.clientLeft+parseFloat(g.paddingLeft))*v.x,_=w.top+(y.clientTop+parseFloat(g.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=m,c+=_,y=zn(y).frameElement}}return Ih({width:u,height:d,x:l,y:c})}const c5=[":popover-open",":modal"];function DP(t){let e=!1,n=0,r=0;function i(s){try{e=e||t.matches(s)}catch{}}if(c5.forEach(s=>{i(s)}),e){const s=AP(t);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[e,n,r]}function u5(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=Ai(r),[o]=e?DP(e.floating):[!1];if(r===s||o)return n;let a={scrollLeft:0,scrollTop:0},l=ws(1);const c=ws(0),u=Zr(r);if((u||!u&&i!=="fixed")&&((Es(r)!=="body"||qu(s))&&(a=Lp(r)),Zr(r))){const d=vo(r);l=ba(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}}function d5(t){return Array.from(t.getClientRects())}function OP(t){return vo(Ai(t)).left+Lp(t).scrollLeft}function f5(t){const e=Ai(t),n=Lp(t),r=t.ownerDocument.body,i=Fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+OP(t);const a=-n.scrollTop;return lr(r).direction==="rtl"&&(o+=Fn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function h5(t,e){const n=zn(t),r=Ai(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=rw();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function p5(t,e){const n=vo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Zr(t)?ba(t):ws(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function nS(t,e,n){let r;if(e==="viewport")r=h5(t,n);else if(e==="document")r=f5(Ai(t));else if(bi(e))r=p5(e,n);else{const i=NP(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ih(r)}function $P(t,e){const n=Ga(t);return n===e||!bi(n)||Mp(n)?!1:lr(n).position==="fixed"||$P(n,e)}function m5(t,e){const n=e.get(t);if(n)return n;let r=su(t,[],!1).filter(a=>bi(a)&&Es(a)!=="body"),i=null;const s=lr(t).position==="fixed";let o=s?Ga(t):t;for(;bi(o)&&!Mp(o);){const a=lr(o),l=nw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||qu(o)&&!l&&$P(t,o))?r=r.filter(u=>u!==o):i=a,o=Ga(o)}return e.set(t,r),r}function g5(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?m5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=nS(e,u,i);return c.top=Fn(d.top,c.top),c.right=_s(d.right,c.right),c.bottom=_s(d.bottom,c.bottom),c.left=Fn(d.left,c.left),c},nS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function y5(t){const{width:e,height:n}=kP(t);return{width:e,height:n}}function v5(t,e,n,r){const i=Zr(e),s=Ai(e),o=n==="fixed",a=vo(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=ws(0);if(i||!i&&!o)if((Es(e)!=="body"||qu(s))&&(l=Lp(e)),i){const v=vo(e,!0,o,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&(c.x=OP(s));let u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;const[f,p,y]=DP(r);return f&&(u+=p,d+=y,i&&(u+=e.clientLeft,d+=e.clientTop)),{x:u,y:d,width:a.width,height:a.height}}function rS(t,e){return!Zr(t)||lr(t).position==="fixed"?null:e?e(t):t.offsetParent}function MP(t,e){const n=zn(t);if(!Zr(t))return n;let r=rS(t,e);for(;r&&o5(r)&&lr(r).position==="static";)r=rS(r,e);return r&&(Es(r)==="html"||Es(r)==="body"&&lr(r).position==="static"&&!nw(r))?n:r||AP(t)||n}const _5=async function(t){const e=this.getOffsetParent||MP,n=this.getDimensions;return{reference:v5(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}};function w5(t){return lr(t).direction==="rtl"}const E5={convertOffsetParentRelativeRectToViewportRelativeRect:u5,getDocumentElement:Ai,getClippingRect:g5,getOffsetParent:MP,getElementRects:_5,getClientRects:d5,getDimensions:y5,getScale:ba,isElement:bi,isRTL:w5};function T5(t,e){let n=null,r;const i=Ai(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const p=Rd(u),y=Rd(i.clientWidth-(c+d)),v=Rd(i.clientHeight-(u+f)),w=Rd(c),m={rootMargin:-p+"px "+-y+"px "+-v+"px "+-w+"px",threshold:Fn(0,_s(1,l))||1};let _=!0;function S(I){const E=I[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(S,{...m,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,m)}n.observe(t)}return o(!0),s}function S5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=iw(t),u=i||s?[...c?su(c):[],...su(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?T5(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[m]=g;m&&m.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let y,v=l?vo(t):null;l&&w();function w(){const g=vo(t);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&n(),v=g,y=requestAnimationFrame(w)}return n(),()=>{var g;u.forEach(m=>{i&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),d==null||d(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const x5=r5,I5=Jj,b5=s5,R5=e5,iS=Zj,C5=i5,A5=(t,e,n)=>{const r=new Map,i={platform:E5,...n},s={...i.platform,_c:r};return Xj(t,e,{...i,platform:s})},P5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?iS({element:r.current,padding:i}).fn(n):{}:r?iS({element:r,padding:i}).fn(n):{}}}};var af=typeof document<"u"?h.useLayoutEffect:h.useEffect;function bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!bh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!bh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function LP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sS(t,e){const n=LP(t);return Math.round(e*n)/n}function oS(t){const e=h.useRef(t);return af(()=>{e.current=t}),e}function k5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=h.useState(r);bh(f,r)||p(r);const[y,v]=h.useState(null),[w,g]=h.useState(null),m=h.useCallback(K=>{K!==E.current&&(E.current=K,v(K))},[]),_=h.useCallback(K=>{K!==x.current&&(x.current=K,g(K))},[]),S=s||y,I=o||w,E=h.useRef(null),x=h.useRef(null),R=h.useRef(u),k=l!=null,F=oS(l),W=oS(i),M=h.useCallback(()=>{if(!E.current||!x.current)return;const K={placement:e,strategy:n,middleware:f};W.current&&(K.platform=W.current),A5(E.current,x.current,K).then(V=>{const O={...V,isPositioned:!0};z.current&&!bh(R.current,O)&&(R.current=O,Is.flushSync(()=>{d(O)}))})},[f,e,n,W]);af(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(K=>({...K,isPositioned:!1})))},[c]);const z=h.useRef(!1);af(()=>(z.current=!0,()=>{z.current=!1}),[]),af(()=>{if(S&&(E.current=S),I&&(x.current=I),S&&I){if(F.current)return F.current(S,I,M);M()}},[S,I,M,F,k]);const H=h.useMemo(()=>({reference:E,floating:x,setReference:m,setFloating:_}),[m,_]),te=h.useMemo(()=>({reference:S,floating:I}),[S,I]),ce=h.useMemo(()=>{const K={position:n,left:0,top:0};if(!te.floating)return K;const V=sS(te.floating,u.x),O=sS(te.floating,u.y);return a?{...K,transform:"translate("+V+"px, "+O+"px)",...LP(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:O}},[n,a,te.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:M,refs:H,elements:te,floatingStyles:ce}),[u,M,H,te,ce])}function VP(t){const[e,n]=h.useState(void 0);return Ln(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const FP="Popper",[UP,Vp]=Ns(FP),[N5,jP]=UP(FP),D5=t=>{const{__scopePopper:e,children:n}=t,[r,i]=h.useState(null);return h.createElement(N5,{scope:e,anchor:r,onAnchorChange:i},n)},O5="PopperAnchor",$5=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=jP(O5,n),o=h.useRef(null),a=ut(e,o);return h.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.createElement(Xe.div,ee({},i,{ref:a}))}),BP="PopperContent",[M5,jW]=UP(BP),L5=h.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:f=0,align:p="center",alignOffset:y=0,arrowPadding:v=0,avoidCollisions:w=!0,collisionBoundary:g=[],collisionPadding:m=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:I="optimized",onPlaced:E,...x}=t,R=jP(BP,u),[k,F]=h.useState(null),W=ut(e,At=>F(At)),[M,z]=h.useState(null),H=VP(M),te=(n=H==null?void 0:H.width)!==null&&n!==void 0?n:0,ce=(r=H==null?void 0:H.height)!==null&&r!==void 0?r:0,K=d+(p!=="center"?"-"+p:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},O=Array.isArray(g)?g:[g],G=O.length>0,oe={padding:V,boundary:O.filter(V5),altBoundary:G},{refs:ye,floatingStyles:et,placement:qe,isPositioned:Ze,middlewareData:Me}=k5({strategy:"fixed",placement:K,whileElementsMounted:(...At)=>S5(...At,{animationFrame:I==="always"}),elements:{reference:R.anchor},middleware:[n5({mainAxis:f+ce,alignmentAxis:y}),w&&x5({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?C5():void 0,...oe}),w&&I5({...oe}),b5({...oe,apply:({elements:At,rects:ei,availableWidth:Pi,availableHeight:Gu})=>{const{width:b,height:P}=ei.reference,N=At.floating.style;N.setProperty("--radix-popper-available-width",`${Pi}px`),N.setProperty("--radix-popper-available-height",`${Gu}px`),N.setProperty("--radix-popper-anchor-width",`${b}px`),N.setProperty("--radix-popper-anchor-height",`${P}px`)}}),M&&P5({element:M,padding:v}),F5({arrowWidth:te,arrowHeight:ce}),S&&R5({strategy:"referenceHidden",...oe})]}),[ae,je]=zP(qe),Fe=Rr(E);Ln(()=>{Ze&&(Fe==null||Fe())},[Ze,Fe]);const Be=(i=Me.arrow)===null||i===void 0?void 0:i.x,Se=(s=Me.arrow)===null||s===void 0?void 0:s.y,ke=((o=Me.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Ut,jt]=h.useState();return Ln(()=>{k&&jt(window.getComputedStyle(k).zIndex)},[k]),h.createElement("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...et,transform:Ze?et.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ut,"--radix-popper-transform-origin":[(a=Me.transformOrigin)===null||a===void 0?void 0:a.x,(l=Me.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},h.createElement(M5,{scope:u,placedSide:ae,onArrowChange:z,arrowX:Be,arrowY:Se,shouldHideArrow:ke},h.createElement(Xe.div,ee({"data-side":ae,"data-align":je},x,{ref:W,style:{...x.style,animation:Ze?void 0:"none",opacity:(c=Me.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function V5(t){return t!==null}const F5=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=d?0:t.arrowWidth,p=d?0:t.arrowHeight,[y,v]=zP(a),w={start:"0%",center:"50%",end:"100%"}[v],g=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+f/2,m=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let _="",S="";return y==="bottom"?(_=d?w:`${g}px`,S=`${-p}px`):y==="top"?(_=d?w:`${g}px`,S=`${l.floating.height+p}px`):y==="right"?(_=`${-p}px`,S=d?w:`${m}px`):y==="left"&&(_=`${l.floating.width+p}px`,S=d?w:`${m}px`),{data:{x:_,y:S}}}});function zP(t){const[e,n="center"]=t.split("-");return[e,n]}const qP=D5,WP=$5,HP=L5,KP=h.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?qI.createPortal(h.createElement(Xe.div,ee({},i,{ref:e})),r):null});function ou({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=U5({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Rr(n),l=h.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function U5({defaultProp:t,onChange:e}){const n=h.useState(t),[r]=n,i=h.useRef(r),s=Rr(e);return h.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function GP(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const j5=h.forwardRef((t,e)=>h.createElement(Xe.span,ee({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var B5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bo=new WeakMap,Cd=new WeakMap,Ad={},rg=0,QP=function(t){return t&&(t.host||QP(t.parentNode))},z5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=QP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},q5=function(t,e,n,r){var i=z5(e,Array.isArray(t)?t:[t]);Ad[n]||(Ad[n]=new WeakMap);var s=Ad[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var p=f.getAttribute(r),y=p!==null&&p!=="false",v=(Bo.get(f)||0)+1,w=(s.get(f)||0)+1;Bo.set(f,v),s.set(f,w),o.push(f),v===1&&y&&Cd.set(f,!0),w===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}})};return u(e),a.clear(),rg++,function(){o.forEach(function(d){var f=Bo.get(d)-1,p=s.get(d)-1;Bo.set(d,f),s.set(d,p),f||(Cd.has(d)||d.removeAttribute(r),Cd.delete(d)),p||d.removeAttribute(n)}),rg--,rg||(Bo=new WeakMap,Bo=new WeakMap,Cd=new WeakMap,Ad={})}},YP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||B5(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),q5(r,i,n,"aria-hidden")):function(){return null}},lf="right-scroll-bar-position",cf="width-before-scroll-bar",W5="with-scroll-bars-hidden",H5="--removed-body-scroll-bar-size";function ig(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function K5(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var aS=new WeakMap;function G5(t,e){var n=K5(e||null,function(r){return t.forEach(function(i){return ig(i,r)})});return h.useLayoutEffect(function(){var r=aS.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||ig(a,null)}),s.forEach(function(a){i.has(a)||ig(a,o)})}aS.set(n,t)},[t]),n}function Q5(t){return t}function Y5(t,e){e===void 0&&(e=Q5);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function X5(t){t===void 0&&(t={});var e=Y5(null);return e.options=Nr({async:!0,ssr:!1},t),e}var XP=function(t){var e=t.sideCar,n=Iu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Nr({},n))};XP.isSideCarExport=!0;function Z5(t,e){return t.useMedium(e),XP}var ZP=X5(),sg=function(){},Fp=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:sg,onWheelCapture:sg,onTouchMoveCapture:sg}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,y=t.inert,v=t.allowPinchZoom,w=t.as,g=w===void 0?"div":w,m=Iu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=f,S=G5([n,e]),I=Nr(Nr({},m),i);return h.createElement(h.Fragment,null,u&&h.createElement(_,{sideCar:ZP,removeScrollBar:c,shards:d,noIsolation:p,inert:y,setCallbacks:s,allowPinchZoom:!!v,lockRef:n}),o?h.cloneElement(h.Children.only(a),Nr(Nr({},I),{ref:S})):h.createElement(g,Nr({},I,{className:l,ref:S}),a))});Fp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fp.classNames={fullWidth:cf,zeroRight:lf};var J5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function e8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=J5();return e&&t.setAttribute("nonce",e),t}function t8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function n8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var r8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=e8())&&(t8(e,n),n8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},i8=function(){var t=r8();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},JP=function(){var t=i8(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},s8={left:0,top:0,right:0,gap:0},og=function(t){return parseInt(t||"",10)||0},o8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[og(n),og(r),og(i)]},a8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return s8;var e=o8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},l8=JP(),c8=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(W5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lf," .").concat(lf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cf," .").concat(cf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(H5,": ").concat(a,`px;
  }
`)},u8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,s=h.useMemo(function(){return a8(i)},[i]);return h.createElement(l8,{styles:c8(s,!e,i,n?"":"!important")})},tv=!1;if(typeof window<"u")try{var Pd=Object.defineProperty({},"passive",{get:function(){return tv=!0,!0}});window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{tv=!1}var zo=tv?{passive:!1}:!1,d8=function(t){return t.tagName==="TEXTAREA"},ek=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!d8(t)&&n[e]==="visible")},f8=function(t){return ek(t,"overflowY")},h8=function(t){return ek(t,"overflowX")},lS=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=tk(t,n);if(r){var i=nk(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},p8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},m8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},tk=function(t,e){return t==="v"?f8(e):h8(e)},nk=function(t,e){return t==="v"?p8(e):m8(e)},g8=function(t,e){return t==="h"&&e==="rtl"?-1:1},y8=function(t,e,n,r,i){var s=g8(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var p=nk(t,a),y=p[0],v=p[1],w=p[2],g=v-w-s*y;(y||g)&&tk(t,a)&&(d+=g,f+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&d===0||!i&&o>d)||!u&&(i&&f===0||!i&&-o>f))&&(c=!0),c},kd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cS=function(t){return[t.deltaX,t.deltaY]},uS=function(t){return t&&"current"in t?t.current:t},v8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},w8=0,qo=[];function E8(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(w8++)[0],s=h.useState(function(){return JP()})[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=HL([t.lockRef.current],(t.shards||[]).map(uS),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!o.current.allowPinchZoom;var g=kd(v),m=n.current,_="deltaX"in v?v.deltaX:m[0]-g[0],S="deltaY"in v?v.deltaY:m[1]-g[1],I,E=v.target,x=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in v&&x==="h"&&E.type==="range")return!1;var R=lS(x,E);if(!R)return!0;if(R?I=x:(I=x==="v"?"h":"v",R=lS(x,E)),!R)return!1;if(!r.current&&"changedTouches"in v&&(_||S)&&(r.current=I),!I)return!0;var k=r.current||I;return y8(k,w,v,k==="h"?_:S,!0)},[]),l=h.useCallback(function(v){var w=v;if(!(!qo.length||qo[qo.length-1]!==s)){var g="deltaY"in w?cS(w):kd(w),m=e.current.filter(function(I){return I.name===w.type&&I.target===w.target&&v8(I.delta,g)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var _=(o.current.shards||[]).map(uS).filter(Boolean).filter(function(I){return I.contains(w.target)}),S=_.length>0?a(w,_[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(v,w,g,m){var _={name:v,delta:w,target:g,should:m};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),u=h.useCallback(function(v){n.current=kd(v),r.current=void 0},[]),d=h.useCallback(function(v){c(v.type,cS(v),v.target,a(v,t.lockRef.current))},[]),f=h.useCallback(function(v){c(v.type,kd(v),v.target,a(v,t.lockRef.current))},[]);h.useEffect(function(){return qo.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,zo),document.addEventListener("touchmove",l,zo),document.addEventListener("touchstart",u,zo),function(){qo=qo.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,zo),document.removeEventListener("touchmove",l,zo),document.removeEventListener("touchstart",u,zo)}},[]);var p=t.removeScrollBar,y=t.inert;return h.createElement(h.Fragment,null,y?h.createElement(s,{styles:_8(i)}):null,p?h.createElement(u8,{gapMode:"margin"}):null)}const T8=Z5(ZP,E8);var rk=h.forwardRef(function(t,e){return h.createElement(Fp,Nr({},t,{ref:e,sideCar:T8}))});rk.classNames=Fp.classNames;const ik=rk,S8=[" ","Enter","ArrowUp","ArrowDown"],x8=[" ","Enter"],Up="Select",[jp,Bp,I8]=Z0(Up),[fl,BW]=Ns(Up,[I8,Vp]),sw=Vp(),[b8,Ao]=fl(Up),[R8,C8]=fl(Up),A8=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p}=t,y=sw(e),[v,w]=h.useState(null),[g,m]=h.useState(null),[_,S]=h.useState(!1),I=$p(c),[E=!1,x]=ou({prop:r,defaultProp:i,onChange:s}),[R,k]=ou({prop:o,defaultProp:a,onChange:l}),F=h.useRef(null),W=v?!!v.closest("form"):!0,[M,z]=h.useState(new Set),H=Array.from(M).map(te=>te.props.value).join(";");return h.createElement(qP,y,h.createElement(b8,{required:p,scope:e,trigger:v,onTriggerChange:w,valueNode:g,onValueNodeChange:m,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:ru(),value:R,onValueChange:k,open:E,onOpenChange:x,dir:I,triggerPointerDownPosRef:F,disabled:f},h.createElement(jp.Provider,{scope:e},h.createElement(R8,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(te=>{z(ce=>new Set(ce).add(te))},[]),onNativeOptionRemove:h.useCallback(te=>{z(ce=>{const K=new Set(ce);return K.delete(te),K})},[])},n)),W?h.createElement(ck,{key:H,"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:R,onChange:te=>k(te.target.value),disabled:f},R===void 0?h.createElement("option",{value:""}):null,Array.from(M)):null))},P8="SelectTrigger",k8=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=sw(n),o=Ao(P8,n),a=o.disabled||r,l=ut(e,o.onTriggerChange),c=Bp(n),[u,d,f]=uk(y=>{const v=c().filter(m=>!m.disabled),w=v.find(m=>m.value===o.value),g=dk(v,y,w);g!==void 0&&o.onValueChange(g.value)}),p=()=>{a||(o.onOpenChange(!0),f())};return h.createElement(WP,ee({asChild:!0},s),h.createElement(Xe.button,ee({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":lk(o.value)?"":void 0},i,{ref:l,onClick:pe(i.onClick,y=>{y.currentTarget.focus()}),onPointerDown:pe(i.onPointerDown,y=>{const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&(p(),o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)},y.preventDefault())}),onKeyDown:pe(i.onKeyDown,y=>{const v=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&d(y.key),!(v&&y.key===" ")&&S8.includes(y.key)&&(p(),y.preventDefault())})})))}),N8="SelectValue",D8=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Ao(N8,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=ut(e,l.onValueNodeChange);return Ln(()=>{c(u)},[c,u]),h.createElement(Xe.span,ee({},a,{ref:d,style:{pointerEvents:"none"}}),lk(l.value)?h.createElement(h.Fragment,null,o):s)}),O8=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return h.createElement(Xe.span,ee({"aria-hidden":!0},i,{ref:e}),r||"▼")}),$8=t=>h.createElement(KP,ee({asChild:!0},t)),Qa="SelectContent",M8=h.forwardRef((t,e)=>{const n=Ao(Qa,t.__scopeSelect),[r,i]=h.useState();if(Ln(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Is.createPortal(h.createElement(sk,{scope:t.__scopeSelect},h.createElement(jp.Slot,{scope:t.__scopeSelect},h.createElement("div",null,t.children))),s):null}return h.createElement(L8,ee({},t,{ref:e}))}),ii=10,[sk,Po]=fl(Qa),L8=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:w,...g}=t,m=Ao(Qa,n),[_,S]=h.useState(null),[I,E]=h.useState(null),x=ut(e,ae=>S(ae)),[R,k]=h.useState(null),[F,W]=h.useState(null),M=Bp(n),[z,H]=h.useState(!1),te=h.useRef(!1);h.useEffect(()=>{if(_)return YP(_)},[_]),xP();const ce=h.useCallback(ae=>{const[je,...Fe]=M().map(ke=>ke.ref.current),[Be]=Fe.slice(-1),Se=document.activeElement;for(const ke of ae)if(ke===Se||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===je&&I&&(I.scrollTop=0),ke===Be&&I&&(I.scrollTop=I.scrollHeight),ke==null||ke.focus(),document.activeElement!==Se))return},[M,I]),K=h.useCallback(()=>ce([R,_]),[ce,R,_]);h.useEffect(()=>{z&&K()},[z,K]);const{onOpenChange:V,triggerPointerDownPosRef:O}=m;h.useEffect(()=>{if(_){let ae={x:0,y:0};const je=Be=>{var Se,ke,Ut,jt;ae={x:Math.abs(Math.round(Be.pageX)-((Se=(ke=O.current)===null||ke===void 0?void 0:ke.x)!==null&&Se!==void 0?Se:0)),y:Math.abs(Math.round(Be.pageY)-((Ut=(jt=O.current)===null||jt===void 0?void 0:jt.y)!==null&&Ut!==void 0?Ut:0))}},Fe=Be=>{ae.x<=10&&ae.y<=10?Be.preventDefault():_.contains(Be.target)||V(!1),document.removeEventListener("pointermove",je),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[_,V,O]),h.useEffect(()=>{const ae=()=>V(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[V]);const[G,oe]=uk(ae=>{const je=M().filter(Se=>!Se.disabled),Fe=je.find(Se=>Se.ref.current===document.activeElement),Be=dk(je,ae,Fe);Be&&setTimeout(()=>Be.ref.current.focus())}),ye=h.useCallback((ae,je,Fe)=>{const Be=!te.current&&!Fe;(m.value!==void 0&&m.value===je||Be)&&(k(ae),Be&&(te.current=!0))},[m.value]),et=h.useCallback(()=>_==null?void 0:_.focus(),[_]),qe=h.useCallback((ae,je,Fe)=>{const Be=!te.current&&!Fe;(m.value!==void 0&&m.value===je||Be)&&W(ae)},[m.value]),Ze=r==="popper"?dS:V8,Me=Ze===dS?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:w}:{};return h.createElement(sk,{scope:n,content:_,viewport:I,onViewportChange:E,itemRefCallback:ye,selectedItem:R,onItemLeave:et,itemTextRefCallback:qe,focusSelectedItem:K,selectedItemText:F,position:r,isPositioned:z,searchRef:G},h.createElement(ik,{as:vs,allowPinchZoom:!0},h.createElement(IP,{asChild:!0,trapped:m.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:pe(i,ae=>{var je;(je=m.trigger)===null||je===void 0||je.focus({preventScroll:!0}),ae.preventDefault()})},h.createElement(TP,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>m.onOpenChange(!1)},h.createElement(Ze,ee({role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:ae=>ae.preventDefault()},g,Me,{onPlaced:()=>H(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,ae=>{const je=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!je&&ae.key.length===1&&oe(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Be=M().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Be=Be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Se=ae.target,ke=Be.indexOf(Se);Be=Be.slice(ke+1)}setTimeout(()=>ce(Be)),ae.preventDefault()}})}))))))}),V8=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ao(Qa,n),o=Po(Qa,n),[a,l]=h.useState(null),[c,u]=h.useState(null),d=ut(e,x=>u(x)),f=Bp(n),p=h.useRef(!1),y=h.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:g,focusSelectedItem:m}=o,_=h.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&v&&w&&g){const x=s.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),F=g.getBoundingClientRect();if(s.dir!=="rtl"){const Se=F.left-R.left,ke=k.left-Se,Ut=x.left-ke,jt=x.width+Ut,At=Math.max(jt,R.width),ei=window.innerWidth-ii,Pi=qT(ke,[ii,ei-At]);a.style.minWidth=jt+"px",a.style.left=Pi+"px"}else{const Se=R.right-F.right,ke=window.innerWidth-k.right-Se,Ut=window.innerWidth-x.right-ke,jt=x.width+Ut,At=Math.max(jt,R.width),ei=window.innerWidth-ii,Pi=qT(ke,[ii,ei-At]);a.style.minWidth=jt+"px",a.style.right=Pi+"px"}const W=f(),M=window.innerHeight-ii*2,z=v.scrollHeight,H=window.getComputedStyle(c),te=parseInt(H.borderTopWidth,10),ce=parseInt(H.paddingTop,10),K=parseInt(H.borderBottomWidth,10),V=parseInt(H.paddingBottom,10),O=te+ce+z+V+K,G=Math.min(w.offsetHeight*5,O),oe=window.getComputedStyle(v),ye=parseInt(oe.paddingTop,10),et=parseInt(oe.paddingBottom,10),qe=x.top+x.height/2-ii,Ze=M-qe,Me=w.offsetHeight/2,ae=w.offsetTop+Me,je=te+ce+ae,Fe=O-je;if(je<=qe){const Se=w===W[W.length-1].ref.current;a.style.bottom="0px";const ke=c.clientHeight-v.offsetTop-v.offsetHeight,Ut=Math.max(Ze,Me+(Se?et:0)+ke+K),jt=je+Ut;a.style.height=jt+"px"}else{const Se=w===W[0].ref.current;a.style.top="0px";const Ut=Math.max(qe,te+v.offsetTop+(Se?ye:0)+Me)+Fe;a.style.height=Ut+"px",v.scrollTop=je-qe+v.offsetTop}a.style.margin=`${ii}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,a,c,v,w,g,s.dir,r]);Ln(()=>_(),[_]);const[S,I]=h.useState();Ln(()=>{c&&I(window.getComputedStyle(c).zIndex)},[c]);const E=h.useCallback(x=>{x&&y.current===!0&&(_(),m==null||m(),y.current=!1)},[_,m]);return h.createElement(F8,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:E},h.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S}},h.createElement(Xe.div,ee({},i,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),dS=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ii,...s}=t,o=sw(n);return h.createElement(HP,ee({},o,s,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[F8,ow]=fl(Qa,{}),fS="SelectViewport",U8=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Po(fS,n),s=ow(fS,n),o=ut(e,i.onViewportChange),a=h.useRef(0);return h.createElement(h.Fragment,null,h.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),h.createElement(jp.Slot,{scope:n},h.createElement(Xe.div,ee({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:pe(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=s;if(d!=null&&d.current&&u){const f=Math.abs(a.current-c.scrollTop);if(f>0){const p=window.innerHeight-ii*2,y=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),w=Math.max(y,v);if(w<p){const g=w+f,m=Math.min(p,g),_=g-m;u.style.height=m+"px",u.style.bottom==="0px"&&(c.scrollTop=_>0?_:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),j8="SelectGroup",[zW,B8]=fl(j8),z8="SelectLabel",q8=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=B8(z8,n);return h.createElement(Xe.div,ee({id:i.id},r,{ref:e}))}),nv="SelectItem",[W8,ok]=fl(nv),H8=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Ao(nv,n),l=Po(nv,n),c=a.value===r,[u,d]=h.useState(s??""),[f,p]=h.useState(!1),y=ut(e,g=>{var m;return(m=l.itemRefCallback)===null||m===void 0?void 0:m.call(l,g,r,i)}),v=ru(),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.createElement(W8,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:h.useCallback(g=>{d(m=>{var _;return m||((_=g==null?void 0:g.textContent)!==null&&_!==void 0?_:"").trim()})},[])},h.createElement(jp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},h.createElement(Xe.div,ee({role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:y,onFocus:pe(o.onFocus,()=>p(!0)),onBlur:pe(o.onBlur,()=>p(!1)),onPointerUp:pe(o.onPointerUp,w),onPointerMove:pe(o.onPointerMove,g=>{if(i){var m;(m=l.onItemLeave)===null||m===void 0||m.call(l)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var m;(m=l.onItemLeave)===null||m===void 0||m.call(l)}}),onKeyDown:pe(o.onKeyDown,g=>{var m;((m=l.searchRef)===null||m===void 0?void 0:m.current)!==""&&g.key===" "||(x8.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})}))))}),Nd="SelectItemText",K8=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Ao(Nd,n),a=Po(Nd,n),l=ok(Nd,n),c=C8(Nd,n),[u,d]=h.useState(null),f=ut(e,g=>d(g),l.onItemTextChange,g=>{var m;return(m=a.itemTextRefCallback)===null||m===void 0?void 0:m.call(a,g,l.value,l.disabled)}),p=u==null?void 0:u.textContent,y=h.useMemo(()=>h.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},p),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=c;return Ln(()=>(v(y),()=>w(y)),[v,w,y]),h.createElement(h.Fragment,null,h.createElement(Xe.span,ee({id:l.textId},s,{ref:f})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Is.createPortal(s.children,o.valueNode):null)}),G8="SelectItemIndicator",Q8=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ok(G8,n).isSelected?h.createElement(Xe.span,ee({"aria-hidden":!0},r,{ref:e})):null}),hS="SelectScrollUpButton",Y8=h.forwardRef((t,e)=>{const n=Po(hS,t.__scopeSelect),r=ow(hS,t.__scopeSelect),[i,s]=h.useState(!1),o=ut(e,r.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;s(u)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?h.createElement(ak,ee({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),pS="SelectScrollDownButton",X8=h.forwardRef((t,e)=>{const n=Po(pS,t.__scopeSelect),r=ow(pS,t.__scopeSelect),[i,s]=h.useState(!1),o=ut(e,r.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?h.createElement(ak,ee({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),ak=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Po("SelectScrollButton",n),o=h.useRef(null),a=Bp(n),l=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),Ln(()=>{var c;const u=a().find(d=>d.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),h.createElement(Xe.div,ee({"aria-hidden":!0},i,{ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var c;(c=s.onItemLeave)===null||c===void 0||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{l()})}))}),Z8=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.createElement(Xe.div,ee({"aria-hidden":!0},r,{ref:e}))});function lk(t){return t===""||t===void 0}const ck=h.forwardRef((t,e)=>{const{value:n,...r}=t,i=h.useRef(null),s=ut(e,i),o=GP(n);return h.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),h.createElement(j5,{asChild:!0},h.createElement("select",ee({},r,{ref:s,defaultValue:n})))});ck.displayName="BubbleSelect";function uk(t){const e=Rr(t),n=h.useRef(""),r=h.useRef(0),i=h.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function dk(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=J8(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function J8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const eB=A8,fk=k8,tB=D8,nB=O8,rB=$8,hk=M8,iB=U8,pk=q8,mk=H8,sB=K8,oB=Q8,gk=Y8,yk=X8,vk=Z8;/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Wu=(t,e)=>{const n=h.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>h.createElement("svg",{ref:u,...aB,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${lB(t)}`,a].join(" "),...c},[...e.map(([d,f])=>h.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Wu("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Wu("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=Wu("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=Wu("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Wu("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),dB=eB,fB=tB,Tk=h.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(fk,{ref:r,className:st("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,T.jsx(nB,{asChild:!0,children:T.jsx(wk,{className:"h-4 w-4 opacity-50"})})]}));Tk.displayName=fk.displayName;const Sk=h.forwardRef(({className:t,...e},n)=>T.jsx(gk,{ref:n,className:st("flex cursor-default items-center justify-center py-1",t),...e,children:T.jsx(uB,{className:"h-4 w-4"})}));Sk.displayName=gk.displayName;const xk=h.forwardRef(({className:t,...e},n)=>T.jsx(yk,{ref:n,className:st("flex cursor-default items-center justify-center py-1",t),...e,children:T.jsx(wk,{className:"h-4 w-4"})}));xk.displayName=yk.displayName;const Ik=h.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>T.jsx(rB,{children:T.jsxs(hk,{ref:i,className:st("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-background text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[T.jsx(Sk,{}),T.jsx(iB,{className:st("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),T.jsx(xk,{})]})}));Ik.displayName=hk.displayName;const hB=h.forwardRef(({className:t,...e},n)=>T.jsx(pk,{ref:n,className:st("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));hB.displayName=pk.displayName;const rv=h.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(mk,{ref:r,className:st("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm bg-background outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(oB,{children:T.jsx(_k,{className:"h-4 w-4"})})}),T.jsx(sB,{children:e})]}));rv.displayName=mk.displayName;const pB=h.forwardRef(({className:t,...e},n)=>T.jsx(vk,{ref:n,className:st("-mx-1 my-1 h-px bg-muted",t),...e}));pB.displayName=vk.displayName;function mB(t){return wu({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 3c-4.963 0-9 4.038-9 9s4.037 9 9 9 9-4.038 9-9-4.037-9-9-9zm0 16c-3.859 0-7-3.14-7-7s3.141-7 7-7 7 3.14 7 7-3.141 7-7 7zM12.707 12l2.646-2.646c.194-.194.194-.512 0-.707-.195-.194-.513-.194-.707 0l-2.646 2.646-2.646-2.647c-.195-.194-.513-.194-.707 0-.195.195-.195.513 0 .707l2.646 2.647-2.646 2.646c-.195.195-.195.513 0 .707.097.098.225.147.353.147s.256-.049.354-.146l2.646-2.647 2.646 2.646c.098.098.226.147.354.147s.256-.049.354-.146c.194-.194.194-.512 0-.707l-2.647-2.647z"},child:[]}]})(t)}const gB=({onChange:t,defaultValues:e})=>{const[n,r]=h.useState(e||[]),i=o=>{o.target.files&&t(o.target.files)},s=o=>{r(n==null?void 0:n.filter(a=>a!==o))};return T.jsxs("div",{className:"",children:[T.jsx(Gr,{id:"picture",type:"file",onChange:i,accept:"image/*",multiple:!0}),n&&T.jsx("ul",{className:"flex",children:n.map(o=>T.jsxs("li",{className:"relative",children:[T.jsx("img",{src:o,className:"w-28 z-10"}),T.jsx("button",{onClick:()=>s(o),className:"absolute top-0 right-0 z-20",children:T.jsx(mB,{})})]}))})]})},bk=h.forwardRef(({className:t,...e},n)=>T.jsx("textarea",{className:st("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));bk.displayName="Textarea";let Dd;const yB=new Uint8Array(16);function vB(){if(!Dd&&(Dd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dd(yB)}const _B=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function wB(t){return typeof t=="string"&&_B.test(t)}const Yt=[];for(let t=0;t<256;++t)Yt.push((t+256).toString(16).slice(1));function EB(t,e=0){return Yt[t[e+0]]+Yt[t[e+1]]+Yt[t[e+2]]+Yt[t[e+3]]+"-"+Yt[t[e+4]]+Yt[t[e+5]]+"-"+Yt[t[e+6]]+Yt[t[e+7]]+"-"+Yt[t[e+8]]+Yt[t[e+9]]+"-"+Yt[t[e+10]]+Yt[t[e+11]]+Yt[t[e+12]]+Yt[t[e+13]]+Yt[t[e+14]]+Yt[t[e+15]]}function Rk(t){if(!wB(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}const TB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mS={randomUUID:TB};function aw(t,e,n){if(mS.randomUUID&&!e&&!t)return mS.randomUUID();t=t||{};const r=t.random||(t.rng||vB)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return EB(r)}async function SB(t,e,n,r,i,s,o){const a=Number.parseInt(Rk(aw()).join(""));await wU(CA(Co,"products"),{id:a,sellerId:t,productName:e,productPrice:n,productQuantity:r,productDescription:i,productCategory:s,productImage:o,createdAt:Th(),updatedAt:Th()}).catch(l=>{throw l})}async function xB(t){console.log("여기파일",t);const e=[];for(let n=0;n<t.length;n++){const r=rP(sP,aw());await P7(r,t[n]);const i=await k7(r);e.push(i)}return e}function Ck(t){return{id:t.id,sellerId:t.sellerId,productName:t.productName,productPrice:t.productPrice,productQuantity:t.productQuantity,productDescription:t.productDescription,productCategory:t.productCategory,productImage:t.productImage,createdAt:t.createdAt,updatedAt:t.updatedAt}}async function IB(t){const e=al(Co,"products",t),n=await B0(e);if(n.exists()){const r=n.data();return Ck(r)}return null}const gS=({type:t})=>{const e=aP(),[n,r]=h.useState(),[i]=E2(),s=Rs();h.useEffect(()=>{if(t==="edit"){const c=i.get("product");IB(c).then(u=>{u&&(console.log(u),r(u))})}},[t,i]);const o=g_({name:ci().min(1,{message:"상품명 입력은 필수입니다."}).max(50,{message:"50자 이내로 작성해주세요."}),description:ci().min(1,{message:"상품명 입력은 필수입니다."}).max(500,{message:"500자 이내로 작성해주세요."}),photo:Z2(FileList),category:ci(),price:JE().min(1),quantity:JE().min(1)}),a=T_({resolver:S_(o),defaultValues:{name:"",description:"",price:100,quantity:10}});h.useEffect(()=>{n&&(a.setValue("name",n.productName),a.setValue("description",n.productDescription),a.setValue("category",n.productCategory),a.setValue("price",n.productPrice),a.setValue("quantity",n.productQuantity))},[a,n]);async function l(c){try{const u=await xB(c.photo);await SB(e.loggedUser.id,c.name,c.price,c.quantity,c.description,c.category,u),window.alert("상품을 성공적으로 등록하였습니다."),s("/mypage")}catch(u){window.alert(u)}}return T.jsxs(lP,{children:[T.jsx("h1",{className:"h1 mb-6",children:"상품 등록"}),T.jsx("p",{className:"mb-6",children:"상품의 정보를 입력해주세요."}),T.jsx("div",{className:"w-full",children:T.jsx(X0,{...a,children:T.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-8",children:[T.jsx(tr,{control:a.control,name:"name",render:({field:c})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"상품명"}),T.jsx(Pn,{children:T.jsx(Gr,{placeholder:"상품명을 입력하세요.",...c})}),T.jsx(fa,{children:"최대 50자"}),T.jsx(gr,{})]})}),T.jsx(tr,{control:a.control,name:"description",render:({field:c})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"상품 설명"}),T.jsx(Pn,{children:T.jsx(bk,{placeholder:"상품 설명을 작성해주세요.",className:"resize-none",...c})}),T.jsx(fa,{children:"최대 500자"}),T.jsx(gr,{})]})}),T.jsx(tr,{control:a.control,name:"photo",render:({field:c})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"상품 사진"}),T.jsx(gB,{onChange:c.onChange,defaultValues:t==="edit"&&n?n.productImage:void 0}),T.jsx(fa,{children:"최대 10장"}),T.jsx(gr,{})]})}),T.jsx(tr,{control:a.control,name:"category",render:({field:c})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"카테고리"}),T.jsxs(dB,{...c,children:[T.jsx(Pn,{children:T.jsx(Tk,{children:T.jsx(fB,{placeholder:"상품의 카테고리를 선택하세요."})})}),T.jsxs(Ik,{children:[T.jsx(rv,{value:"Men",children:"Men"}),T.jsx(rv,{value:"Women",children:"Women"})]})]}),T.jsx(gr,{})]})}),T.jsx(tr,{control:a.control,name:"price",render:({field:c})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"가격"}),T.jsx(Pn,{children:T.jsx(Gr,{...c,placeholder:"상품의 가격을 입력하세요.",onChange:u=>c.onChange(Number.parseInt(u.target.value))})}),T.jsx(fa,{children:"In KRW"}),T.jsx(gr,{})]})}),T.jsx(tr,{control:a.control,name:"quantity",render:({field:c})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"수량"}),T.jsx(Pn,{children:T.jsx(Gr,{placeholder:"상품의 수량을 입력하세요.",...c,onChange:u=>c.onChange(Number.parseInt(u.target.value))})}),T.jsx(gr,{})]})}),T.jsxs("div",{className:"flex justify-center",children:[T.jsx(Ka,{variant:"secondary",className:"w-40 mr-3",children:"취소"}),T.jsx(Ka,{type:"submit",className:"w-40",children:"등록"})]})]})})})]})};var iv=new Map,Od=new WeakMap,yS=0,bB=void 0;function RB(t){return t?(Od.has(t)||(yS+=1,Od.set(t,yS.toString())),Od.get(t)):"0"}function CB(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?RB(t.root):t[e]}`).toString()}function AB(t){let e=CB(t),n=iv.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const c=a.isIntersecting&&i.some(u=>a.intersectionRatio>=u);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=r.get(a.target))==null||l.forEach(u=>{u(c,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},iv.set(e,n)}return n}function PB(t,e,n={},r=bB){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=AB(n);let a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),iv.delete(i))}}function kB({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:c}={}){var u;const[d,f]=h.useState(null),p=h.useRef(),[y,v]=h.useState({inView:!!a,entry:void 0});p.current=c,h.useEffect(()=>{if(o||!d)return;let _;return _=PB(d,(S,I)=>{v({inView:S,entry:I}),p.current&&p.current(S,I),I.isIntersecting&&s&&_&&(_(),_=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,d,i,r,s,o,n,l,e]);const w=(u=y.entry)==null?void 0:u.target,g=h.useRef();!d&&w&&!s&&!o&&g.current!==w&&(g.current=w,v({inView:!!a,entry:void 0}));const m=[f,y.inView,y.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}class Hu{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const au=typeof window>"u"||"Deno"in window;function Zn(){}function NB(t,e){return typeof t=="function"?t(e):t}function sv(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ak(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gl(t,e,n){return zp(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Ui(t,e,n){return zp(t)?[{...e,queryKey:t},n]:[t||{},e]}function vS(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(zp(o)){if(r){if(e.queryHash!==lw(o,e.options))return!1}else if(!Rh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function _S(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(zp(s)){if(!e.options.mutationKey)return!1;if(n){if(Ys(e.options.mutationKey)!==Ys(s))return!1}else if(!Rh(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function lw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ys)(t)}function Ys(t){return JSON.stringify(t,(e,n)=>av(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Rh(t,e){return Pk(t,e)}function Pk(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Pk(t[n],e[n])):!1}function kk(t,e){if(t===e)return t;const n=wS(t)&&wS(e);if(n||av(t)&&av(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const c=n?l:i[l];o[c]=kk(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function ov(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function wS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function av(t){if(!ES(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!ES(n)||!n.hasOwnProperty("isPrototypeOf"))}function ES(t){return Object.prototype.toString.call(t)==="[object Object]"}function zp(t){return Array.isArray(t)}function Nk(t){return new Promise(e=>{setTimeout(e,t)})}function TS(t){Nk(0).then(t)}function DB(){if(typeof AbortController=="function")return new AbortController}function lv(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?kk(t,e):e}class OB extends Hu{constructor(){super(),this.setup=e=>{if(!au&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Ch=new OB,SS=["online","offline"];class $B extends Hu{constructor(){super(),this.setup=e=>{if(!au&&window.addEventListener){const n=()=>e();return SS.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{SS.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Ah=new $B;function MB(t){return Math.min(1e3*2**t,3e4)}function qp(t){return(t??"online")==="online"?Ah.isOnline():!0}class Dk{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function uf(t){return t instanceof Dk}function Ok(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((w,g)=>{s=w,o=g}),l=w=>{r||(p(new Dk(w)),t.abort==null||t.abort())},c=()=>{e=!0},u=()=>{e=!1},d=()=>!Ch.isFocused()||t.networkMode!=="always"&&!Ah.isOnline(),f=w=>{r||(r=!0,t.onSuccess==null||t.onSuccess(w),i==null||i(),s(w))},p=w=>{r||(r=!0,t.onError==null||t.onError(w),i==null||i(),o(w))},y=()=>new Promise(w=>{i=g=>{const m=r||!d();return m&&w(g),m},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),v=()=>{if(r)return;let w;try{w=t.fn()}catch(g){w=Promise.reject(g)}Promise.resolve(w).then(f).catch(g=>{var m,_;if(r)return;const S=(m=t.retry)!=null?m:3,I=(_=t.retryDelay)!=null?_:MB,E=typeof I=="function"?I(n,g):I,x=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,g);if(e||!x){p(g);return}n++,t.onFail==null||t.onFail(n,g),Nk(E).then(()=>{if(d())return y()}).then(()=>{e?p(g):v()})})};return qp(t.networkMode)?v():y().then(v),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}const cw=console;function LB(){let t=[],e=0,n=u=>{u()},r=u=>{u()};const i=u=>{let d;e++;try{d=u()}finally{e--,e||a()}return d},s=u=>{e?t.push(u):TS(()=>{n(u)})},o=u=>(...d)=>{s(()=>{u(...d)})},a=()=>{const u=t;t=[],u.length&&TS(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u}}}const Nt=LB();class $k{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sv(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(au?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class VB extends $k{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||cw,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||FB(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=lv(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Ak(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const o=DB(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(u),(r=this.options.behavior)==null||r.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=u.fetchOptions)==null?void 0:i.meta)){var d;this.dispatch({type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta})}const f=p=>{if(uf(p)&&p.silent||this.dispatch({type:"error",error:p}),!uf(p)){var y,v,w,g;(y=(v=this.cache.config).onError)==null||y.call(v,p,this),(w=(g=this.cache.config).onSettled)==null||w.call(g,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Ok({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:p=>{var y,v,w,g;if(typeof p>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(y=(v=this.cache.config).onSuccess)==null||y.call(v,p,this),(w=(g=this.cache.config).onSettled)==null||w.call(g,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(p,y)=>{this.dispatch({type:"failed",failureCount:p,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:qp(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return uf(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Nt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function FB(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class UB extends Hu{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:lw(s,n);let a=this.get(o);return a||(a=new VB({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Ui(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>vS(r,i))}findAll(e,n){const[r]=Ui(e,n);return Object.keys(r).length>0?this.queries.filter(i=>vS(r,i)):this.queries}notify(e){Nt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Nt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class jB extends $k{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||cw,this.observers=[],this.state=e.state||BB(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var x;return this.retryer=Ok({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(R,k)=>{this.dispatch({type:"failed",failureCount:R,error:k})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(x=this.options.retry)!=null?x:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l,c,u;if(!n){var d,f,p,y;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(f=this.mutationCache.config).onMutate)==null?void 0:d.call(f,this.state.variables,this));const R=await((p=(y=this.options).onMutate)==null?void 0:p.call(y,this.state.variables));R!==this.state.context&&this.dispatch({type:"loading",context:R,variables:this.state.variables})}const x=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,x,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,x,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,x,null,this.state.variables,this.state.context,this)),await((c=(u=this.options).onSettled)==null?void 0:c.call(u,x,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:x}),x}catch(x){try{var v,w,g,m,_,S,I,E;throw await((v=(w=this.mutationCache.config).onError)==null?void 0:v.call(w,x,this.state.variables,this.state.context,this)),await((g=(m=this.options).onError)==null?void 0:g.call(m,x,this.state.variables,this.state.context)),await((_=(S=this.mutationCache.config).onSettled)==null?void 0:_.call(S,void 0,x,this.state.variables,this.state.context,this)),await((I=(E=this.options).onSettled)==null?void 0:I.call(E,void 0,x,this.state.variables,this.state.context)),x}finally{this.dispatch({type:"error",error:x})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!qp(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),Nt.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function BB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class zB extends Hu{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new jB({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Nt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>_S(e,n))}findAll(e){return this.mutations.filter(n=>_S(e,n))}notify(e){Nt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Nt.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Zn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function cv(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,c=l==null?void 0:l.pageParam,u=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",f=((s=t.state.data)==null?void 0:s.pages)||[],p=((o=t.state.data)==null?void 0:o.pageParams)||[];let y=p,v=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>{var x;if((x=t.signal)!=null&&x.aborted)v=!0;else{var R;(R=t.signal)==null||R.addEventListener("abort",()=>{v=!0})}return t.signal}})},g=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),m=(E,x,R,k)=>(y=k?[x,...y]:[...y,x],k?[R,...E]:[...E,R]),_=(E,x,R,k)=>{if(v)return Promise.reject("Cancelled");if(typeof R>"u"&&!x&&E.length)return Promise.resolve(E);const F={queryKey:t.queryKey,pageParam:R,meta:t.options.meta};w(F);const W=g(F);return Promise.resolve(W).then(z=>m(E,R,z,k))};let S;if(!f.length)S=_([]);else if(u){const E=typeof c<"u",x=E?c:uv(t.options,f);S=_(f,E,x)}else if(d){const E=typeof c<"u",x=E?c:Mk(t.options,f);S=_(f,E,x,!0)}else{y=[];const E=typeof t.options.getNextPageParam>"u";S=(a&&f[0]?a(f[0],0,f):!0)?_([],E,p[0]):Promise.resolve(m([],p[0],f[0]));for(let R=1;R<f.length;R++)S=S.then(k=>{if(a&&f[R]?a(f[R],R,f):!0){const W=E?p[R]:uv(t.options,k);return _(k,E,W)}return Promise.resolve(m(k,p[R],f[R]))})}return S.then(E=>({pages:E,pageParams:y}))}}}}function uv(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Mk(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}function qB(t,e){if(t.getNextPageParam&&Array.isArray(e)){const n=uv(t,e);return typeof n<"u"&&n!==null&&n!==!1}}function WB(t,e){if(t.getPreviousPageParam&&Array.isArray(e)){const n=Mk(t,e);return typeof n<"u"&&n!==null&&n!==!1}}class HB{constructor(e={}){this.queryCache=e.queryCache||new UB,this.mutationCache=e.mutationCache||new zB,this.logger=e.logger||cw,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Ch.subscribe(()=>{Ch.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Ah.subscribe(()=>{Ah.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Ui(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Gl(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=NB(n,s);if(typeof o>"u")return;const a=Gl(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return Nt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Ui(e,n),i=this.queryCache;Nt.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=Ui(e,n,r),o=this.queryCache,a={type:"active",...i};return Nt.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=Ui(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=Nt.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Zn).catch(Zn)}invalidateQueries(e,n,r){const[i,s]=Ui(e,n,r);return Nt.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(c=>{c.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=Ui(e,n,r),o=Nt.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...s,cancelRefetch:(c=s==null?void 0:s.cancelRefetch)!=null?c:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Zn);return s!=null&&s.throwOnError||(a=a.catch(Zn)),a}fetchQuery(e,n,r){const i=Gl(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Zn).catch(Zn)}fetchInfiniteQuery(e,n,r){const i=Gl(e,n,r);return i.behavior=cv(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Zn).catch(Zn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Ys(e)===Ys(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>Rh(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Ys(e)===Ys(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>Rh(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=lw(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class KB extends Hu{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),xS(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dv(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dv(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),ov(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&IS(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return QB(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zn)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),au||this.currentResult.isStale||!sv(this.options.staleTime))return;const n=Ak(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(au||this.options.enabled===!1||!sv(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ch.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,c=l?e.state:this.currentQueryInitialState,u=l?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:f,error:p,errorUpdatedAt:y,fetchStatus:v,status:w}=d,g=!1,m=!1,_;if(n._optimisticResults){const R=this.hasListeners(),k=!R&&xS(e,n),F=R&&IS(e,r,n,i);(k||F)&&(v=qp(e.options.networkMode)?"fetching":"paused",f||(w="loading")),n._optimisticResults==="isRestoring"&&(v="idle")}if(n.keepPreviousData&&!d.dataUpdatedAt&&u!=null&&u.isSuccess&&w!=="error")_=u.data,f=u.dataUpdatedAt,w=u.status,g=!0;else if(n.select&&typeof d.data<"u")if(s&&d.data===(o==null?void 0:o.data)&&n.select===this.selectFn)_=this.selectResult;else try{this.selectFn=n.select,_=n.select(d.data),_=lv(s==null?void 0:s.data,_,n),this.selectResult=_,this.selectError=null}catch(R){this.selectError=R}else _=d.data;if(typeof n.placeholderData<"u"&&typeof _>"u"&&w==="loading"){let R;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))R=s.data;else if(R=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof R<"u")try{R=n.select(R),this.selectError=null}catch(k){this.selectError=k}typeof R<"u"&&(w="success",_=lv(s==null?void 0:s.data,R,n),m=!0)}this.selectError&&(p=this.selectError,_=this.selectResult,y=Date.now(),w="error");const S=v==="fetching",I=w==="loading",E=w==="error";return{status:w,fetchStatus:v,isLoading:I,isSuccess:w==="success",isError:E,isInitialLoading:I&&S,data:_,dataUpdatedAt:f,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!I,isLoadingError:E&&d.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:m,isPreviousData:g,isRefetchError:E&&d.dataUpdatedAt!==0,isStale:uw(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,ov(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const l=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(c=>{const u=c;return this.currentResult[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!uf(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Nt.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,c;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function GB(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xS(t,e){return GB(t,e)||t.state.dataUpdatedAt>0&&dv(t,e,e.refetchOnMount)}function dv(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&uw(t,e)}return!1}function IS(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&uw(t,n)}function uw(t,e){return t.isStaleByTime(e.staleTime)}function QB(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!ov(t.getCurrentResult(),e)}class YB extends KB{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,n){super.setOptions({...e,behavior:cv()},n)}getOptimisticResult(e){return e.behavior=cv(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,n){var r,i,s,o,a,l;const{state:c}=e,u=super.createResult(e,n),{isFetching:d,isRefetching:f}=u,p=d&&((r=c.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",y=d&&((s=c.fetchMeta)==null||(o=s.fetchMore)==null?void 0:o.direction)==="backward";return{...u,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:qB(n,(a=c.data)==null?void 0:a.pages),hasPreviousPage:WB(n,(l=c.data)==null?void 0:l.pages),isFetchingNextPage:p,isFetchingPreviousPage:y,isRefetching:f&&!p&&!y}}}var Lk={exports:{}},Vk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ya=h;function XB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZB=typeof Object.is=="function"?Object.is:XB,JB=Ya.useState,ez=Ya.useEffect,tz=Ya.useLayoutEffect,nz=Ya.useDebugValue;function rz(t,e){var n=e(),r=JB({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return tz(function(){i.value=n,i.getSnapshot=e,ag(i)&&s({inst:i})},[t,n,e]),ez(function(){return ag(i)&&s({inst:i}),t(function(){ag(i)&&s({inst:i})})},[t]),nz(n),n}function ag(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ZB(t,n)}catch{return!0}}function iz(t,e){return e()}var sz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iz:rz;Vk.useSyncExternalStore=Ya.useSyncExternalStore!==void 0?Ya.useSyncExternalStore:sz;Lk.exports=Vk;var oz=Lk.exports;const az=oz.useSyncExternalStore,bS=h.createContext(void 0),Fk=h.createContext(!1);function Uk(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=bS),window.ReactQueryClientContext):bS)}const lz=({context:t}={})=>{const e=h.useContext(Uk(t,h.useContext(Fk)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},cz=({client:t,children:e,context:n,contextSharing:r=!1})=>{h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Uk(n,r);return h.createElement(Fk.Provider,{value:!n&&r},h.createElement(i.Provider,{value:t},e))},jk=h.createContext(!1),uz=()=>h.useContext(jk);jk.Provider;function dz(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const fz=h.createContext(dz()),hz=()=>h.useContext(fz);function pz(t,e){return typeof t=="function"?t(...e):!!t}const mz=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},gz=t=>{h.useEffect(()=>{t.clearReset()},[t])},yz=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&pz(n,[t.error,r]),vz=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},_z=(t,e)=>t.isLoading&&t.isFetching&&!e,wz=(t,e,n)=>(t==null?void 0:t.suspense)&&_z(e,n),Ez=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Tz(t,e){const n=lz({context:t.context}),r=uz(),i=hz(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=Nt.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Nt.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Nt.batchCalls(s.onSettled)),vz(s),mz(s,i),gz(i);const[o]=h.useState(()=>new e(n,s)),a=o.getOptimisticResult(s);if(az(h.useCallback(l=>{const c=r?()=>{}:o.subscribe(Nt.batchCalls(l));return o.updateResult(),c},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),h.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),wz(s,a,r))throw Ez(s,o,i);if(yz({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function Sz(t,e,n){const r=Gl(t,e,n);return Tz(r,YB)}const xz=({rowsPerPage:t,queryFunc:e})=>{const{data:n,isLoading:r,isError:i,hasNextPage:s,fetchNextPage:o,isFetchingNextPage:a}=Sz({queryKey:["getProducts"],queryFn:async c=>await e(c,t),getNextPageParam:(c,u)=>u[0].size<t?null:c.docs[c.docs.length-1].data().createdAt});return{products:h.useMemo(()=>{if(n)return n==null?void 0:n.pages[0].docs.map(c=>({docId:c.id,data:c.data()}))},[n]),isLoading:r,isError:i,hasNextPage:s,fetchNextPage:o,isFetchingNextPage:a}};async function Iz(t,e){const n=CA(Co,"products"),r=t.pageParam!==void 0?PT(n,kT("createdAt","desc"),fU(t.pageParam),NT(e)):PT(n,kT("createdAt","desc"),NT(e));return await yU(r)}function bz(t,e){return h.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const hl=t=>{const{present:e,children:n}=t,r=Rz(e),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),s=ut(r.ref,i.ref);return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:s}):null};hl.displayName="Presence";function Rz(t){const[e,n]=h.useState(),r=h.useRef({}),i=h.useRef(t),s=h.useRef("none"),o=t?"mounted":"unmounted",[a,l]=bz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=$d(r.current);s.current=a==="mounted"?c:"none"},[a]),Ln(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,p=$d(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ln(()=>{if(e){const c=d=>{const p=$d(r.current).includes(d.animationName);d.target===e&&p&&Is.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(s.current=$d(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function $d(t){return(t==null?void 0:t.animationName)||"none"}const lg="rovingFocusGroup.onEntryFocus",Cz={bubbles:!1,cancelable:!0},dw="RovingFocusGroup",[fv,Bk,Az]=Z0(dw),[Pz,Wp]=Ns(dw,[Az]),[kz,Nz]=Pz(dw),Dz=h.forwardRef((t,e)=>h.createElement(fv.Provider,{scope:t.__scopeRovingFocusGroup},h.createElement(fv.Slot,{scope:t.__scopeRovingFocusGroup},h.createElement(Oz,ee({},t,{ref:e}))))),Oz=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=t,d=h.useRef(null),f=ut(e,d),p=$p(s),[y=null,v]=ou({prop:o,defaultProp:a,onChange:l}),[w,g]=h.useState(!1),m=Rr(c),_=Bk(n),S=h.useRef(!1),[I,E]=h.useState(0);return h.useEffect(()=>{const x=d.current;if(x)return x.addEventListener(lg,m),()=>x.removeEventListener(lg,m)},[m]),h.createElement(kz,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:y,onItemFocus:h.useCallback(x=>v(x),[v]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(x=>x+1),[]),onFocusableItemRemove:h.useCallback(()=>E(x=>x-1),[])},h.createElement(Xe.div,ee({tabIndex:w||I===0?-1:0,"data-orientation":r},u,{ref:f,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{S.current=!0}),onFocus:pe(t.onFocus,x=>{const R=!S.current;if(x.target===x.currentTarget&&R&&!w){const k=new CustomEvent(lg,Cz);if(x.currentTarget.dispatchEvent(k),!k.defaultPrevented){const F=_().filter(te=>te.focusable),W=F.find(te=>te.active),M=F.find(te=>te.id===y),H=[W,M,...F].filter(Boolean).map(te=>te.ref.current);zk(H)}}S.current=!1}),onBlur:pe(t.onBlur,()=>g(!1))})))}),$z="RovingFocusGroupItem",Mz=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=ru(),l=s||a,c=Nz($z,n),u=c.currentTabStopId===l,d=Bk(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=c;return h.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),h.createElement(fv.ItemSlot,{scope:n,id:l,focusable:r,active:i},h.createElement(Xe.span,ee({tabIndex:u?0:-1,"data-orientation":c.orientation},o,{ref:e,onMouseDown:pe(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:pe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=Fz(y,c.orientation,c.dir);if(v!==void 0){y.preventDefault();let g=d().filter(m=>m.focusable).map(m=>m.ref.current);if(v==="last")g.reverse();else if(v==="prev"||v==="next"){v==="prev"&&g.reverse();const m=g.indexOf(y.currentTarget);g=c.loop?Uz(g,m+1):g.slice(m+1)}setTimeout(()=>zk(g))}})})))}),Lz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Fz(t,e,n){const r=Vz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Lz[r]}function zk(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Uz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const qk=Dz,Wk=Mz,hv=["Enter"," "],jz=["ArrowDown","PageUp","Home"],Hk=["ArrowUp","PageDown","End"],Bz=[...jz,...Hk],zz={ltr:[...hv,"ArrowRight"],rtl:[...hv,"ArrowLeft"]},qz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hp="Menu",[lu,Wz,Hz]=Z0(Hp),[ko,Kk]=Ns(Hp,[Hz,Vp,Wp]),fw=Vp(),Gk=Wp(),[Kz,No]=ko(Hp),[Gz,Ku]=ko(Hp),Qz=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=fw(e),[l,c]=h.useState(null),u=h.useRef(!1),d=Rr(s),f=$p(i);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),h.createElement(qP,a,h.createElement(Kz,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c},h.createElement(Gz,{scope:e,onClose:h.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o},r)))},Qk=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=fw(n);return h.createElement(WP,ee({},i,r,{ref:e}))}),Yk="MenuPortal",[Yz,Xk]=ko(Yk,{forceMount:void 0}),Xz=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=No(Yk,e);return h.createElement(Yz,{scope:e,forceMount:n},h.createElement(hl,{present:n||s.open},h.createElement(KP,{asChild:!0,container:i},r)))},Tr="MenuContent",[Zz,hw]=ko(Tr),Jz=h.forwardRef((t,e)=>{const n=Xk(Tr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=No(Tr,t.__scopeMenu),o=Ku(Tr,t.__scopeMenu);return h.createElement(lu.Provider,{scope:t.__scopeMenu},h.createElement(hl,{present:r||s.open},h.createElement(lu.Slot,{scope:t.__scopeMenu},o.modal?h.createElement(eq,ee({},i,{ref:e})):h.createElement(tq,ee({},i,{ref:e})))))}),eq=h.forwardRef((t,e)=>{const n=No(Tr,t.__scopeMenu),r=h.useRef(null),i=ut(e,r);return h.useEffect(()=>{const s=r.current;if(s)return YP(s)},[]),h.createElement(pw,ee({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),tq=h.forwardRef((t,e)=>{const n=No(Tr,t.__scopeMenu);return h.createElement(pw,ee({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),pw=h.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,disableOutsideScroll:y,...v}=t,w=No(Tr,n),g=Ku(Tr,n),m=fw(n),_=Gk(n),S=Wz(n),[I,E]=h.useState(null),x=h.useRef(null),R=ut(e,x,w.onContentChange),k=h.useRef(0),F=h.useRef(""),W=h.useRef(0),M=h.useRef(null),z=h.useRef("right"),H=h.useRef(0),te=y?ik:h.Fragment,ce=y?{as:vs,allowPinchZoom:!0}:void 0,K=O=>{var G,oe;const ye=F.current+O,et=S().filter(Fe=>!Fe.disabled),qe=document.activeElement,Ze=(G=et.find(Fe=>Fe.ref.current===qe))===null||G===void 0?void 0:G.textValue,Me=et.map(Fe=>Fe.textValue),ae=yq(Me,ye,Ze),je=(oe=et.find(Fe=>Fe.textValue===ae))===null||oe===void 0?void 0:oe.ref.current;(function Fe(Be){F.current=Be,window.clearTimeout(k.current),Be!==""&&(k.current=window.setTimeout(()=>Fe(""),1e3))})(ye),je&&setTimeout(()=>je.focus())};h.useEffect(()=>()=>window.clearTimeout(k.current),[]),xP();const V=h.useCallback(O=>{var G,oe;return z.current===((G=M.current)===null||G===void 0?void 0:G.side)&&_q(O,(oe=M.current)===null||oe===void 0?void 0:oe.area)},[]);return h.createElement(Zz,{scope:n,searchRef:F,onItemEnter:h.useCallback(O=>{V(O)&&O.preventDefault()},[V]),onItemLeave:h.useCallback(O=>{var G;V(O)||((G=x.current)===null||G===void 0||G.focus(),E(null))},[V]),onTriggerLeave:h.useCallback(O=>{V(O)&&O.preventDefault()},[V]),pointerGraceTimerRef:W,onPointerGraceIntentChange:h.useCallback(O=>{M.current=O},[])},h.createElement(te,ce,h.createElement(IP,{asChild:!0,trapped:i,onMountAutoFocus:pe(s,O=>{var G;O.preventDefault(),(G=x.current)===null||G===void 0||G.focus()}),onUnmountAutoFocus:o},h.createElement(TP,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p},h.createElement(qk,ee({asChild:!0},_,{dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:E,onEntryFocus:pe(l,O=>{g.isUsingKeyboardRef.current||O.preventDefault()})}),h.createElement(HP,ee({role:"menu","aria-orientation":"vertical","data-state":nN(w.open),"data-radix-menu-content":"",dir:g.dir},m,v,{ref:R,style:{outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,O=>{const oe=O.target.closest("[data-radix-menu-content]")===O.currentTarget,ye=O.ctrlKey||O.altKey||O.metaKey,et=O.key.length===1;oe&&(O.key==="Tab"&&O.preventDefault(),!ye&&et&&K(O.key));const qe=x.current;if(O.target!==qe||!Bz.includes(O.key))return;O.preventDefault();const Me=S().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);Hk.includes(O.key)&&Me.reverse(),mq(Me)}),onBlur:pe(t.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(k.current),F.current="")}),onPointerMove:pe(t.onPointerMove,cu(O=>{const G=O.target,oe=H.current!==O.clientX;if(O.currentTarget.contains(G)&&oe){const ye=O.clientX>H.current?"right":"left";z.current=ye,H.current=O.clientX}}))})))))))}),nq=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.createElement(Xe.div,ee({},r,{ref:e}))}),pv="MenuItem",RS="menu.itemSelect",mw=h.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=h.useRef(null),o=Ku(pv,t.__scopeMenu),a=hw(pv,t.__scopeMenu),l=ut(e,s),c=h.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const f=new CustomEvent(RS,{bubbles:!0,cancelable:!0});d.addEventListener(RS,p=>r==null?void 0:r(p),{once:!0}),gP(d,f),f.defaultPrevented?c.current=!1:o.onClose()}};return h.createElement(Zk,ee({},i,{ref:l,disabled:n,onClick:pe(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)===null||f===void 0||f.call(t,d),c.current=!0},onPointerUp:pe(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)===null||f===void 0||f.click()}),onKeyDown:pe(t.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||hv.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}))}),Zk=h.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=hw(pv,n),a=Gk(n),l=h.useRef(null),c=ut(e,l),[u,d]=h.useState(!1),[f,p]=h.useState("");return h.useEffect(()=>{const y=l.current;if(y){var v;p(((v=y.textContent)!==null&&v!==void 0?v:"").trim())}},[s.children]),h.createElement(lu.ItemSlot,{scope:n,disabled:r,textValue:i??f},h.createElement(Wk,ee({asChild:!0},a,{focusable:!r}),h.createElement(Xe.div,ee({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s,{ref:c,onPointerMove:pe(t.onPointerMove,cu(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:pe(t.onPointerLeave,cu(y=>o.onItemLeave(y))),onFocus:pe(t.onFocus,()=>d(!0)),onBlur:pe(t.onBlur,()=>d(!1))}))))}),rq=h.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return h.createElement(eN,{scope:t.__scopeMenu,checked:n},h.createElement(mw,ee({role:"menuitemcheckbox","aria-checked":Ph(n)?"mixed":n},i,{ref:e,"data-state":gw(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(Ph(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),iq="MenuRadioGroup",[qW,sq]=ko(iq,{value:void 0,onValueChange:()=>{}}),oq="MenuRadioItem",aq=h.forwardRef((t,e)=>{const{value:n,...r}=t,i=sq(oq,t.__scopeMenu),s=n===i.value;return h.createElement(eN,{scope:t.__scopeMenu,checked:s},h.createElement(mw,ee({role:"menuitemradio","aria-checked":s},r,{ref:e,"data-state":gw(s),onSelect:pe(r.onSelect,()=>{var o;return(o=i.onValueChange)===null||o===void 0?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})))}),Jk="MenuItemIndicator",[eN,lq]=ko(Jk,{checked:!1}),cq=h.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=lq(Jk,n);return h.createElement(hl,{present:r||Ph(s.checked)||s.checked===!0},h.createElement(Xe.span,ee({},i,{ref:e,"data-state":gw(s.checked)})))}),uq=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.createElement(Xe.div,ee({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),dq="MenuSub",[WW,tN]=ko(dq),Md="MenuSubTrigger",fq=h.forwardRef((t,e)=>{const n=No(Md,t.__scopeMenu),r=Ku(Md,t.__scopeMenu),i=tN(Md,t.__scopeMenu),s=hw(Md,t.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),h.createElement(Qk,ee({asChild:!0},c),h.createElement(Zk,ee({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":nN(n.open)},t,{ref:Dp(e,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)===null||f===void 0||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,cu(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:pe(t.onPointerLeave,cu(d=>{var f;u();const p=(f=n.content)===null||f===void 0?void 0:f.getBoundingClientRect();if(p){var y;const v=(y=n.content)===null||y===void 0?void 0:y.dataset.side,w=v==="right",g=w?-5:5,m=p[w?"left":"right"],_=p[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:m,y:p.top},{x:_,y:p.top},{x:_,y:p.bottom},{x:m,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,d=>{const f=s.searchRef.current!=="";if(!(t.disabled||f&&d.key===" ")&&zz[r.dir].includes(d.key)){var p;n.onOpenChange(!0),(p=n.content)===null||p===void 0||p.focus(),d.preventDefault()}})})))}),hq="MenuSubContent",pq=h.forwardRef((t,e)=>{const n=Xk(Tr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=No(Tr,t.__scopeMenu),o=Ku(Tr,t.__scopeMenu),a=tN(hq,t.__scopeMenu),l=h.useRef(null),c=ut(e,l);return h.createElement(lu.Provider,{scope:t.__scopeMenu},h.createElement(hl,{present:r||s.open},h.createElement(lu.Slot,{scope:t.__scopeMenu},h.createElement(pw,ee({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)===null||d===void 0||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:pe(t.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:pe(t.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),f=qz[o.dir].includes(u.key);if(d&&f){var p;s.onOpenChange(!1),(p=a.trigger)===null||p===void 0||p.focus(),u.preventDefault()}})})))))});function nN(t){return t?"open":"closed"}function Ph(t){return t==="indeterminate"}function gw(t){return Ph(t)?"indeterminate":t?"checked":"unchecked"}function mq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function gq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function yq(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=gq(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function vq(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function _q(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return vq(n,e)}function cu(t){return e=>e.pointerType==="mouse"?t(e):void 0}const wq=Qz,Eq=Qk,Tq=Xz,Sq=Jz,xq=nq,Iq=mw,bq=rq,Rq=aq,Cq=cq,Aq=uq,Pq=fq,kq=pq,rN="DropdownMenu",[Nq,HW]=Ns(rN,[Kk]),cr=Kk(),[Dq,iN]=Nq(rN),Oq=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=cr(e),c=h.useRef(null),[u=!1,d]=ou({prop:i,defaultProp:s,onChange:o});return h.createElement(Dq,{scope:e,triggerId:ru(),triggerRef:c,contentId:ru(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a},h.createElement(wq,ee({},l,{open:u,onOpenChange:d,dir:r,modal:a}),n))},$q="DropdownMenuTrigger",Mq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=iN($q,n),o=cr(n);return h.createElement(Eq,ee({asChild:!0},o),h.createElement(Xe.button,ee({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:Dp(e,s.triggerRef),onPointerDown:pe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:pe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),Lq=t=>{const{__scopeDropdownMenu:e,...n}=t,r=cr(e);return h.createElement(Tq,ee({},r,n))},Vq="DropdownMenuContent",Fq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=iN(Vq,n),s=cr(n),o=h.useRef(!1);return h.createElement(Sq,ee({id:i.contentId,"aria-labelledby":i.triggerId},s,r,{ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)===null||l===void 0||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Uq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cr(n);return h.createElement(xq,ee({},i,r,{ref:e}))}),jq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cr(n);return h.createElement(Iq,ee({},i,r,{ref:e}))}),Bq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cr(n);return h.createElement(bq,ee({},i,r,{ref:e}))}),zq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cr(n);return h.createElement(Rq,ee({},i,r,{ref:e}))}),qq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cr(n);return h.createElement(Cq,ee({},i,r,{ref:e}))}),Wq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cr(n);return h.createElement(Aq,ee({},i,r,{ref:e}))}),Hq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cr(n);return h.createElement(Pq,ee({},i,r,{ref:e}))}),Kq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cr(n);return h.createElement(kq,ee({},i,r,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Gq=Oq,Qq=Mq,Yq=Lq,sN=Fq,oN=Uq,aN=jq,lN=Bq,cN=zq,uN=qq,dN=Wq,fN=Hq,hN=Kq,Xq=Gq,Zq=Qq,Jq=h.forwardRef(({className:t,inset:e,children:n,...r},i)=>T.jsxs(fN,{ref:i,className:st("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,T.jsx(cB,{className:"ml-auto h-4 w-4"})]}));Jq.displayName=fN.displayName;const eW=h.forwardRef(({className:t,...e},n)=>T.jsx(hN,{ref:n,className:st("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));eW.displayName=hN.displayName;const pN=h.forwardRef(({className:t,sideOffset:e=4,...n},r)=>T.jsx(Yq,{children:T.jsx(sN,{ref:r,sideOffset:e,className:st("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));pN.displayName=sN.displayName;const mv=h.forwardRef(({className:t,inset:e,...n},r)=>T.jsx(aN,{ref:r,className:st("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors bg-secondary focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));mv.displayName=aN.displayName;const tW=h.forwardRef(({className:t,children:e,checked:n,...r},i)=>T.jsxs(lN,{ref:i,className:st("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(uN,{children:T.jsx(_k,{className:"h-4 w-4"})})}),e]}));tW.displayName=lN.displayName;const nW=h.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(cN,{ref:r,className:st("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(uN,{children:T.jsx(Ek,{className:"h-2 w-2 fill-current"})})}),e]}));nW.displayName=cN.displayName;const rW=h.forwardRef(({className:t,inset:e,...n},r)=>T.jsx(oN,{ref:r,className:st("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));rW.displayName=oN.displayName;const iW=h.forwardRef(({className:t,...e},n)=>T.jsx(dN,{ref:n,className:st("-mx-1 my-1 h-px bg-muted",t),...e}));iW.displayName=dN.displayName;async function sW(t){await _U(al(Co,"products",t)).catch(e=>{throw e})}async function oW(t){const e=rP(sP,t);await N7(e).catch(n=>{throw n})}const aW=({id:t,product:e})=>{const n=Rs(),r=()=>{n(`/mypage/edit-product?product=${t}`)},i=async()=>{console.log(t);try{for(const s of e.productImage)await oW(s);await sW(t)}catch{window.alert("상품 삭제를 실패했습니다."),window.location.reload();return}window.alert("상품 삭제가 완료되었습니다."),window.location.reload()};return T.jsxs("div",{className:"flex m-1 p-4 items-center border border-y-neutral-200 border-x-0",children:[T.jsx("img",{className:"w-24 h-24 mr-5",src:e.productImage[0]}),T.jsxs("div",{className:"w-full",children:[T.jsx("div",{className:"text-ellipsis	text-base ",children:e.productName}),T.jsx("div",{className:"text-sm text-gray-400",children:e.productCategory})]}),T.jsx("div",{className:"",children:`₩${e.productPrice}`}),T.jsx("div",{className:"w-24 flex justify-end ml-8",children:e.productQuantity}),T.jsx("div",{className:"ml-8",children:T.jsxs(Xq,{children:[T.jsx(Zq,{asChild:!0,children:T.jsx(Ka,{variant:"secondary",children:T.jsx(k2,{})})}),T.jsxs(pN,{className:"w-16",children:[T.jsx(mv,{onClick:r,children:"수정"}),T.jsx(mv,{onClick:i,children:"삭제"})]})]})})]})},lW=()=>{const[t,e]=kB(),{products:n,isLoading:r,hasNextPage:i,fetchNextPage:s}=xz({rowsPerPage:5,queryFunc:Iz});return h.useEffect(()=>{e&&i&&s()},[e,i,s]),T.jsxs(lP,{children:[T.jsx("h1",{className:"h1 mb-12",children:"전체 상품 조회"}),T.jsx("div",{children:T.jsxs("ul",{children:[!r&&n&&n.map(o=>T.jsx("li",{children:T.jsx(aW,{id:o.docId,product:Ck(o.data)},`item_${o.docId}`)},o.docId)),T.jsx("div",{ref:t})]})})]})},cW=()=>T.jsx("div",{children:"ManageOrder"});function mN(t){switch(t.code){case"auth/user-not-found":return"이메일 혹은 비밀번호가 일치하지 않습니다.";case"auth/email-already-in-use":return"이미 사용 중인 이메일입니다.";case"auth/weak-password":return"비밀번호는 6글자 이상이어야 합니다.";case"auth/network-request-failed":return"네트워크 연결에 실패 하였습니다.";case"auth/invalid-email":return"잘못된 이메일 형식입니다.";case"auth/internal-error":return"잘못된 요청입니다.";case"auth/invalid-credential":return"로그인에 실패하였습니다.";default:return t.message}}const uW=()=>{const t=Rs();function e(){t("/signup")}const n=async(a,l)=>{await KV(nu,a,l).then(u=>{const d=u.user;d.getIdToken().then(f=>{window.localStorage.setItem("user-token",f)}).catch(f=>{throw f}),window.localStorage.setItem("uid",d.uid)}).catch(u=>{throw u});const c=window.localStorage.getItem("uid");return c?r(c):null},r=async a=>{const l=al(Co,"users",a),c=await B0(l);if(c.exists()){const u=c.data();return{id:u.id,email:u.email,isSeller:u.isSeller,nickname:u.nickname,password:u.password,createdAt:u.createdAt,updatedAt:u.updatedAt}}else return null},i=g_({email:ci().email(),password:ci()}),s=T_({resolver:S_(i),defaultValues:{email:"",password:""}});function o(a){n(a.email,a.password).then(l=>{l&&window.localStorage.setItem("user-role",l.isSeller?"seller":"consumer"),window.alert("로그인이 완료되었습니다."),window.location.reload(),t("/")}).catch(l=>{window.alert(mN(l))})}return T.jsxs("div",{className:"flex flex-col items-center py-14",children:[T.jsx("h1",{className:"h1 mb-8",children:"로그인"}),T.jsx("div",{className:"flex flex-col justify-center w-72",children:T.jsx(X0,{...s,children:T.jsxs("form",{onSubmit:s.handleSubmit(o),children:[T.jsx(tr,{control:s.control,name:"email",render:({field:a})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"이메일"}),T.jsx(Pn,{children:T.jsx(Gr,{...a})}),T.jsx(gr,{})]})}),T.jsx("div",{className:"h-6"}),T.jsx(tr,{control:s.control,name:"password",render:({field:a})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"비밀번호"}),T.jsx(Pn,{children:T.jsx(Gr,{...a})})]})}),T.jsx(Ka,{type:"submit",className:"mt-7 w-full",children:"로그인"})]})})}),T.jsx("button",{className:"button mt-8",onClick:e,children:T.jsx("p",{className:"underline underline-offset-2",children:"회원가입"})})]})},gN="Radio",[dW,yN]=Ns(gN),[fW,hW]=dW(gN),pW=h.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,...c}=t,[u,d]=h.useState(null),f=ut(e,v=>d(v)),p=h.useRef(!1),y=u?!!u.closest("form"):!0;return h.createElement(fW,{scope:n,checked:i,disabled:o},h.createElement(Xe.button,ee({type:"button",role:"radio","aria-checked":i,"data-state":vN(i),"data-disabled":o?"":void 0,disabled:o,value:a},c,{ref:f,onClick:pe(t.onClick,v=>{i||l==null||l(),y&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})),y&&h.createElement(yW,{control:u,bubbles:!p.current,name:r,value:a,checked:i,required:s,disabled:o,style:{transform:"translateX(-100%)"}}))}),mW="RadioIndicator",gW=h.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=hW(mW,n);return h.createElement(hl,{present:r||s.checked},h.createElement(Xe.span,ee({"data-state":vN(s.checked),"data-disabled":s.disabled?"":void 0},i,{ref:e})))}),yW=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=h.useRef(null),o=GP(n),a=VP(e);return h.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const f=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(f)}},[o,n,r]),h.createElement("input",ee({type:"radio","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function vN(t){return t?"checked":"unchecked"}const vW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_N="RadioGroup",[_W,KW]=Ns(_N,[Wp,yN]),wN=Wp(),EN=yN(),[wW,EW]=_W(_N),TW=h.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...f}=t,p=wN(n),y=$p(c),[v,w]=ou({prop:s,defaultProp:i,onChange:d});return h.createElement(wW,{scope:n,name:r,required:o,disabled:a,value:v,onValueChange:w},h.createElement(qk,ee({asChild:!0},p,{orientation:l,dir:y,loop:u}),h.createElement(Xe.div,ee({role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:y},f,{ref:e}))))}),SW="RadioGroupItem",xW=h.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=EW(SW,n),o=s.disabled||r,a=wN(n),l=EN(n),c=h.useRef(null),u=ut(e,c),d=s.value===i.value,f=h.useRef(!1);return h.useEffect(()=>{const p=v=>{vW.includes(v.key)&&(f.current=!0)},y=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),h.createElement(Wk,ee({asChild:!0},a,{focusable:!o,active:d}),h.createElement(pW,ee({disabled:o,required:s.required,checked:d},l,i,{name:s.name,ref:u,onCheck:()=>s.onValueChange(i.value),onKeyDown:pe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:pe(i.onFocus,()=>{var p;f.current&&((p=c.current)===null||p===void 0||p.click())})})))}),IW=h.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=EN(n);return h.createElement(gW,ee({},i,r,{ref:e}))}),TN=TW,SN=xW,bW=IW,xN=h.forwardRef(({className:t,...e},n)=>T.jsx(TN,{className:st("grid gap-2",t),...e,ref:n}));xN.displayName=TN.displayName;const gv=h.forwardRef(({className:t,...e},n)=>T.jsx(SN,{ref:n,className:st("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:T.jsx(bW,{className:"flex items-center justify-center",children:T.jsx(Ek,{className:"h-2.5 w-2.5 fill-current text-current"})})}));gv.displayName=SN.displayName;const RW=()=>{const t=Rs(),[e,n]=h.useState(null),r=async(l,c,u,d)=>{await HV(nu,c,u).then(async f=>{const p=f.user,y=Number.parseInt(Rk(aw()).join(""));await vU(al(Co,"users",p.uid),{id:y,email:c,isSeller:d==="seller",nickname:l,password:u,createdAt:Th(),updatedAt:Th()})}).then(()=>{lR(nu)}).catch(f=>{throw f})},i=/^(?!((?:[A-Za-z]+)|(?:[~!@#$%^&*()_+=]+)|(?:[0-9]+))$)[A-Za-z\d~!@#$%^&*()_+=]{10,}$/,s=g_({name:ci(),email:ci().email({message:"이메일 형식에 부합하지 않습니다."}),password:ci().min(10,{message:"비밀번호는 최소 10자 이상이어야 합니다."}).regex(i,{message:"영어 대/소문자, 숫자, 특수문자 중 2종류의 조합이어야 합니다."}),type:ci()}),o=T_({resolver:S_(s),defaultValues:{name:"",email:"",password:"",type:"consumer"}});function a(l){r(l.name,l.email,l.password,l.type).then(()=>{window.alert("회원가입이 완료되었습니다."),t("/login")}).catch(c=>{console.log(c),n(mN(c))})}return T.jsxs("div",{className:"flex flex-col items-center py-14",children:[T.jsx("h1",{className:"h1 mb-8",children:"회원가입"}),T.jsx("div",{className:"flex flex-col justify-center w-72",children:T.jsxs(X0,{...o,children:[T.jsx(tr,{control:o.control,name:"name",render:({field:l})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"이름"}),T.jsx(Pn,{children:T.jsx(Gr,{...l})}),T.jsx(gr,{})]})}),T.jsxs("form",{onSubmit:o.handleSubmit(a),children:[T.jsx(tr,{control:o.control,name:"email",render:({field:l})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"이메일"}),T.jsx(Pn,{children:T.jsx(Gr,{placeholder:"id@google.com",...l})}),T.jsx(gr,{children:e})]})}),T.jsx(tr,{control:o.control,name:"password",render:({field:l})=>T.jsxs(En,{children:[T.jsx(Tn,{children:"비밀번호"}),T.jsx(Pn,{children:T.jsx(Gr,{...l})}),T.jsx(fa,{children:"최소 10자리의 영어 대/소문자, 숫자, 특수문자 중 2종류 문자 조합"}),T.jsx(gr,{})]})}),T.jsx(tr,{control:o.control,name:"type",render:({field:l})=>T.jsxs(En,{className:"space-y-3",children:[T.jsx(Tn,{children:"유형"}),T.jsx(Pn,{children:T.jsxs(xN,{onValueChange:l.onChange,defaultValue:l.value,className:"flex flex-row space-y-1",children:[T.jsxs(En,{className:"flex items-center space-x-3 space-y-0",children:[T.jsx(Pn,{children:T.jsx(gv,{value:"seller"})}),T.jsx(Tn,{className:"font-normal",children:"판매자"})]}),T.jsxs(En,{className:"flex items-center space-x-3 space-y-0",children:[T.jsx(Pn,{children:T.jsx(gv,{value:"consumer"})}),T.jsx(Tn,{className:"font-normal",children:"구매자"})]})]})})]})}),T.jsx(Ka,{type:"submit",className:"mt-7 w-full",children:"가입"})]})]})})]})};function CW(){const t=window.localStorage.getItem("user-token"),e=window.localStorage.getItem("uid"),n=window.localStorage.getItem("user-role");return{token:t,uid:e,role:n}}const AW=()=>T.jsx("div",{children:"EditInfo"});function PW(){const{token:t,uid:e,role:n}=CW(),r={path:"/mypage",element:T.jsx(Cl,{to:"/mypage/myorder",replace:!0}),children:[{path:"/mypage/myorder",element:T.jsx(M2,{})}]},i={path:"/mypage",children:[{path:"/mypage/add-product",element:T.jsx(gS,{type:"create"})},{path:"/mypage/edit-product",element:T.jsx(gS,{type:"edit"})},{path:"/mypage/view-allproducts",element:T.jsx(lW,{})},{path:"/mypage/manage-order",element:T.jsx(cW,{})},{path:"/mypage/edit-info",element:T.jsx(AW,{})}]},s=t!=null&&e!=null?[{path:"/cart",element:T.jsx($2,{})},{path:"/login",element:T.jsx(Cl,{to:"/",replace:!0})},{path:"/signup",element:T.jsx(Cl,{to:"/",replace:!0})},n==="seller"?i:r]:[{path:"/cart",element:T.jsx(Cl,{to:"/login",replace:!0})},{path:"/mypage",element:T.jsx(Cl,{to:"/login",replace:!0})},{path:"/login",element:T.jsx(uW,{})},{path:"/signup",element:T.jsx(RW,{})}];return{element:T.jsx(lb,{}),children:s}}const kW=()=>T.jsx("div",{className:"w-ful",children:T.jsx("img",{className:"w-full",src:"https://images.unsplash.com/photo-1504198322253-cfa87a0ff25f?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"})}),NW=()=>T.jsx("div",{children:"Product"}),DW=()=>T.jsx("div",{children:"Search"});function OW(){return{element:T.jsx(lb,{}),children:[{path:"/",element:T.jsx(kW,{})},{path:"/product/:productId",element:T.jsx(NW,{})},{path:"/search",element:T.jsx(DW,{})}]}}function $W(){const t=u2([PW(),OW()]),e=new HB;return T.jsx(cz,{client:e,children:T.jsx(F7,{children:T.jsx(_2,{router:t})})})}cg.createRoot(document.getElementById("root")).render(T.jsx(Ee.StrictMode,{children:T.jsx($W,{})}));
