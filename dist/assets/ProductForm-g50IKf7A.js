import{r,j as c,R as Se,a as ge}from"./index-Vq1JXboX.js";import{I as X,o as ve,s as G,g as xe,h as $e,n as ee,u as we,t as Ee,F as Ce,a as P,b as T,c as R,d as D,f as O,e as j}from"./input--lQax9jc.js";import{c as J,_ as S,$ as _}from"./utils-Anq8py01.js";import{$ as ye,S as Pe,a as Te,b as Re,c as je,d as re}from"./select-HplpV_xZ.js";import{B as oe}from"./button-DbWM39RQ.js";import{G as Ae}from"./iconBase-djffxSNR.js";import{$ as z}from"./index-wocOw3ZL.js";import{$ as U}from"./index-iK2Kvbv4.js";import{$ as _e,c as C,b as E,e as Le}from"./index-mOhbM-ib.js";import{a as Ne}from"./index-9gxzcVvN.js";const ne=r.forwardRef(({className:e,...t},o)=>c.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...t}));ne.displayName="Textarea";function De(e){return Ae({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 3c-4.963 0-9 4.038-9 9s4.037 9 9 9 9-4.038 9-9-4.037-9-9-9zm0 16c-3.859 0-7-3.14-7-7s3.141-7 7-7 7 3.14 7 7-3.141 7-7 7zM12.707 12l2.646-2.646c.194-.194.194-.512 0-.707-.195-.194-.513-.194-.707 0l-2.646 2.646-2.646-2.647c-.195-.194-.513-.194-.707 0-.195.195-.195.513 0 .707l2.646 2.647-2.646 2.646c-.195.195-.195.513 0 .707.097.098.225.147.353.147s.256-.049.354-.146l2.646-2.647 2.646 2.646c.098.098.226.147.354.147s.256-.049.354-.146c.194-.194.194-.512 0-.707l-2.647-2.647z"},child:[]}]})(e)}function ze(e,t){return r.useReducer((o,a)=>{const l=t[o][a];return l??o},e)}const le="ScrollArea",[ce,hr]=_e(le),[Ie,v]=ce(le),We=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,type:a="hover",dir:l,scrollHideDelay:s=600,...d}=e,[n,i]=r.useState(null),[h,u]=r.useState(null),[b,f]=r.useState(null),[m,g]=r.useState(null),[L,q]=r.useState(null),[w,I]=r.useState(0),[V,W]=r.useState(0),[M,N]=r.useState(!1),[F,H]=r.useState(!1),p=_(t,y=>i(y)),x=Ne(l);return r.createElement(Ie,{scope:o,type:a,dir:x,scrollHideDelay:s,scrollArea:n,viewport:h,onViewportChange:u,content:b,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:M,onScrollbarXEnabledChange:N,scrollbarY:L,onScrollbarYChange:q,scrollbarYEnabled:F,onScrollbarYEnabledChange:H,onCornerWidthChange:I,onCornerHeightChange:W},r.createElement(z.div,S({dir:x},d,{ref:p,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":V+"px",...e.style}})))}),Me="ScrollAreaViewport",Fe=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,children:a,...l}=e,s=v(Me,o),d=r.useRef(null),n=_(t,d,s.onViewportChange);return r.createElement(r.Fragment,null,r.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),r.createElement(z.div,S({"data-radix-scroll-area-viewport":""},l,{ref:n,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),r.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},a)))}),$="ScrollAreaScrollbar",ae=r.forwardRef((e,t)=>{const{forceMount:o,...a}=e,l=v($,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:d}=l,n=e.orientation==="horizontal";return r.useEffect(()=>(n?s(!0):d(!0),()=>{n?s(!1):d(!1)}),[n,s,d]),l.type==="hover"?r.createElement(He,S({},a,{ref:t,forceMount:o})):l.type==="scroll"?r.createElement(Oe,S({},a,{ref:t,forceMount:o})):l.type==="auto"?r.createElement(se,S({},a,{ref:t,forceMount:o})):l.type==="always"?r.createElement(Q,S({},a,{ref:t})):null}),He=r.forwardRef((e,t)=>{const{forceMount:o,...a}=e,l=v($,e.__scopeScrollArea),[s,d]=r.useState(!1);return r.useEffect(()=>{const n=l.scrollArea;let i=0;if(n){const h=()=>{window.clearTimeout(i),d(!0)},u=()=>{i=window.setTimeout(()=>d(!1),l.scrollHideDelay)};return n.addEventListener("pointerenter",h),n.addEventListener("pointerleave",u),()=>{window.clearTimeout(i),n.removeEventListener("pointerenter",h),n.removeEventListener("pointerleave",u)}}},[l.scrollArea,l.scrollHideDelay]),r.createElement(U,{present:o||s},r.createElement(se,S({"data-state":s?"visible":"hidden"},a,{ref:t})))}),Oe=r.forwardRef((e,t)=>{const{forceMount:o,...a}=e,l=v($,e.__scopeScrollArea),s=e.orientation==="horizontal",d=B(()=>i("SCROLL_END"),100),[n,i]=ze("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return r.useEffect(()=>{if(n==="idle"){const h=window.setTimeout(()=>i("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(h)}},[n,l.scrollHideDelay,i]),r.useEffect(()=>{const h=l.viewport,u=s?"scrollLeft":"scrollTop";if(h){let b=h[u];const f=()=>{const m=h[u];b!==m&&(i("SCROLL"),d()),b=m};return h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[l.viewport,s,i,d]),r.createElement(U,{present:o||n!=="hidden"},r.createElement(Q,S({"data-state":n==="hidden"?"hidden":"visible"},a,{ref:t,onPointerEnter:C(e.onPointerEnter,()=>i("POINTER_ENTER")),onPointerLeave:C(e.onPointerLeave,()=>i("POINTER_LEAVE"))})))}),se=r.forwardRef((e,t)=>{const o=v($,e.__scopeScrollArea),{forceMount:a,...l}=e,[s,d]=r.useState(!1),n=e.orientation==="horizontal",i=B(()=>{if(o.viewport){const h=o.viewport.offsetWidth<o.viewport.scrollWidth,u=o.viewport.offsetHeight<o.viewport.scrollHeight;d(n?h:u)}},10);return A(o.viewport,i),A(o.content,i),r.createElement(U,{present:a||s},r.createElement(Q,S({"data-state":s?"visible":"hidden"},l,{ref:t})))}),Q=r.forwardRef((e,t)=>{const{orientation:o="vertical",...a}=e,l=v($,e.__scopeScrollArea),s=r.useRef(null),d=r.useRef(0),[n,i]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=he(n.viewport,n.content),u={...a,sizes:n,onSizesChange:i,hasThumb:h>0&&h<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:f=>d.current=f};function b(f,m){return Ge(f,d.current,n,m)}return o==="horizontal"?r.createElement(Xe,S({},u,{ref:t,onThumbPositionChange:()=>{if(l.viewport&&s.current){const f=l.viewport.scrollLeft,m=te(f,n,l.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{l.viewport&&(l.viewport.scrollLeft=f)},onDragScroll:f=>{l.viewport&&(l.viewport.scrollLeft=b(f,l.dir))}})):o==="vertical"?r.createElement(Ye,S({},u,{ref:t,onThumbPositionChange:()=>{if(l.viewport&&s.current){const f=l.viewport.scrollTop,m=te(f,n);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{l.viewport&&(l.viewport.scrollTop=f)},onDragScroll:f=>{l.viewport&&(l.viewport.scrollTop=b(f))}})):null}),Xe=r.forwardRef((e,t)=>{const{sizes:o,onSizesChange:a,...l}=e,s=v($,e.__scopeScrollArea),[d,n]=r.useState(),i=r.useRef(null),h=_(t,i,s.onScrollbarXChange);return r.useEffect(()=>{i.current&&n(getComputedStyle(i.current))},[i]),r.createElement(de,S({"data-orientation":"horizontal"},l,{ref:h,sizes:o,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":k(o)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,b)=>{if(s.viewport){const f=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),be(f,b)&&u.preventDefault()}},onResize:()=>{i.current&&s.viewport&&d&&a({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:Y(d.paddingLeft),paddingEnd:Y(d.paddingRight)}})}}))}),Ye=r.forwardRef((e,t)=>{const{sizes:o,onSizesChange:a,...l}=e,s=v($,e.__scopeScrollArea),[d,n]=r.useState(),i=r.useRef(null),h=_(t,i,s.onScrollbarYChange);return r.useEffect(()=>{i.current&&n(getComputedStyle(i.current))},[i]),r.createElement(de,S({"data-orientation":"vertical"},l,{ref:h,sizes:o,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":k(o)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,b)=>{if(s.viewport){const f=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),be(f,b)&&u.preventDefault()}},onResize:()=>{i.current&&s.viewport&&d&&a({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:Y(d.paddingTop),paddingEnd:Y(d.paddingBottom)}})}}))}),[Ue,ie]=ce($),de=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,sizes:a,hasThumb:l,onThumbChange:s,onThumbPointerUp:d,onThumbPointerDown:n,onThumbPositionChange:i,onDragScroll:h,onWheelScroll:u,onResize:b,...f}=e,m=v($,o),[g,L]=r.useState(null),q=_(t,p=>L(p)),w=r.useRef(null),I=r.useRef(""),V=m.viewport,W=a.content-a.viewport,M=E(u),N=E(i),F=B(b,10);function H(p){if(w.current){const x=p.clientX-w.current.left,y=p.clientY-w.current.top;h({x,y})}}return r.useEffect(()=>{const p=x=>{const y=x.target;(g==null?void 0:g.contains(y))&&M(x,W)};return document.addEventListener("wheel",p,{passive:!1}),()=>document.removeEventListener("wheel",p,{passive:!1})},[V,g,W,M]),r.useEffect(N,[a,N]),A(g,F),A(m.content,F),r.createElement(Ue,{scope:o,scrollbar:g,hasThumb:l,onThumbChange:E(s),onThumbPointerUp:E(d),onThumbPositionChange:N,onThumbPointerDown:E(n)},r.createElement(z.div,S({},f,{ref:q,style:{position:"absolute",...f.style},onPointerDown:C(e.onPointerDown,p=>{p.button===0&&(p.target.setPointerCapture(p.pointerId),w.current=g.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),H(p))}),onPointerMove:C(e.onPointerMove,H),onPointerUp:C(e.onPointerUp,p=>{const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),document.body.style.webkitUserSelect=I.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})))}),K="ScrollAreaThumb",ke=r.forwardRef((e,t)=>{const{forceMount:o,...a}=e,l=ie(K,e.__scopeScrollArea);return r.createElement(U,{present:o||l.hasThumb},r.createElement(Be,S({ref:t},a)))}),Be=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,style:a,...l}=e,s=v(K,o),d=ie(K,o),{onThumbPositionChange:n}=d,i=_(t,b=>d.onThumbChange(b)),h=r.useRef(),u=B(()=>{h.current&&(h.current(),h.current=void 0)},100);return r.useEffect(()=>{const b=s.viewport;if(b){const f=()=>{if(u(),!h.current){const m=Ke(b,n);h.current=m,n()}};return n(),b.addEventListener("scroll",f),()=>b.removeEventListener("scroll",f)}},[s.viewport,u,n]),r.createElement(z.div,S({"data-state":d.hasThumb?"visible":"hidden"},l,{ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:C(e.onPointerDownCapture,b=>{const m=b.target.getBoundingClientRect(),g=b.clientX-m.left,L=b.clientY-m.top;d.onThumbPointerDown({x:g,y:L})}),onPointerUp:C(e.onPointerUp,d.onThumbPointerUp)}))}),ue="ScrollAreaCorner",qe=r.forwardRef((e,t)=>{const o=v(ue,e.__scopeScrollArea),a=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&a?r.createElement(Ve,S({},e,{ref:t})):null}),Ve=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,...a}=e,l=v(ue,o),[s,d]=r.useState(0),[n,i]=r.useState(0),h=!!(s&&n);return A(l.scrollbarX,()=>{var u;const b=((u=l.scrollbarX)===null||u===void 0?void 0:u.offsetHeight)||0;l.onCornerHeightChange(b),i(b)}),A(l.scrollbarY,()=>{var u;const b=((u=l.scrollbarY)===null||u===void 0?void 0:u.offsetWidth)||0;l.onCornerWidthChange(b),d(b)}),h?r.createElement(z.div,S({},a,{ref:t,style:{width:s,height:n,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function Y(e){return e?parseInt(e,10):0}function he(e,t){const o=e/t;return isNaN(o)?0:o}function k(e){const t=he(e.viewport,e.content),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-o)*t;return Math.max(a,18)}function Ge(e,t,o,a="ltr"){const l=k(o),s=l/2,d=t||s,n=l-d,i=o.scrollbar.paddingStart+d,h=o.scrollbar.size-o.scrollbar.paddingEnd-n,u=o.content-o.viewport,b=a==="ltr"?[0,u]:[u*-1,0];return fe([i,h],b)(e)}function te(e,t,o="ltr"){const a=k(t),l=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-l,d=t.content-t.viewport,n=s-a,i=o==="ltr"?[0,d]:[d*-1,0],h=ye(e,i);return fe([0,d],[0,n])(h)}function fe(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(o-e[0])}}function be(e,t){return e>0&&e<t}const Ke=(e,t=()=>{})=>{let o={left:e.scrollLeft,top:e.scrollTop},a=0;return function l(){const s={left:e.scrollLeft,top:e.scrollTop},d=o.left!==s.left,n=o.top!==s.top;(d||n)&&t(),o=s,a=window.requestAnimationFrame(l)}(),()=>window.cancelAnimationFrame(a)};function B(e,t){const o=E(e),a=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),r.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(o,t)},[o,t])}function A(e,t){const o=E(t);Le(()=>{let a=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(o)});return l.observe(e),()=>{window.cancelAnimationFrame(a),l.unobserve(e)}}},[e,o])}const me=We,Je=Fe,Qe=qe,pe=r.forwardRef(({className:e,children:t,...o},a)=>c.jsxs(me,{ref:a,className:J("relative overflow-hidden",e),...o,children:[c.jsx(Je,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(Z,{}),c.jsx(Qe,{})]}));pe.displayName=me.displayName;const Z=r.forwardRef(({className:e,orientation:t="vertical",...o},a)=>c.jsx(ae,{ref:a,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...o,children:c.jsx(ke,{className:"relative flex-1 rounded-full bg-border"})}));Z.displayName=ae.displayName;const Ze=Se.memo(({src:e,onClickDeleteBtn:t})=>c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:e,className:"w-28 h-28 bg-slate-200 object-cover",alt:"Fail"}),c.jsx("button",{onClick:t,className:"absolute top-0 right-0 z-20",children:c.jsx(De,{})})]})),er=({defaultValues:e,onChange:t})=>{const[o,a]=r.useState([]);r.useEffect(()=>{t(o)},[o]);const l=n=>{if(n.target.files){const i=s(n.target.files);a([...o,...i])}};function s(n){const i=[];for(const h of n){const u={isOriginal:!1,url:URL.createObjectURL(h),file:h};i.push(u)}return i}function d(n){const i=o.filter(h=>h.url!=n);a(i)}return r.useEffect(()=>{if(e){const n=e.map(i=>({isOriginal:!0,url:i}));a(n)}},[e]),c.jsxs("div",{className:"",children:[c.jsx(X,{id:"picture",type:"file",accept:"image/*",multiple:!0,onChange:l}),c.jsxs(pe,{className:"w-full",children:[o&&c.jsx("ul",{className:"flex border-spacing-2 border rounded mt-2",children:o.map((n,i)=>c.jsx("li",{className:"m-1 shrink-0 overflow-hidden",children:c.jsx(Ze,{src:n.url,onClickDeleteBtn:()=>d(n.url)})},`photo(${i})`))}),c.jsx(Z,{orientation:"horizontal",className:"bg-gray-200"})]})]})},fr=({onSubmit:e,defaultValues:t})=>{const[o,a]=r.useState(!1),l=ge(),s=ve({name:G().min(1,{message:"상품명 입력은 필수입니다."}).max(50,{message:"50자 이내로 작성해주세요."}),description:G().min(1,{message:"상품명 입력은 필수입니다."}).max(500,{message:"500자 이내로 작성해주세요."}),image:xe($e()).min(1,{message:"상품 사진은 최소 한 장 추가해주세요."}),category:G(),price:ee().min(1),quantity:ee().min(1)}),d=we({mode:"onSubmit",shouldFocusError:!1,resolver:Ee(s),defaultValues:t?{name:t.name,description:t.description,category:t.category,price:t.price,quantity:t.quantity}:{name:"",description:"",category:"Women",price:100,quantity:10}});return c.jsx(Ce,{...d,children:c.jsxs("form",{onSubmit:d.handleSubmit(o?e:()=>{}),className:"space-y-8",children:[c.jsx(P,{control:d.control,name:"name",render:({field:n})=>c.jsxs(T,{children:[c.jsx(R,{children:"상품명"}),c.jsx(D,{children:c.jsx(X,{placeholder:"상품명을 입력하세요.",...n})}),c.jsx(O,{children:"최대 50자"}),c.jsx(j,{})]})}),c.jsx(P,{control:d.control,name:"description",render:({field:n})=>c.jsxs(T,{children:[c.jsx(R,{children:"상품 설명"}),c.jsx(D,{children:c.jsx(ne,{placeholder:"상품 설명을 작성해주세요.",className:"resize-none",...n})}),c.jsx(O,{children:"최대 500자"}),c.jsx(j,{})]})}),c.jsx(P,{control:d.control,name:"image",render:({field:n})=>c.jsxs(T,{children:[c.jsx(R,{children:"상품 사진"}),c.jsx(er,{...n,defaultValues:t!=null&&t.image?t.image:void 0,onChange:i=>n.onChange(i)}),c.jsx(O,{children:"최대 10장"}),c.jsx(j,{})]})}),c.jsx(P,{control:d.control,name:"category",render:({field:n})=>c.jsxs(T,{children:[c.jsx(R,{children:"카테고리"}),c.jsxs(Pe,{...n,onValueChange:n.onChange,defaultValue:n.value,children:[c.jsx(D,{children:c.jsx(Te,{children:c.jsx(Re,{placeholder:"상품의 카테고리를 선택하세요."})})}),c.jsxs(je,{children:[c.jsx(re,{value:"Men",children:"Men"}),c.jsx(re,{value:"Women",children:"Women"})]})]}),c.jsx(j,{})]})}),c.jsx(P,{control:d.control,name:"price",render:({field:n})=>c.jsxs(T,{children:[c.jsx(R,{children:"가격"}),c.jsx(D,{children:c.jsx(X,{type:"number",...n,placeholder:"상품의 가격을 입력하세요.",onChange:i=>n.onChange(Number.parseInt(i.target.value))})}),c.jsx(O,{children:"In KRW"}),c.jsx(j,{})]})}),c.jsx(P,{control:d.control,name:"quantity",render:({field:n})=>c.jsxs(T,{children:[c.jsx(R,{children:"수량"}),c.jsx(D,{children:c.jsx(X,{type:"number",placeholder:"상품의 수량을 입력하세요.",...n,onChange:i=>n.onChange(Number.parseInt(i.target.value))})}),c.jsx(j,{})]})}),c.jsxs("div",{className:"flex justify-center",children:[c.jsx(oe,{variant:"secondary",className:"w-40 mr-3",onClick:()=>l("/mypage"),children:"취소"}),c.jsx(oe,{type:"submit",className:"w-40",onClick:()=>a(!0),children:"등록"})]})]})})};export{fr as P};
