import{c as Je,q as pe,o as $e,p as et,t as me,w as be,v as tt,d as ge,r as t,j as l,x as nt,g as ot,n as ct,B as rt,l as at}from"./index-DqnocgkB.js";import{u as st,a as dt}from"./useProductsQuery-LnfNAsm2.js";import{$ as we,b as it,h as ut,c as lt,e as ft,f as pt,i as $t,a as mt,d as bt,g as xt,C as ht,j as gt,M as wt}from"./deleteImage-3k5o0Mvu.js";import{_ as m,$ as A,b as ve,a as vt,c as y,B as _t}from"./button-t4FA8y-s.js";import{$ as Mt,a as _e,h as q,b as x,e as Et,f as Ct,g as yt,d as xe}from"./index-CFHM1Sdb.js";import{$ as F,a as Rt}from"./index-RfDx5VN8.js";import{$ as Me,a as Dt,b as Pt,C as It}from"./index-JDt7S0vZ.js";import{C as St}from"./chevron-right-Sq9cQB7X.js";import{g as Nt,f as Ot}from"./formatDocumentDataToProduct-7ZQWAYQh.js";import"./createLucideIcon-s8DwoRPG.js";async function Tt(e,o,n){const c=Je(ge,"products"),r=o!==void 0?pe(c,be("sellerId","==",e),me("createdAt","desc"),et(o),$e(n)):pe(c,be("sellerId","==",e),me("createdAt","desc"),$e(n));return await tt(r)}const J=["Enter"," "],kt=["ArrowDown","PageUp","Home"],Ee=["ArrowUp","PageDown","End"],jt=[...kt,...Ee],At={ltr:[...J,"ArrowRight"],rtl:[...J,"ArrowLeft"]},Ft={ltr:["ArrowLeft"],rtl:["ArrowRight"]},W="Menu",[k,Kt,Lt]=Mt(W),[D,Ce]=_e(W,[Lt,we,Me]),ne=we(),ye=Me(),[Gt,P]=D(W),[Ut,K]=D(W),Bt=e=>{const{__scopeMenu:o,open:n=!1,children:c,dir:r,onOpenChange:a,modal:i=!0}=e,d=ne(o),[p,b]=t.useState(null),f=t.useRef(!1),s=Et(a),$=Ct(r);return t.useEffect(()=>{const h=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),t.createElement(xt,d,t.createElement(Gt,{scope:o,open:n,onOpenChange:s,content:p,onContentChange:b},t.createElement(Ut,{scope:o,onClose:t.useCallback(()=>s(!1),[s]),isUsingKeyboardRef:f,dir:$,modal:i},c)))},Re=t.forwardRef((e,o)=>{const{__scopeMenu:n,...c}=e,r=ne(n);return t.createElement(mt,m({},r,c,{ref:o}))}),De="MenuPortal",[Vt,Pe]=D(De,{forceMount:void 0}),Yt=e=>{const{__scopeMenu:o,forceMount:n,children:c,container:r}=e,a=P(De,o);return t.createElement(Vt,{scope:o,forceMount:n},t.createElement(q,{present:n||a.open},t.createElement(it,{asChild:!0,container:r},c)))},E="MenuContent",[zt,oe]=D(E),Xt=t.forwardRef((e,o)=>{const n=Pe(E,e.__scopeMenu),{forceMount:c=n.forceMount,...r}=e,a=P(E,e.__scopeMenu),i=K(E,e.__scopeMenu);return t.createElement(k.Provider,{scope:e.__scopeMenu},t.createElement(q,{present:c||a.open},t.createElement(k.Slot,{scope:e.__scopeMenu},i.modal?t.createElement(qt,m({},r,{ref:o})):t.createElement(Wt,m({},r,{ref:o})))))}),qt=t.forwardRef((e,o)=>{const n=P(E,e.__scopeMenu),c=t.useRef(null),r=A(o,c);return t.useEffect(()=>{const a=c.current;if(a)return ut(a)},[]),t.createElement(ce,m({},e,{ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:x(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Wt=t.forwardRef((e,o)=>{const n=P(E,e.__scopeMenu);return t.createElement(ce,m({},e,{ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),ce=t.forwardRef((e,o)=>{const{__scopeMenu:n,loop:c=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEntryFocus:p,onEscapeKeyDown:b,onPointerDownOutside:f,onFocusOutside:s,onInteractOutside:$,onDismiss:h,disableOutsideScroll:g,..._}=e,I=P(E,n),N=K(E,n),L=ne(n),G=ye(n),se=Kt(n),[Xe,de]=t.useState(null),U=t.useRef(null),qe=A(o,U,I.onContentChange),B=t.useRef(0),V=t.useRef(""),We=t.useRef(0),H=t.useRef(null),ie=t.useRef("right"),Q=t.useRef(0),He=g?bt:t.Fragment,Qe=g?{as:vt,allowPinchZoom:!0}:void 0,Ze=u=>{var w,M;const R=V.current+u,O=se().filter(C=>!C.disabled),Z=document.activeElement,ue=(w=O.find(C=>C.ref.current===Z))===null||w===void 0?void 0:w.textValue,Y=O.map(C=>C.textValue),T=fn(Y,R,ue),le=(M=O.find(C=>C.textValue===T))===null||M===void 0?void 0:M.ref.current;(function C(fe){V.current=fe,window.clearTimeout(B.current),fe!==""&&(B.current=window.setTimeout(()=>C(""),1e3))})(R),le&&setTimeout(()=>le.focus())};t.useEffect(()=>()=>window.clearTimeout(B.current),[]),lt();const S=t.useCallback(u=>{var w,M;return ie.current===((w=H.current)===null||w===void 0?void 0:w.side)&&$n(u,(M=H.current)===null||M===void 0?void 0:M.area)},[]);return t.createElement(zt,{scope:n,searchRef:V,onItemEnter:t.useCallback(u=>{S(u)&&u.preventDefault()},[S]),onItemLeave:t.useCallback(u=>{var w;S(u)||((w=U.current)===null||w===void 0||w.focus(),de(null))},[S]),onTriggerLeave:t.useCallback(u=>{S(u)&&u.preventDefault()},[S]),pointerGraceTimerRef:We,onPointerGraceIntentChange:t.useCallback(u=>{H.current=u},[])},t.createElement(He,Qe,t.createElement(ft,{asChild:!0,trapped:r,onMountAutoFocus:x(a,u=>{var w;u.preventDefault(),(w=U.current)===null||w===void 0||w.focus()}),onUnmountAutoFocus:i},t.createElement(pt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:b,onPointerDownOutside:f,onFocusOutside:s,onInteractOutside:$,onDismiss:h},t.createElement(Dt,m({asChild:!0},G,{dir:N.dir,orientation:"vertical",loop:c,currentTabStopId:Xe,onCurrentTabStopIdChange:de,onEntryFocus:x(p,u=>{N.isUsingKeyboardRef.current||u.preventDefault()})}),t.createElement($t,m({role:"menu","aria-orientation":"vertical","data-state":Te(I.open),"data-radix-menu-content":"",dir:N.dir},L,_,{ref:qe,style:{outline:"none",..._.style},onKeyDown:x(_.onKeyDown,u=>{const M=u.target.closest("[data-radix-menu-content]")===u.currentTarget,R=u.ctrlKey||u.altKey||u.metaKey,O=u.key.length===1;M&&(u.key==="Tab"&&u.preventDefault(),!R&&O&&Ze(u.key));const Z=U.current;if(u.target!==Z||!jt.includes(u.key))return;u.preventDefault();const Y=se().filter(T=>!T.disabled).map(T=>T.ref.current);Ee.includes(u.key)&&Y.reverse(),un(Y)}),onBlur:x(e.onBlur,u=>{u.currentTarget.contains(u.target)||(window.clearTimeout(B.current),V.current="")}),onPointerMove:x(e.onPointerMove,j(u=>{const w=u.target,M=Q.current!==u.clientX;if(u.currentTarget.contains(w)&&M){const R=u.clientX>Q.current?"right":"left";ie.current=R,Q.current=u.clientX}}))})))))))}),Ht=t.forwardRef((e,o)=>{const{__scopeMenu:n,...c}=e;return t.createElement(F.div,m({},c,{ref:o}))}),ee="MenuItem",he="menu.itemSelect",re=t.forwardRef((e,o)=>{const{disabled:n=!1,onSelect:c,...r}=e,a=t.useRef(null),i=K(ee,e.__scopeMenu),d=oe(ee,e.__scopeMenu),p=A(o,a),b=t.useRef(!1),f=()=>{const s=a.current;if(!n&&s){const $=new CustomEvent(he,{bubbles:!0,cancelable:!0});s.addEventListener(he,h=>c==null?void 0:c(h),{once:!0}),Rt(s,$),$.defaultPrevented?b.current=!1:i.onClose()}};return t.createElement(Ie,m({},r,{ref:p,disabled:n,onClick:x(e.onClick,f),onPointerDown:s=>{var $;($=e.onPointerDown)===null||$===void 0||$.call(e,s),b.current=!0},onPointerUp:x(e.onPointerUp,s=>{var $;b.current||($=s.currentTarget)===null||$===void 0||$.click()}),onKeyDown:x(e.onKeyDown,s=>{const $=d.searchRef.current!=="";n||$&&s.key===" "||J.includes(s.key)&&(s.currentTarget.click(),s.preventDefault())})}))}),Ie=t.forwardRef((e,o)=>{const{__scopeMenu:n,disabled:c=!1,textValue:r,...a}=e,i=oe(ee,n),d=ye(n),p=t.useRef(null),b=A(o,p),[f,s]=t.useState(!1),[$,h]=t.useState("");return t.useEffect(()=>{const g=p.current;if(g){var _;h(((_=g.textContent)!==null&&_!==void 0?_:"").trim())}},[a.children]),t.createElement(k.ItemSlot,{scope:n,disabled:c,textValue:r??$},t.createElement(Pt,m({asChild:!0},d,{focusable:!c}),t.createElement(F.div,m({role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":c||void 0,"data-disabled":c?"":void 0},a,{ref:b,onPointerMove:x(e.onPointerMove,j(g=>{c?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus())})),onPointerLeave:x(e.onPointerLeave,j(g=>i.onItemLeave(g))),onFocus:x(e.onFocus,()=>s(!0)),onBlur:x(e.onBlur,()=>s(!1))}))))}),Qt=t.forwardRef((e,o)=>{const{checked:n=!1,onCheckedChange:c,...r}=e;return t.createElement(Ne,{scope:e.__scopeMenu,checked:n},t.createElement(re,m({role:"menuitemcheckbox","aria-checked":X(n)?"mixed":n},r,{ref:o,"data-state":ae(n),onSelect:x(r.onSelect,()=>c==null?void 0:c(X(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),Zt="MenuRadioGroup",[po,Jt]=D(Zt,{value:void 0,onValueChange:()=>{}}),en="MenuRadioItem",tn=t.forwardRef((e,o)=>{const{value:n,...c}=e,r=Jt(en,e.__scopeMenu),a=n===r.value;return t.createElement(Ne,{scope:e.__scopeMenu,checked:a},t.createElement(re,m({role:"menuitemradio","aria-checked":a},c,{ref:o,"data-state":ae(a),onSelect:x(c.onSelect,()=>{var i;return(i=r.onValueChange)===null||i===void 0?void 0:i.call(r,n)},{checkForDefaultPrevented:!1})})))}),Se="MenuItemIndicator",[Ne,nn]=D(Se,{checked:!1}),on=t.forwardRef((e,o)=>{const{__scopeMenu:n,forceMount:c,...r}=e,a=nn(Se,n);return t.createElement(q,{present:c||X(a.checked)||a.checked===!0},t.createElement(F.span,m({},r,{ref:o,"data-state":ae(a.checked)})))}),cn=t.forwardRef((e,o)=>{const{__scopeMenu:n,...c}=e;return t.createElement(F.div,m({role:"separator","aria-orientation":"horizontal"},c,{ref:o}))}),rn="MenuSub",[$o,Oe]=D(rn),z="MenuSubTrigger",an=t.forwardRef((e,o)=>{const n=P(z,e.__scopeMenu),c=K(z,e.__scopeMenu),r=Oe(z,e.__scopeMenu),a=oe(z,e.__scopeMenu),i=t.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:p}=a,b={__scopeMenu:e.__scopeMenu},f=t.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return t.useEffect(()=>f,[f]),t.useEffect(()=>{const s=d.current;return()=>{window.clearTimeout(s),p(null)}},[d,p]),t.createElement(Re,m({asChild:!0},b),t.createElement(Ie,m({id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Te(n.open)},e,{ref:ve(o,r.onTriggerChange),onClick:s=>{var $;($=e.onClick)===null||$===void 0||$.call(e,s),!(e.disabled||s.defaultPrevented)&&(s.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:x(e.onPointerMove,j(s=>{a.onItemEnter(s),!s.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:x(e.onPointerLeave,j(s=>{var $;f();const h=($=n.content)===null||$===void 0?void 0:$.getBoundingClientRect();if(h){var g;const _=(g=n.content)===null||g===void 0?void 0:g.dataset.side,I=_==="right",N=I?-5:5,L=h[I?"left":"right"],G=h[I?"right":"left"];a.onPointerGraceIntentChange({area:[{x:s.clientX+N,y:s.clientY},{x:L,y:h.top},{x:G,y:h.top},{x:G,y:h.bottom},{x:L,y:h.bottom}],side:_}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(s),s.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:x(e.onKeyDown,s=>{const $=a.searchRef.current!=="";if(!(e.disabled||$&&s.key===" ")&&At[c.dir].includes(s.key)){var h;n.onOpenChange(!0),(h=n.content)===null||h===void 0||h.focus(),s.preventDefault()}})})))}),sn="MenuSubContent",dn=t.forwardRef((e,o)=>{const n=Pe(E,e.__scopeMenu),{forceMount:c=n.forceMount,...r}=e,a=P(E,e.__scopeMenu),i=K(E,e.__scopeMenu),d=Oe(sn,e.__scopeMenu),p=t.useRef(null),b=A(o,p);return t.createElement(k.Provider,{scope:e.__scopeMenu},t.createElement(q,{present:c||a.open},t.createElement(k.Slot,{scope:e.__scopeMenu},t.createElement(ce,m({id:d.contentId,"aria-labelledby":d.triggerId},r,{ref:b,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var s;i.isUsingKeyboardRef.current&&((s=p.current)===null||s===void 0||s.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:x(e.onFocusOutside,f=>{f.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:x(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:x(e.onKeyDown,f=>{const s=f.currentTarget.contains(f.target),$=Ft[i.dir].includes(f.key);if(s&&$){var h;a.onOpenChange(!1),(h=d.trigger)===null||h===void 0||h.focus(),f.preventDefault()}})})))))});function Te(e){return e?"open":"closed"}function X(e){return e==="indeterminate"}function ae(e){return X(e)?"indeterminate":e?"checked":"unchecked"}function un(e){const o=document.activeElement;for(const n of e)if(n===o||(n.focus(),document.activeElement!==o))return}function ln(e,o){return e.map((n,c)=>e[(o+c)%e.length])}function fn(e,o,n){const r=o.length>1&&Array.from(o).every(b=>b===o[0])?o[0]:o,a=n?e.indexOf(n):-1;let i=ln(e,Math.max(a,0));r.length===1&&(i=i.filter(b=>b!==n));const p=i.find(b=>b.toLowerCase().startsWith(r.toLowerCase()));return p!==n?p:void 0}function pn(e,o){const{x:n,y:c}=e;let r=!1;for(let a=0,i=o.length-1;a<o.length;i=a++){const d=o[a].x,p=o[a].y,b=o[i].x,f=o[i].y;p>c!=f>c&&n<(b-d)*(c-p)/(f-p)+d&&(r=!r)}return r}function $n(e,o){if(!o)return!1;const n={x:e.clientX,y:e.clientY};return pn(n,o)}function j(e){return o=>o.pointerType==="mouse"?e(o):void 0}const mn=Bt,bn=Re,xn=Yt,hn=Xt,gn=Ht,wn=re,vn=Qt,_n=tn,Mn=on,En=cn,Cn=an,yn=dn,ke="DropdownMenu",[Rn,mo]=_e(ke,[Ce]),v=Ce(),[Dn,je]=Rn(ke),Pn=e=>{const{__scopeDropdownMenu:o,children:n,dir:c,open:r,defaultOpen:a,onOpenChange:i,modal:d=!0}=e,p=v(o),b=t.useRef(null),[f=!1,s]=yt({prop:r,defaultProp:a,onChange:i});return t.createElement(Dn,{scope:o,triggerId:xe(),triggerRef:b,contentId:xe(),open:f,onOpenChange:s,onOpenToggle:t.useCallback(()=>s($=>!$),[s]),modal:d},t.createElement(mn,m({},p,{open:f,onOpenChange:s,dir:c,modal:d}),n))},In="DropdownMenuTrigger",Sn=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,disabled:c=!1,...r}=e,a=je(In,n),i=v(n);return t.createElement(bn,m({asChild:!0},i),t.createElement(F.button,m({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":c?"":void 0,disabled:c},r,{ref:ve(o,a.triggerRef),onPointerDown:x(e.onPointerDown,d=>{!c&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:x(e.onKeyDown,d=>{c||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})))}),Nn=e=>{const{__scopeDropdownMenu:o,...n}=e,c=v(o);return t.createElement(xn,m({},c,n))},On="DropdownMenuContent",Tn=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=je(On,n),a=v(n),i=t.useRef(!1);return t.createElement(hn,m({id:r.contentId,"aria-labelledby":r.triggerId},a,c,{ref:o,onCloseAutoFocus:x(e.onCloseAutoFocus,d=>{var p;i.current||(p=r.triggerRef.current)===null||p===void 0||p.focus(),i.current=!1,d.preventDefault()}),onInteractOutside:x(e.onInteractOutside,d=>{const p=d.detail.originalEvent,b=p.button===0&&p.ctrlKey===!0,f=p.button===2||b;(!r.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),kn=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=v(n);return t.createElement(gn,m({},r,c,{ref:o}))}),jn=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=v(n);return t.createElement(wn,m({},r,c,{ref:o}))}),An=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=v(n);return t.createElement(vn,m({},r,c,{ref:o}))}),Fn=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=v(n);return t.createElement(_n,m({},r,c,{ref:o}))}),Kn=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=v(n);return t.createElement(Mn,m({},r,c,{ref:o}))}),Ln=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=v(n);return t.createElement(En,m({},r,c,{ref:o}))}),Gn=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=v(n);return t.createElement(Cn,m({},r,c,{ref:o}))}),Un=t.forwardRef((e,o)=>{const{__scopeDropdownMenu:n,...c}=e,r=v(n);return t.createElement(yn,m({},r,c,{ref:o,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Bn=Pn,Vn=Sn,Yn=Nn,Ae=Tn,Fe=kn,Ke=jn,Le=An,Ge=Fn,Ue=Kn,Be=Ln,Ve=Gn,Ye=Un,zn=Bn,Xn=Vn,qn=t.forwardRef(({className:e,inset:o,children:n,...c},r)=>l.jsxs(Ve,{ref:r,className:y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",o&&"pl-8",e),...c,children:[n,l.jsx(St,{className:"ml-auto h-4 w-4"})]}));qn.displayName=Ve.displayName;const Wn=t.forwardRef(({className:e,...o},n)=>l.jsx(Ye,{ref:n,className:y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o}));Wn.displayName=Ye.displayName;const ze=t.forwardRef(({className:e,sideOffset:o=4,...n},c)=>l.jsx(Yn,{children:l.jsx(Ae,{ref:c,sideOffset:o,className:y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ze.displayName=Ae.displayName;const te=t.forwardRef(({className:e,inset:o,...n},c)=>l.jsx(Ke,{ref:c,className:y("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors bg-secondary focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o&&"pl-8",e),...n}));te.displayName=Ke.displayName;const Hn=t.forwardRef(({className:e,children:o,checked:n,...c},r)=>l.jsxs(Le,{ref:r,className:y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...c,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Ue,{children:l.jsx(ht,{className:"h-4 w-4"})})}),o]}));Hn.displayName=Le.displayName;const Qn=t.forwardRef(({className:e,children:o,...n},c)=>l.jsxs(Ge,{ref:c,className:y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Ue,{children:l.jsx(It,{className:"h-2 w-2 fill-current"})})}),o]}));Qn.displayName=Ge.displayName;const Zn=t.forwardRef(({className:e,inset:o,...n},c)=>l.jsx(Fe,{ref:c,className:y("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",e),...n}));Zn.displayName=Fe.displayName;const Jn=t.forwardRef(({className:e,...o},n)=>l.jsx(Be,{ref:n,className:y("-mx-1 my-1 h-px bg-muted",e),...o}));Jn.displayName=Be.displayName;async function eo(e){await nt(ot(ge,"products",e)).catch(o=>{throw o})}const to=({docId:e,product:o})=>{const[n,c]=t.useState(),r=ct();t.useEffect(()=>{Nt(o.productImage[0]).then(d=>c(d))},[o]);const a=()=>{r(`/mypage/edit-product?product=${e}`)},i=async()=>{console.log(e);try{for(const d of o.productImage)await gt(d);await eo(e)}catch{window.alert("상품 삭제를 실패했습니다."),window.location.reload();return}window.alert("상품 삭제가 완료되었습니다."),window.location.reload()};return l.jsxs("div",{className:"flex m-1 p-4 items-center border border-y-neutral-200 border-x-0",children:[l.jsx("img",{className:"w-24 h-24 mr-5",src:n}),l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"text-ellipsis	text-base ",children:o.productName}),l.jsx("div",{className:"text-sm text-gray-400",children:o.productCategory})]}),l.jsx("div",{className:"",children:`₩${o.productPrice}`}),l.jsx("div",{className:"w-24 flex justify-end ml-8",children:o.productQuantity}),l.jsx("div",{className:"ml-8",children:l.jsxs(zn,{children:[l.jsx(Xn,{asChild:!0,children:l.jsx(_t,{variant:"ghost",children:l.jsx(rt,{})})}),l.jsxs(ze,{className:"w-16",children:[l.jsx(te,{onClick:a,children:"수정"}),l.jsx(te,{onClick:i,children:"삭제"})]})]})})]})},bo=()=>{const e=at();console.log(e);const[o,n]=st(),{products:c,isLoading:r,hasNextPage:a,fetchNextPage:i}=dt({rowsPerPage:5,queryFunc:(d,p)=>Tt(e.id,d,p)});return t.useEffect(()=>{n&&a&&i()},[n,a,i]),l.jsxs(wt,{children:[l.jsx("h1",{className:"h1 mb-12",children:"전체 상품 조회"}),l.jsx("div",{children:l.jsxs("ul",{children:[!r&&c&&c.map(d=>l.jsx("li",{children:l.jsx(to,{docId:d.docId,product:Ot(d.data)},`item_${d.docId}`)},d.docId)),l.jsx("div",{ref:o})]})})]})};export{bo as default};
