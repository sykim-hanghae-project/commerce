import{a as u,j as e,r as l}from"./index-Vq1JXboX.js";import{g as d}from"./getProductsByCategory-EZOJDd8A.js";import{I as p}from"./index-6BIgiml4.js";import{P as x}from"./ProductContainer-ypXsEUkS.js";import{u as j}from"./useQuery-bFcdZXqQ.js";import{M as f}from"./MetaTag-ZlBfLCmT.js";import"./iconBase-djffxSNR.js";import"./utils-Anq8py01.js";import"./button-DbWM39RQ.js";import"./createLucideIcon-teTjWQfU.js";import"./priceToString-jyYOkqXM.js";import"./useBaseQuery-zMsKL3zC.js";import"./utils-bemYdGE3.js";import"./suspense-9ho99RMx.js";const g=({category:r})=>{const{data:t,isError:s,error:n}=j({queryKey:["productsByCategory",r],queryFn:({queryKey:o})=>d(o[1],4,"createdAt","desc",null),staleTime:6e3}),i=u();if(s)return console.log(n),e.jsx(e.Fragment,{});const c=()=>{i(`/product/list?category=${r}`)};return e.jsxs("div",{children:[e.jsxs("button",{onClick:c,className:"flex items-center ",children:[e.jsx("p",{className:"text-lg font-bold mr-1",children:r}),e.jsx(p,{})]}),e.jsx("ul",{className:"flex mt-4",children:t&&t.map((o,a)=>e.jsx("li",{className:"homeProductsContainerProductItem",children:e.jsx(x,{product:o})},`${r}_product_${a}`))})]})},h=()=>{const[r,t]=l.useState(!1),s=l.useRef(null);return l.useEffect(()=>{if(!s.current)return;const n=o=>{o.forEach(a=>{a.isIntersecting?t(!0):t(!1)})},i={root:null,rootMargin:"0px",threshold:0},c=new IntersectionObserver(n,i);return c.observe(s.current),()=>{c.disconnect()}},[]),{isInViewport:r,ref:s}},m=({children:r})=>{const{ref:t,isInViewport:s}=h();return e.jsx("div",{ref:t,className:s?"animate-frameIn":"",children:r})},S=()=>{const r=["Women","Men"];return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"XSO",description:"React 쇼핑몰 프로젝트",url:"https://sykim-hanghae-project.github.io/commerce/"}),e.jsxs("div",{className:"w-full pb-8",children:[e.jsx(m,{children:e.jsx("img",{className:"w-full h-screen object-cover",src:"/commerce/concept-image.jpg",decoding:"async"})}),e.jsx(m,{children:e.jsx("img",{className:"w-full h-screen object-cover",src:"/commerce/concept-image-2.jpg",decoding:"async"})}),e.jsx("div",{className:"mt-12",children:e.jsx("ul",{children:r.map(t=>e.jsx("li",{className:"homeProductsContainer",children:e.jsx(g,{category:t})},`products_${t}`))})})]})]})};export{S as default};
