import{r as t,a as tt,j as u,G as Bt,b as Ut,c as zt,d as We,s as Me,e as ot,u as Ft,f as nt,g as rt,h as Yt,i as Xt,k as Kt,l as qt,m as Gt,n as Zt}from"./index-8-xDMCu7.js";import{I as xe,o as Qt,s as je,a as Jt,n as Ye,u as eo,F as to,b as ae,c as le,d as se,e as me,f as ge,g as ie,t as oo}from"./input-ISVC7Ray.js";import{$ as ct,a as no,b as ro,h as co,c as ao,d as lo,e as so,f as io,g as uo,i as fo,C as po,M as mo,j as ho}from"./deleteImage-gYO9mTnv.js";import{_ as S,$ as M,a as bo,c as F,B as Xe}from"./button-GbdM-ld7.js";import{$ as go,a as at,b as I,c as G,d as lt,e as te,f as st,g as Ke,h as Se}from"./index-7rsTbDc8.js";import{$ as j}from"./index-_-wpNjw9.js";import{$ as vo,i as $o}from"./incrementCounter-98P8k_91.js";import{c as it}from"./createLucideIcon-UpNSz_lc.js";import{g as xo,f as wo}from"./formatDocumentDataToProduct-CicNDb7i.js";function Le(e,[n,o]){return Math.min(o,Math.max(n,e))}const So=t.forwardRef((e,n)=>t.createElement(j.span,S({},e,{ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),yo=[" ","Enter","ArrowUp","ArrowDown"],Co=[" ","Enter"],ye="Select",[Ce,Ee,Eo]=go(ye),[fe,Qn]=at(ye,[Eo,ct]),Be=ct(),[Po,oe]=fe(ye),[To,Ro]=fe(ye),Io=e=>{const{__scopeSelect:n,children:o,open:r,defaultOpen:c,onOpenChange:s,value:i,defaultValue:l,onValueChange:a,dir:d,name:f,autoComplete:m,disabled:b,required:$}=e,p=Be(n),[g,y]=t.useState(null),[v,h]=t.useState(null),[w,Y]=t.useState(!1),O=st(d),[W=!1,_]=Ke({prop:r,defaultProp:c,onChange:s}),[A,C]=Ke({prop:i,defaultProp:l,onChange:a}),N=t.useRef(null),k=g?!!g.closest("form"):!0,[B,Q]=t.useState(new Set),J=Array.from(B).map(L=>L.props.value).join(";");return t.createElement(uo,p,t.createElement(Po,{required:$,scope:n,trigger:g,onTriggerChange:y,valueNode:v,onValueNodeChange:h,valueNodeHasChildren:w,onValueNodeHasChildrenChange:Y,contentId:lt(),value:A,onValueChange:C,open:W,onOpenChange:_,dir:O,triggerPointerDownPosRef:N,disabled:b},t.createElement(Ce.Provider,{scope:n},t.createElement(To,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(L=>{Q(X=>new Set(X).add(L))},[]),onNativeOptionRemove:t.useCallback(L=>{Q(X=>{const K=new Set(X);return K.delete(L),K})},[])},o)),k?t.createElement(mt,{key:J,"aria-hidden":!0,required:$,tabIndex:-1,name:f,autoComplete:m,value:A,onChange:L=>C(L.target.value),disabled:b},A===void 0?t.createElement("option",{value:""}):null,Array.from(B)):null))},_o="SelectTrigger",No=t.forwardRef((e,n)=>{const{__scopeSelect:o,disabled:r=!1,...c}=e,s=Be(o),i=oe(_o,o),l=i.disabled||r,a=M(n,i.onTriggerChange),d=Ee(o),[f,m,b]=ht(p=>{const g=d().filter(h=>!h.disabled),y=g.find(h=>h.value===i.value),v=bt(g,p,y);v!==void 0&&i.onValueChange(v.value)}),$=()=>{l||(i.onOpenChange(!0),b())};return t.createElement(no,S({asChild:!0},s),t.createElement(j.button,S({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pt(i.value)?"":void 0},c,{ref:a,onClick:I(c.onClick,p=>{p.currentTarget.focus()}),onPointerDown:I(c.onPointerDown,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&($(),i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:I(c.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(g&&p.key===" ")&&yo.includes(p.key)&&($(),p.preventDefault())})})))}),Ao="SelectValue",Do=t.forwardRef((e,n)=>{const{__scopeSelect:o,className:r,style:c,children:s,placeholder:i="",...l}=e,a=oe(Ao,o),{onValueNodeHasChildrenChange:d}=a,f=s!==void 0,m=M(n,a.onValueNodeChange);return G(()=>{d(f)},[d,f]),t.createElement(j.span,S({},l,{ref:m,style:{pointerEvents:"none"}}),pt(a.value)?t.createElement(t.Fragment,null,i):s)}),jo=t.forwardRef((e,n)=>{const{__scopeSelect:o,children:r,...c}=e;return t.createElement(j.span,S({"aria-hidden":!0},c,{ref:n}),r||"▼")}),Oo=e=>t.createElement(ro,S({asChild:!0},e)),de="SelectContent",Mo=t.forwardRef((e,n)=>{const o=oe(de,e.__scopeSelect),[r,c]=t.useState();if(G(()=>{c(new DocumentFragment)},[]),!o.open){const s=r;return s?tt.createPortal(t.createElement(dt,{scope:e.__scopeSelect},t.createElement(Ce.Slot,{scope:e.__scopeSelect},t.createElement("div",null,e.children))),s):null}return t.createElement(Lo,S({},e,{ref:n}))}),q=10,[dt,ne]=fe(de),Lo=t.forwardRef((e,n)=>{const{__scopeSelect:o,position:r="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:a,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:b,collisionPadding:$,sticky:p,hideWhenDetached:g,avoidCollisions:y,...v}=e,h=oe(de,o),[w,Y]=t.useState(null),[O,W]=t.useState(null),_=M(n,x=>Y(x)),[A,C]=t.useState(null),[N,k]=t.useState(null),B=Ee(o),[Q,J]=t.useState(!1),L=t.useRef(!1);t.useEffect(()=>{if(w)return co(w)},[w]),ao();const X=t.useCallback(x=>{const[T,...H]=B().map(P=>P.ref.current),[R]=H.slice(-1),E=document.activeElement;for(const P of x)if(P===E||(P==null||P.scrollIntoView({block:"nearest"}),P===T&&O&&(O.scrollTop=0),P===R&&O&&(O.scrollTop=O.scrollHeight),P==null||P.focus(),document.activeElement!==E))return},[B,O]),K=t.useCallback(()=>X([A,w]),[X,A,w]);t.useEffect(()=>{Q&&K()},[Q,K]);const{onOpenChange:re,triggerPointerDownPosRef:ee}=h;t.useEffect(()=>{if(w){let x={x:0,y:0};const T=R=>{var E,P,U,z;x={x:Math.abs(Math.round(R.pageX)-((E=(P=ee.current)===null||P===void 0?void 0:P.x)!==null&&E!==void 0?E:0)),y:Math.abs(Math.round(R.pageY)-((U=(z=ee.current)===null||z===void 0?void 0:z.y)!==null&&U!==void 0?U:0))}},H=R=>{x.x<=10&&x.y<=10?R.preventDefault():w.contains(R.target)||re(!1),document.removeEventListener("pointermove",T),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",H,{capture:!0})}}},[w,re,ee]),t.useEffect(()=>{const x=()=>re(!1);return window.addEventListener("blur",x),window.addEventListener("resize",x),()=>{window.removeEventListener("blur",x),window.removeEventListener("resize",x)}},[re]);const[Re,he]=ht(x=>{const T=B().filter(E=>!E.disabled),H=T.find(E=>E.ref.current===document.activeElement),R=bt(T,x,H);R&&setTimeout(()=>R.ref.current.focus())}),Ie=t.useCallback((x,T,H)=>{const R=!L.current&&!H;(h.value!==void 0&&h.value===T||R)&&(C(x),R&&(L.current=!0))},[h.value]),_e=t.useCallback(()=>w==null?void 0:w.focus(),[w]),ce=t.useCallback((x,T,H)=>{const R=!L.current&&!H;(h.value!==void 0&&h.value===T||R)&&k(x)},[h.value]),be=r==="popper"?qe:ko,pe=be===qe?{side:l,sideOffset:a,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:b,collisionPadding:$,sticky:p,hideWhenDetached:g,avoidCollisions:y}:{};return t.createElement(dt,{scope:o,content:w,viewport:O,onViewportChange:W,itemRefCallback:Ie,selectedItem:A,onItemLeave:_e,itemTextRefCallback:ce,focusSelectedItem:K,selectedItemText:N,position:r,isPositioned:Q,searchRef:Re},t.createElement(lo,{as:bo,allowPinchZoom:!0},t.createElement(so,{asChild:!0,trapped:h.open,onMountAutoFocus:x=>{x.preventDefault()},onUnmountAutoFocus:I(c,x=>{var T;(T=h.trigger)===null||T===void 0||T.focus({preventScroll:!0}),x.preventDefault()})},t.createElement(io,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:x=>x.preventDefault(),onDismiss:()=>h.onOpenChange(!1)},t.createElement(be,S({role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:x=>x.preventDefault()},v,pe,{onPlaced:()=>J(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:I(v.onKeyDown,x=>{const T=x.ctrlKey||x.altKey||x.metaKey;if(x.key==="Tab"&&x.preventDefault(),!T&&x.key.length===1&&he(x.key),["ArrowUp","ArrowDown","Home","End"].includes(x.key)){let R=B().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes(x.key)&&(R=R.slice().reverse()),["ArrowUp","ArrowDown"].includes(x.key)){const E=x.target,P=R.indexOf(E);R=R.slice(P+1)}setTimeout(()=>X(R)),x.preventDefault()}})}))))))}),ko=t.forwardRef((e,n)=>{const{__scopeSelect:o,onPlaced:r,...c}=e,s=oe(de,o),i=ne(de,o),[l,a]=t.useState(null),[d,f]=t.useState(null),m=M(n,_=>f(_)),b=Ee(o),$=t.useRef(!1),p=t.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:h}=i,w=t.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&g&&y&&v){const _=s.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),N=v.getBoundingClientRect();if(s.dir!=="rtl"){const E=N.left-A.left,P=C.left-E,U=_.left-P,z=_.width+U,Ne=Math.max(z,A.width),Ae=window.innerWidth-q,De=Le(P,[q,Ae-Ne]);l.style.minWidth=z+"px",l.style.left=De+"px"}else{const E=A.right-N.right,P=window.innerWidth-C.right-E,U=window.innerWidth-_.right-P,z=_.width+U,Ne=Math.max(z,A.width),Ae=window.innerWidth-q,De=Le(P,[q,Ae-Ne]);l.style.minWidth=z+"px",l.style.right=De+"px"}const k=b(),B=window.innerHeight-q*2,Q=g.scrollHeight,J=window.getComputedStyle(d),L=parseInt(J.borderTopWidth,10),X=parseInt(J.paddingTop,10),K=parseInt(J.borderBottomWidth,10),re=parseInt(J.paddingBottom,10),ee=L+X+Q+re+K,Re=Math.min(y.offsetHeight*5,ee),he=window.getComputedStyle(g),Ie=parseInt(he.paddingTop,10),_e=parseInt(he.paddingBottom,10),ce=_.top+_.height/2-q,be=B-ce,pe=y.offsetHeight/2,x=y.offsetTop+pe,T=L+X+x,H=ee-T;if(T<=ce){const E=y===k[k.length-1].ref.current;l.style.bottom="0px";const P=d.clientHeight-g.offsetTop-g.offsetHeight,U=Math.max(be,pe+(E?_e:0)+P+K),z=T+U;l.style.height=z+"px"}else{const E=y===k[0].ref.current;l.style.top="0px";const U=Math.max(ce,L+g.offsetTop+(E?Ie:0)+pe)+H;l.style.height=U+"px",g.scrollTop=T-ce+g.offsetTop}l.style.margin=`${q}px 0`,l.style.minHeight=Re+"px",l.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>$.current=!0)}},[b,s.trigger,s.valueNode,l,d,g,y,v,s.dir,r]);G(()=>w(),[w]);const[Y,O]=t.useState();G(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const W=t.useCallback(_=>{_&&p.current===!0&&(w(),h==null||h(),p.current=!1)},[w,h]);return t.createElement(Ho,{scope:o,contentWrapper:l,shouldExpandOnScrollRef:$,onScrollButtonChange:W},t.createElement("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Y}},t.createElement(j.div,S({},c,{ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}}))))}),qe=t.forwardRef((e,n)=>{const{__scopeSelect:o,align:r="start",collisionPadding:c=q,...s}=e,i=Be(o);return t.createElement(fo,S({},i,s,{ref:n,align:r,collisionPadding:c,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Ho,Ue]=fe(de,{}),Ge="SelectViewport",Vo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,c=ne(Ge,o),s=Ue(Ge,o),i=M(n,c.onViewportChange),l=t.useRef(0);return t.createElement(t.Fragment,null,t.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),t.createElement(Ce.Slot,{scope:o},t.createElement(j.div,S({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:I(r.onScroll,a=>{const d=a.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&f){const b=Math.abs(l.current-d.scrollTop);if(b>0){const $=window.innerHeight-q*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(p,g);if(y<$){const v=y+b,h=Math.min($,v),w=v-h;f.style.height=h+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})}))))}),Wo="SelectGroup",[Jn,Bo]=fe(Wo),Uo="SelectLabel",zo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,c=Bo(Uo,o);return t.createElement(j.div,S({id:c.id},r,{ref:n}))}),ke="SelectItem",[Fo,ut]=fe(ke),Yo=t.forwardRef((e,n)=>{const{__scopeSelect:o,value:r,disabled:c=!1,textValue:s,...i}=e,l=oe(ke,o),a=ne(ke,o),d=l.value===r,[f,m]=t.useState(s??""),[b,$]=t.useState(!1),p=M(n,v=>{var h;return(h=a.itemRefCallback)===null||h===void 0?void 0:h.call(a,v,r,c)}),g=lt(),y=()=>{c||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.createElement(Fo,{scope:o,value:r,disabled:c,textId:g,isSelected:d,onItemTextChange:t.useCallback(v=>{m(h=>{var w;return h||((w=v==null?void 0:v.textContent)!==null&&w!==void 0?w:"").trim()})},[])},t.createElement(Ce.ItemSlot,{scope:o,value:r,disabled:c,textValue:f},t.createElement(j.div,S({role:"option","aria-labelledby":g,"data-highlighted":b?"":void 0,"aria-selected":d&&b,"data-state":d?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1},i,{ref:p,onFocus:I(i.onFocus,()=>$(!0)),onBlur:I(i.onBlur,()=>$(!1)),onPointerUp:I(i.onPointerUp,y),onPointerMove:I(i.onPointerMove,v=>{if(c){var h;(h=a.onItemLeave)===null||h===void 0||h.call(a)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:I(i.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var h;(h=a.onItemLeave)===null||h===void 0||h.call(a)}}),onKeyDown:I(i.onKeyDown,v=>{var h;((h=a.searchRef)===null||h===void 0?void 0:h.current)!==""&&v.key===" "||(Co.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})}))))}),ve="SelectItemText",Xo=t.forwardRef((e,n)=>{const{__scopeSelect:o,className:r,style:c,...s}=e,i=oe(ve,o),l=ne(ve,o),a=ut(ve,o),d=Ro(ve,o),[f,m]=t.useState(null),b=M(n,v=>m(v),a.onItemTextChange,v=>{var h;return(h=l.itemTextRefCallback)===null||h===void 0?void 0:h.call(l,v,a.value,a.disabled)}),$=f==null?void 0:f.textContent,p=t.useMemo(()=>t.createElement("option",{key:a.value,value:a.value,disabled:a.disabled},$),[a.disabled,a.value,$]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return G(()=>(g(p),()=>y(p)),[g,y,p]),t.createElement(t.Fragment,null,t.createElement(j.span,S({id:a.textId},s,{ref:b})),a.isSelected&&i.valueNode&&!i.valueNodeHasChildren?tt.createPortal(s.children,i.valueNode):null)}),Ko="SelectItemIndicator",qo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e;return ut(Ko,o).isSelected?t.createElement(j.span,S({"aria-hidden":!0},r,{ref:n})):null}),Ze="SelectScrollUpButton",Go=t.forwardRef((e,n)=>{const o=ne(Ze,e.__scopeSelect),r=Ue(Ze,e.__scopeSelect),[c,s]=t.useState(!1),i=M(n,r.onScrollButtonChange);return G(()=>{if(o.viewport&&o.isPositioned){let a=function(){const d=l.scrollTop>0;s(d)};const l=o.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[o.viewport,o.isPositioned]),c?t.createElement(ft,S({},e,{ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=o;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}})):null}),Qe="SelectScrollDownButton",Zo=t.forwardRef((e,n)=>{const o=ne(Qe,e.__scopeSelect),r=Ue(Qe,e.__scopeSelect),[c,s]=t.useState(!1),i=M(n,r.onScrollButtonChange);return G(()=>{if(o.viewport&&o.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<d;s(f)};const l=o.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[o.viewport,o.isPositioned]),c?t.createElement(ft,S({},e,{ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=o;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}})):null}),ft=t.forwardRef((e,n)=>{const{__scopeSelect:o,onAutoScroll:r,...c}=e,s=ne("SelectScrollButton",o),i=t.useRef(null),l=Ee(o),a=t.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return t.useEffect(()=>()=>a(),[a]),G(()=>{var d;const f=l().find(m=>m.ref.current===document.activeElement);f==null||(d=f.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[l]),t.createElement(j.div,S({"aria-hidden":!0},c,{ref:n,style:{flexShrink:0,...c.style},onPointerDown:I(c.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:I(c.onPointerMove,()=>{var d;(d=s.onItemLeave)===null||d===void 0||d.call(s),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:I(c.onPointerLeave,()=>{a()})}))}),Qo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e;return t.createElement(j.div,S({"aria-hidden":!0},r,{ref:n}))});function pt(e){return e===""||e===void 0}const mt=t.forwardRef((e,n)=>{const{value:o,...r}=e,c=t.useRef(null),s=M(n,c),i=vo(o);return t.useEffect(()=>{const l=c.current,a=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==o&&f){const m=new Event("change",{bubbles:!0});f.call(l,o),l.dispatchEvent(m)}},[i,o]),t.createElement(So,{asChild:!0},t.createElement("select",S({},r,{ref:s,defaultValue:o})))});mt.displayName="BubbleSelect";function ht(e){const n=te(e),o=t.useRef(""),r=t.useRef(0),c=t.useCallback(i=>{const l=o.current+i;n(l),function a(d){o.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>a(""),1e3))}(l)},[n]),s=t.useCallback(()=>{o.current="",window.clearTimeout(r.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(r.current),[]),[o,c,s]}function bt(e,n,o){const c=n.length>1&&Array.from(n).every(d=>d===n[0])?n[0]:n,s=o?e.indexOf(o):-1;let i=Jo(e,Math.max(s,0));c.length===1&&(i=i.filter(d=>d!==o));const a=i.find(d=>d.textValue.toLowerCase().startsWith(c.toLowerCase()));return a!==o?a:void 0}function Jo(e,n){return e.map((o,r)=>e[(n+r)%e.length])}const en=Io,gt=No,tn=Do,on=jo,nn=Oo,vt=Mo,rn=Vo,$t=zo,xt=Yo,cn=Xo,an=qo,wt=Go,St=Zo,yt=Qo;/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),sn=en,dn=tn,Et=t.forwardRef(({className:e,children:n,...o},r)=>u.jsxs(gt,{ref:r,className:F("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...o,children:[n,u.jsx(on,{asChild:!0,children:u.jsx(Ct,{className:"h-4 w-4 opacity-50"})})]}));Et.displayName=gt.displayName;const Pt=t.forwardRef(({className:e,...n},o)=>u.jsx(wt,{ref:o,className:F("flex cursor-default items-center justify-center py-1",e),...n,children:u.jsx(ln,{className:"h-4 w-4"})}));Pt.displayName=wt.displayName;const Tt=t.forwardRef(({className:e,...n},o)=>u.jsx(St,{ref:o,className:F("flex cursor-default items-center justify-center py-1",e),...n,children:u.jsx(Ct,{className:"h-4 w-4"})}));Tt.displayName=St.displayName;const Rt=t.forwardRef(({className:e,children:n,position:o="popper",...r},c)=>u.jsx(nn,{children:u.jsxs(vt,{ref:c,className:F("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-background text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:o,...r,children:[u.jsx(Pt,{}),u.jsx(rn,{className:F("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),u.jsx(Tt,{})]})}));Rt.displayName=vt.displayName;const un=t.forwardRef(({className:e,...n},o)=>u.jsx($t,{ref:o,className:F("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));un.displayName=$t.displayName;const He=t.forwardRef(({className:e,children:n,...o},r)=>u.jsxs(xt,{ref:r,className:F("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm bg-background outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...o,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(an,{children:u.jsx(po,{className:"h-4 w-4"})})}),u.jsx(cn,{children:n})]}));He.displayName=xt.displayName;const fn=t.forwardRef(({className:e,...n},o)=>u.jsx(yt,{ref:o,className:F("-mx-1 my-1 h-px bg-muted",e),...n}));fn.displayName=yt.displayName;function pn(e){return Bt({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 3c-4.963 0-9 4.038-9 9s4.037 9 9 9 9-4.038 9-9-4.037-9-9-9zm0 16c-3.859 0-7-3.14-7-7s3.141-7 7-7 7 3.14 7 7-3.141 7-7 7zM12.707 12l2.646-2.646c.194-.194.194-.512 0-.707-.195-.194-.513-.194-.707 0l-2.646 2.646-2.646-2.647c-.195-.194-.513-.194-.707 0-.195.195-.195.513 0 .707l2.646 2.647-2.646 2.646c-.195.195-.195.513 0 .707.097.098.225.147.353.147s.256-.049.354-.146l2.646-2.647 2.646 2.646c.098.098.226.147.354.147s.256-.049.354-.146c.194-.194.194-.512 0-.707l-2.647-2.647z"},child:[]}]})(e)}function mn(e,n){return t.useReducer((o,r)=>{const c=n[o][r];return c??o},e)}const It="ScrollArea",[_t,er]=at(It),[hn,V]=_t(It),bn=t.forwardRef((e,n)=>{const{__scopeScrollArea:o,type:r="hover",dir:c,scrollHideDelay:s=600,...i}=e,[l,a]=t.useState(null),[d,f]=t.useState(null),[m,b]=t.useState(null),[$,p]=t.useState(null),[g,y]=t.useState(null),[v,h]=t.useState(0),[w,Y]=t.useState(0),[O,W]=t.useState(!1),[_,A]=t.useState(!1),C=M(n,k=>a(k)),N=st(c);return t.createElement(hn,{scope:o,type:r,dir:N,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:f,content:m,onContentChange:b,scrollbarX:$,onScrollbarXChange:p,scrollbarXEnabled:O,onScrollbarXEnabledChange:W,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:_,onScrollbarYEnabledChange:A,onCornerWidthChange:h,onCornerHeightChange:Y},t.createElement(j.div,S({dir:N},i,{ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})))}),gn="ScrollAreaViewport",vn=t.forwardRef((e,n)=>{const{__scopeScrollArea:o,children:r,...c}=e,s=V(gn,o),i=t.useRef(null),l=M(n,i,s.onViewportChange);return t.createElement(t.Fragment,null,t.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),t.createElement(j.div,S({"data-radix-scroll-area-viewport":""},c,{ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),t.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Z="ScrollAreaScrollbar",Nt=t.forwardRef((e,n)=>{const{forceMount:o,...r}=e,c=V(Z,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=c,l=e.orientation==="horizontal";return t.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),c.type==="hover"?t.createElement($n,S({},r,{ref:n,forceMount:o})):c.type==="scroll"?t.createElement(xn,S({},r,{ref:n,forceMount:o})):c.type==="auto"?t.createElement(At,S({},r,{ref:n,forceMount:o})):c.type==="always"?t.createElement(ze,S({},r,{ref:n})):null}),$n=t.forwardRef((e,n)=>{const{forceMount:o,...r}=e,c=V(Z,e.__scopeScrollArea),[s,i]=t.useState(!1);return t.useEffect(()=>{const l=c.scrollArea;let a=0;if(l){const d=()=>{window.clearTimeout(a),i(!0)},f=()=>{a=window.setTimeout(()=>i(!1),c.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(a),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[c.scrollArea,c.scrollHideDelay]),t.createElement(Se,{present:o||s},t.createElement(At,S({"data-state":s?"visible":"hidden"},r,{ref:n})))}),xn=t.forwardRef((e,n)=>{const{forceMount:o,...r}=e,c=V(Z,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Te(()=>a("SCROLL_END"),100),[l,a]=mn("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return t.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>a("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,c.scrollHideDelay,a]),t.useEffect(()=>{const d=c.viewport,f=s?"scrollLeft":"scrollTop";if(d){let m=d[f];const b=()=>{const $=d[f];m!==$&&(a("SCROLL"),i()),m=$};return d.addEventListener("scroll",b),()=>d.removeEventListener("scroll",b)}},[c.viewport,s,a,i]),t.createElement(Se,{present:o||l!=="hidden"},t.createElement(ze,S({"data-state":l==="hidden"?"hidden":"visible"},r,{ref:n,onPointerEnter:I(e.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:I(e.onPointerLeave,()=>a("POINTER_LEAVE"))})))}),At=t.forwardRef((e,n)=>{const o=V(Z,e.__scopeScrollArea),{forceMount:r,...c}=e,[s,i]=t.useState(!1),l=e.orientation==="horizontal",a=Te(()=>{if(o.viewport){const d=o.viewport.offsetWidth<o.viewport.scrollWidth,f=o.viewport.offsetHeight<o.viewport.scrollHeight;i(l?d:f)}},10);return ue(o.viewport,a),ue(o.content,a),t.createElement(Se,{present:r||s},t.createElement(ze,S({"data-state":s?"visible":"hidden"},c,{ref:n})))}),ze=t.forwardRef((e,n)=>{const{orientation:o="vertical",...r}=e,c=V(Z,e.__scopeScrollArea),s=t.useRef(null),i=t.useRef(0),[l,a]=t.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Mt(l.viewport,l.content),f={...r,sizes:l,onSizesChange:a,hasThumb:d>0&&d<1,onThumbChange:b=>s.current=b,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:b=>i.current=b};function m(b,$){return Rn(b,i.current,l,$)}return o==="horizontal"?t.createElement(wn,S({},f,{ref:n,onThumbPositionChange:()=>{if(c.viewport&&s.current){const b=c.viewport.scrollLeft,$=Je(b,l,c.dir);s.current.style.transform=`translate3d(${$}px, 0, 0)`}},onWheelScroll:b=>{c.viewport&&(c.viewport.scrollLeft=b)},onDragScroll:b=>{c.viewport&&(c.viewport.scrollLeft=m(b,c.dir))}})):o==="vertical"?t.createElement(Sn,S({},f,{ref:n,onThumbPositionChange:()=>{if(c.viewport&&s.current){const b=c.viewport.scrollTop,$=Je(b,l);s.current.style.transform=`translate3d(0, ${$}px, 0)`}},onWheelScroll:b=>{c.viewport&&(c.viewport.scrollTop=b)},onDragScroll:b=>{c.viewport&&(c.viewport.scrollTop=m(b))}})):null}),wn=t.forwardRef((e,n)=>{const{sizes:o,onSizesChange:r,...c}=e,s=V(Z,e.__scopeScrollArea),[i,l]=t.useState(),a=t.useRef(null),d=M(n,a,s.onScrollbarXChange);return t.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),t.createElement(jt,S({"data-orientation":"horizontal"},c,{ref:d,sizes:o,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pe(o)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(s.viewport){const b=s.viewport.scrollLeft+f.deltaX;e.onWheelScroll(b),kt(b,m)&&f.preventDefault()}},onResize:()=>{a.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:we(i.paddingLeft),paddingEnd:we(i.paddingRight)}})}}))}),Sn=t.forwardRef((e,n)=>{const{sizes:o,onSizesChange:r,...c}=e,s=V(Z,e.__scopeScrollArea),[i,l]=t.useState(),a=t.useRef(null),d=M(n,a,s.onScrollbarYChange);return t.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),t.createElement(jt,S({"data-orientation":"vertical"},c,{ref:d,sizes:o,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pe(o)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(s.viewport){const b=s.viewport.scrollTop+f.deltaY;e.onWheelScroll(b),kt(b,m)&&f.preventDefault()}},onResize:()=>{a.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:we(i.paddingTop),paddingEnd:we(i.paddingBottom)}})}}))}),[yn,Dt]=_t(Z),jt=t.forwardRef((e,n)=>{const{__scopeScrollArea:o,sizes:r,hasThumb:c,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:a,onDragScroll:d,onWheelScroll:f,onResize:m,...b}=e,$=V(Z,o),[p,g]=t.useState(null),y=M(n,C=>g(C)),v=t.useRef(null),h=t.useRef(""),w=$.viewport,Y=r.content-r.viewport,O=te(f),W=te(a),_=Te(m,10);function A(C){if(v.current){const N=C.clientX-v.current.left,k=C.clientY-v.current.top;d({x:N,y:k})}}return t.useEffect(()=>{const C=N=>{const k=N.target;(p==null?void 0:p.contains(k))&&O(N,Y)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,p,Y,O]),t.useEffect(W,[r,W]),ue(p,_),ue($.content,_),t.createElement(yn,{scope:o,scrollbar:p,hasThumb:c,onThumbChange:te(s),onThumbPointerUp:te(i),onThumbPositionChange:W,onThumbPointerDown:te(l)},t.createElement(j.div,S({},b,{ref:y,style:{position:"absolute",...b.style},onPointerDown:I(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=p.getBoundingClientRect(),h.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",$.viewport&&($.viewport.style.scrollBehavior="auto"),A(C))}),onPointerMove:I(e.onPointerMove,A),onPointerUp:I(e.onPointerUp,C=>{const N=C.target;N.hasPointerCapture(C.pointerId)&&N.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=h.current,$.viewport&&($.viewport.style.scrollBehavior=""),v.current=null})})))}),Ve="ScrollAreaThumb",Cn=t.forwardRef((e,n)=>{const{forceMount:o,...r}=e,c=Dt(Ve,e.__scopeScrollArea);return t.createElement(Se,{present:o||c.hasThumb},t.createElement(En,S({ref:n},r)))}),En=t.forwardRef((e,n)=>{const{__scopeScrollArea:o,style:r,...c}=e,s=V(Ve,o),i=Dt(Ve,o),{onThumbPositionChange:l}=i,a=M(n,m=>i.onThumbChange(m)),d=t.useRef(),f=Te(()=>{d.current&&(d.current(),d.current=void 0)},100);return t.useEffect(()=>{const m=s.viewport;if(m){const b=()=>{if(f(),!d.current){const $=In(m,l);d.current=$,l()}};return l(),m.addEventListener("scroll",b),()=>m.removeEventListener("scroll",b)}},[s.viewport,f,l]),t.createElement(j.div,S({"data-state":i.hasThumb?"visible":"hidden"},c,{ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:I(e.onPointerDownCapture,m=>{const $=m.target.getBoundingClientRect(),p=m.clientX-$.left,g=m.clientY-$.top;i.onThumbPointerDown({x:p,y:g})}),onPointerUp:I(e.onPointerUp,i.onThumbPointerUp)}))}),Ot="ScrollAreaCorner",Pn=t.forwardRef((e,n)=>{const o=V(Ot,e.__scopeScrollArea),r=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&r?t.createElement(Tn,S({},e,{ref:n})):null}),Tn=t.forwardRef((e,n)=>{const{__scopeScrollArea:o,...r}=e,c=V(Ot,o),[s,i]=t.useState(0),[l,a]=t.useState(0),d=!!(s&&l);return ue(c.scrollbarX,()=>{var f;const m=((f=c.scrollbarX)===null||f===void 0?void 0:f.offsetHeight)||0;c.onCornerHeightChange(m),a(m)}),ue(c.scrollbarY,()=>{var f;const m=((f=c.scrollbarY)===null||f===void 0?void 0:f.offsetWidth)||0;c.onCornerWidthChange(m),i(m)}),d?t.createElement(j.div,S({},r,{ref:n,style:{width:s,height:l,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function we(e){return e?parseInt(e,10):0}function Mt(e,n){const o=e/n;return isNaN(o)?0:o}function Pe(e){const n=Mt(e.viewport,e.content),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-o)*n;return Math.max(r,18)}function Rn(e,n,o,r="ltr"){const c=Pe(o),s=c/2,i=n||s,l=c-i,a=o.scrollbar.paddingStart+i,d=o.scrollbar.size-o.scrollbar.paddingEnd-l,f=o.content-o.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return Lt([a,d],m)(e)}function Je(e,n,o="ltr"){const r=Pe(n),c=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=n.scrollbar.size-c,i=n.content-n.viewport,l=s-r,a=o==="ltr"?[0,i]:[i*-1,0],d=Le(e,a);return Lt([0,i],[0,l])(d)}function Lt(e,n){return o=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(e[1]-e[0]);return n[0]+r*(o-e[0])}}function kt(e,n){return e>0&&e<n}const In=(e,n=()=>{})=>{let o={left:e.scrollLeft,top:e.scrollTop},r=0;return function c(){const s={left:e.scrollLeft,top:e.scrollTop},i=o.left!==s.left,l=o.top!==s.top;(i||l)&&n(),o=s,r=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(r)};function Te(e,n){const o=te(e),r=t.useRef(0);return t.useEffect(()=>()=>window.clearTimeout(r.current),[]),t.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(o,n)},[o,n])}function ue(e,n){const o=te(n);G(()=>{let r=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(o)});return c.observe(e),()=>{window.cancelAnimationFrame(r),c.unobserve(e)}}},[e,o])}const Ht=bn,_n=vn,Nn=Pn,Vt=t.forwardRef(({className:e,children:n,...o},r)=>u.jsxs(Ht,{ref:r,className:F("relative overflow-hidden",e),...o,children:[u.jsx(_n,{className:"h-full w-full rounded-[inherit]",children:n}),u.jsx(Fe,{}),u.jsx(Nn,{})]}));Vt.displayName=Ht.displayName;const Fe=t.forwardRef(({className:e,orientation:n="vertical",...o},r)=>u.jsx(Nt,{ref:r,orientation:n,className:F("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...o,children:u.jsx(Cn,{className:"relative flex-1 rounded-full bg-border"})}));Fe.displayName=Nt.displayName;const An=({src:e,onClickDeleteBtn:n})=>t.useMemo(()=>{const o=()=>{console.log("삭제 버튼 클릭"),n()};return u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:e,className:"w-28 h-28 bg-slate-200",alt:"Fail"}),u.jsx("button",{onClick:o,className:"absolute top-0 right-0 z-20",children:u.jsx(pn,{})})]})},[e,n]),Dn=({defaultValues:e,onChange:n})=>{const[o,r]=t.useState([]);t.useEffect(()=>{console.log("images",o),n(o)},[o]);const c=a=>{if(a.target.files){const d=s(a.target.files);r([...o,...d])}};function s(a){const d=[];for(const f of a){const m={isOriginal:!1,url:URL.createObjectURL(f),file:f};d.push(m)}return d}function i(a){const d=o.filter(f=>f.url!=a);r(d)}async function l(a){const d=[];for(const f of a){const m=await xo(f),b={isOriginal:!0,filename:f,url:m};d.push(b)}return d}return t.useEffect(()=>{e&&l(e).then(a=>r(a))},[e]),u.jsxs("div",{className:"",children:[u.jsx(xe,{id:"picture",type:"file",accept:"image/*",multiple:!0,onChange:c}),u.jsxs(Vt,{className:"w-full",children:[o&&u.jsx("ul",{className:"flex border-spacing-2 border rounded mt-2",children:o.map((a,d)=>u.jsx("li",{className:"m-1 shrink-0 overflow-hidden",children:u.jsx(An,{src:a.url,onClickDeleteBtn:()=>i(a.url)})},`photo(${d})`))}),u.jsx(Fe,{orientation:"horizontal",className:"bg-gray-200"})]})]})},Wt=t.forwardRef(({className:e,...n},o)=>u.jsx("textarea",{className:F("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...n}));Wt.displayName="Textarea";async function jn(e,n,o,r,c,s,i){const l=await $o("product");await Ut(zt(We,"products"),{id:l,sellerId:e,productName:n,productPrice:o,productQuantity:r,productDescription:c,productCategory:s,productImage:i,createdAt:Me(),updatedAt:Me()}).catch(a=>{throw a})}let $e;const On=new Uint8Array(16);function Mn(){if(!$e&&($e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $e(On)}const D=[];for(let e=0;e<256;++e)D.push((e+256).toString(16).slice(1));function Ln(e,n=0){return D[e[n+0]]+D[e[n+1]]+D[e[n+2]]+D[e[n+3]]+"-"+D[e[n+4]]+D[e[n+5]]+"-"+D[e[n+6]]+D[e[n+7]]+"-"+D[e[n+8]]+D[e[n+9]]+"-"+D[e[n+10]]+D[e[n+11]]+D[e[n+12]]+D[e[n+13]]+D[e[n+14]]+D[e[n+15]]}const kn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),et={randomUUID:kn};function Hn(e,n,o){if(et.randomUUID&&!n&&!e)return et.randomUUID();e=e||{};const r=e.random||(e.rng||Mn)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){o=o||0;for(let c=0;c<16;++c)n[o+c]=r[c];return n}return Ln(r)}async function Oe(e){const n=Hn(),o=ot(nt,`images/${n}`);return await Ft(o,e).catch(r=>{throw r}),n}async function Vn(e){const n=rt(We,"products",e),o=await Yt(n);if(o.exists()){const r=o.data();return wo(r)}return null}async function Wn(e,n){const o=rt(We,"products",e);await Xt(o,{...n,updatedAt:Me()})}async function Bn(e){const n=ot(nt,`images/${e}`);return await Kt(n)}const tr=({type:e})=>{const n=qt(),[o,r]=t.useState(),[c,s]=t.useState(),[i,l]=t.useState(!1),[a]=Gt(),d=Zt();t.useEffect(()=>{if(e==="edit"){const p=a.get("product");s(p),Vn(p).then(g=>{g&&(console.log(g),r(g))})}},[e,a]);const f=Qt({name:je().min(1,{message:"상품명 입력은 필수입니다."}).max(50,{message:"50자 이내로 작성해주세요."}),description:je().min(1,{message:"상품명 입력은 필수입니다."}).max(500,{message:"500자 이내로 작성해주세요."}),photo:Jt(),category:je(),price:Ye().min(1),quantity:Ye().min(1)}),m=eo({resolver:oo(f),defaultValues:{name:"",description:"",category:"Women",price:100,quantity:10}});t.useEffect(()=>{o&&(m.setValue("name",o.productName),m.setValue("description",o.productDescription),m.setValue("category",o.productCategory),m.setValue("price",o.productPrice),m.setValue("quantity",o.productQuantity))},[m,o]);async function b(p){if(i){console.log(p);try{const g=[];for(const y of p.photo){const v=await Oe(y.file);g.push(v)}await jn(n.id,p.name,p.price,p.quantity,p.description,p.category,g),window.alert("상품을 성공적으로 등록하였습니다.")}catch(g){window.alert(g)}finally{d("/mypage")}}}async function $(p){if(i){console.log(p);try{const g=[];for(const h of p.photo)if(h.isOriginal){const w=await Bn(h.filename);g.push(w)}for(const h of o.productImage)await ho(h);const y=[];for(const h of g){const w=await Oe(h);y.push(w)}for(const h of p.photo)if(!h.isOriginal){const w=await Oe(h.file);y.push(w)}const v={id:o.id,sellerId:o.sellerId,productName:p.name,productDescription:p.description,productImage:y,productCategory:p.category,productPrice:p.price,productQuantity:p.quantity,createdAt:o.createdAt,updatedAt:o.updatedAt};await Wn(c,v),window.alert("상품을 성공적으로 수정하였습니다.")}catch(g){window.alert(g)}finally{d("/mypage")}}}return u.jsxs(mo,{children:[u.jsx("h1",{className:"h1 mb-6",children:"상품 등록"}),u.jsx("p",{className:"mb-6",children:"상품의 정보를 입력해주세요."}),u.jsx("div",{className:"w-full",children:u.jsx(to,{...m,children:u.jsxs("form",{onSubmit:m.handleSubmit(e==="create"?b:$),className:"space-y-8",children:[u.jsx(ae,{control:m.control,name:"name",render:({field:p})=>u.jsxs(le,{children:[u.jsx(se,{children:"상품명"}),u.jsx(me,{children:u.jsx(xe,{placeholder:"상품명을 입력하세요.",...p})}),u.jsx(ge,{children:"최대 50자"}),u.jsx(ie,{})]})}),u.jsx(ae,{control:m.control,name:"description",render:({field:p})=>u.jsxs(le,{children:[u.jsx(se,{children:"상품 설명"}),u.jsx(me,{children:u.jsx(Wt,{placeholder:"상품 설명을 작성해주세요.",className:"resize-none",...p})}),u.jsx(ge,{children:"최대 500자"}),u.jsx(ie,{})]})}),u.jsx(ae,{control:m.control,name:"photo",render:({field:p})=>u.jsxs(le,{children:[u.jsx(se,{children:"상품 사진"}),u.jsx(Dn,{...p,defaultValues:e==="edit"&&o?o.productImage:void 0,onChange:g=>p.onChange(g)}),u.jsx(ge,{children:"최대 10장"}),u.jsx(ie,{})]})}),u.jsx(ae,{control:m.control,name:"category",render:({field:p})=>u.jsxs(le,{children:[u.jsx(se,{children:"카테고리"}),u.jsxs(sn,{...p,onValueChange:p.onChange,defaultValue:p.value,children:[u.jsx(me,{children:u.jsx(Et,{children:u.jsx(dn,{placeholder:"상품의 카테고리를 선택하세요."})})}),u.jsxs(Rt,{children:[u.jsx(He,{value:"Men",children:"Men"}),u.jsx(He,{value:"Women",children:"Women"})]})]}),u.jsx(ie,{})]})}),u.jsx(ae,{control:m.control,name:"price",render:({field:p})=>u.jsxs(le,{children:[u.jsx(se,{children:"가격"}),u.jsx(me,{children:u.jsx(xe,{...p,placeholder:"상품의 가격을 입력하세요.",onChange:g=>p.onChange(Number.parseInt(g.target.value))})}),u.jsx(ge,{children:"In KRW"}),u.jsx(ie,{})]})}),u.jsx(ae,{control:m.control,name:"quantity",render:({field:p})=>u.jsxs(le,{children:[u.jsx(se,{children:"수량"}),u.jsx(me,{children:u.jsx(xe,{placeholder:"상품의 수량을 입력하세요.",...p,onChange:g=>p.onChange(Number.parseInt(g.target.value))})}),u.jsx(ie,{})]})}),u.jsxs("div",{className:"flex justify-center",children:[u.jsx(Xe,{variant:"secondary",className:"w-40 mr-3",children:"취소"}),u.jsx(Xe,{type:"submit",className:"w-40",onClick:()=>l(!0),children:"등록"})]})]})})})]})};export{tr as default};
