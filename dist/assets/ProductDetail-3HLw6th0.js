import{r as p,_ as x,u as j,h,i as f,j as r}from"./index-FIlqUQy7.js";import g from"./getImageUrl-OqKMeRG-.js";import{g as N}from"./getProductsByCategory-reuVOYFE.js";import{P as y}from"./ProductContainer-yYnW6JCc.js";import{B as d}from"./button-zmJg5Lpq.js";import{p as w}from"./priceToString-jyYOkqXM.js";import{M as v}from"./MetaTag-VgbHpOZK.js";import{u as m}from"./useQuery-cNdFQeOr.js";import"./utils-e7QYg_mL.js";import"./createLucideIcon-660fMRwt.js";import"./chevron-right-p5SKVCdk.js";import"./suspense-eH29BjpB.js";const _=p.lazy(()=>x(()=>import("./CartDrawer-hNOAn89e.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),P=({filename:s})=>{const{data:t,isLoading:i,isError:c,error:o}=m({queryKey:["productImage",s],queryFn:({queryKey:a})=>g(a[1]),staleTime:2e3});return i?r.jsx(r.Fragment,{}):c?(console.log(o),r.jsx(r.Fragment,{})):r.jsx("img",{src:t,className:"w-full object-cover"})},B=()=>{const s=j(),t=h(),i=f(),{data:c,isLoading:o,isError:a,error:n}=m({queryKey:["recommendProducts",s.productCategory],queryFn:async({queryKey:e})=>N(e[1],5,"createdAt","desc",null),staleTime:2e3});a&&console.log(n);const u=()=>{i({type:"ADD_ITEM",itemId:s.id,price:s.productPrice}),window.alert("장바구니에 담겼습니다.")};return r.jsxs(r.Fragment,{children:[r.jsx(v,{title:`${s.productName} - XSO`,description:`${s.productDescription}`}),r.jsxs("div",{className:"w-full py-8",children:[r.jsxs("div",{className:"flex w-full",children:[r.jsxs("div",{className:"sticky top-[10%] h-fit w-[45%]",children:[r.jsx("h1",{className:"h1 mb-4",children:s.productName}),r.jsx("p",{children:s.productDescription}),r.jsxs("div",{className:"flex text-sm mt-12",children:[r.jsx("p",{className:"w-full ",children:"남은 수량"}),r.jsx("p",{children:s.productQuantity})]}),r.jsxs("div",{className:"flex text-sm mt-4",children:[r.jsx("p",{className:"w-full",children:"가격"}),r.jsx("p",{className:"min-w-max",children:w(s.productPrice)})]}),r.jsx("div",{children:t.items.length>0&&t.items.find(e=>e.id===s.id)?r.jsx(_,{children:r.jsx(d,{className:"w-full mt-4",variant:"secondary",children:"장바구니 보기"})}):s.productQuantity>0?r.jsx(d,{className:"w-full mt-4",onClick:u,children:"장바구니 담기"}):r.jsx(d,{className:"w-full mt-4",disabled:!0,children:"품절"})})]}),r.jsx("div",{className:"w-[45%] ml-[10%]",children:r.jsx("ul",{children:s.productImage.map((e,l)=>r.jsx("li",{children:r.jsx(P,{filename:e})},`product_image_${l}`))})})]}),!(a||o)&&r.jsxs("div",{className:"mt-8",children:[r.jsx("p",{className:"text-base mb-4 font-semibold",children:"추천 상품"}),r.jsx("div",{children:r.jsx("ul",{className:"grid grid-cols-5 gap-x-[1%]",children:c.map((e,l)=>r.jsx("li",{children:r.jsx(y,{product:e})},`recommend_products_${l}`))})})]})]})]})};export{B as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/CartDrawer-hNOAn89e.js","assets/index-FIlqUQy7.js","assets/index-GtDIvQPK.css","assets/utils-e7QYg_mL.js","assets/index-JylqWpyc.js","assets/Combination-3J9WhP_G.js","assets/index-gxEFgUwi.js","assets/index-ErLbnoe3.js","assets/index-Rrj28SgM.js","assets/iconBase-iSPQGmgu.js","assets/button-zmJg5Lpq.js","assets/priceToString-jyYOkqXM.js","assets/suspense-eH29BjpB.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
