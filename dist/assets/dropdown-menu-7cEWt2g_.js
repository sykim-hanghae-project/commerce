import{r as t,j as G}from"./index-Vq1JXboX.js";import{_ as x,$ as A,a as Re,d as De,c as ne}from"./utils-Anq8py01.js";import{$ as oe,c as v,b as Pe,a as ye,d as ee}from"./index-mOhbM-ib.js";import{$ as ce,a as Oe}from"./index-wocOw3ZL.js";import{$ as Ie,a as Se}from"./index-9gxzcVvN.js";import{$ as Te,h as Fe,a as Ae,b as ke,c as Ne,d as Ke}from"./Combination-p9BSy9O-.js";import{$ as re,a as Le,b as Ue,c as Ge}from"./index-UVn-uUOv.js";import{$ as ae}from"./index-iK2Kvbv4.js";import{$ as se,a as Ve,b as je}from"./index-nQqo4rGF.js";const Xe=["Enter"," "],Ye=["ArrowDown","PageUp","Home"],de=["ArrowUp","PageDown","End"],Be=[...Ye,...de],k="Menu",[V,ze,We]=Ie(k),[C,ie]=oe(k,[We,re,se]),Y=re(),ue=se(),[He,y]=C(k),[Ze,B]=C(k),qe=e=>{const{__scopeMenu:n,open:o=!1,children:c,dir:s,onOpenChange:r,modal:d=!0}=e,i=Y(n),[f,l]=t.useState(null),m=t.useRef(!1),u=Pe(r),$=Se(s);return t.useEffect(()=>{const M=()=>{m.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>m.current=!1;return document.addEventListener("keydown",M,{capture:!0}),()=>{document.removeEventListener("keydown",M,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),t.createElement(Ue,i,t.createElement(He,{scope:n,open:o,onOpenChange:u,content:f,onContentChange:l},t.createElement(Ze,{scope:n,onClose:t.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:m,dir:$,modal:d},c)))},Je=t.forwardRef((e,n)=>{const{__scopeMenu:o,...c}=e,s=Y(o);return t.createElement(Ge,x({},s,c,{ref:n}))}),fe="MenuPortal",[Qe,et]=C(fe,{forceMount:void 0}),tt=e=>{const{__scopeMenu:n,forceMount:o,children:c,container:s}=e,r=y(fe,n);return t.createElement(Qe,{scope:n,forceMount:o},t.createElement(ae,{present:o||r.open},t.createElement(Te,{asChild:!0,container:s},c)))},h="MenuContent",[nt,le]=C(h),ot=t.forwardRef((e,n)=>{const o=et(h,e.__scopeMenu),{forceMount:c=o.forceMount,...s}=e,r=y(h,e.__scopeMenu),d=B(h,e.__scopeMenu);return t.createElement(V.Provider,{scope:e.__scopeMenu},t.createElement(ae,{present:c||r.open},t.createElement(V.Slot,{scope:e.__scopeMenu},d.modal?t.createElement(ct,x({},s,{ref:n})):t.createElement(rt,x({},s,{ref:n})))))}),ct=t.forwardRef((e,n)=>{const o=y(h,e.__scopeMenu),c=t.useRef(null),s=A(n,c);return t.useEffect(()=>{const r=c.current;if(r)return Fe(r)},[]),t.createElement($e,x({},e,{ref:s,trapFocus:o.open,disableOutsidePointerEvents:o.open,disableOutsideScroll:!0,onFocusOutside:v(e.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>o.onOpenChange(!1)}))}),rt=t.forwardRef((e,n)=>{const o=y(h,e.__scopeMenu);return t.createElement($e,x({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>o.onOpenChange(!1)}))}),$e=t.forwardRef((e,n)=>{const{__scopeMenu:o,loop:c=!1,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:d,disableOutsidePointerEvents:i,onEntryFocus:f,onEscapeKeyDown:l,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:$,onDismiss:M,disableOutsideScroll:b,...w}=e,z=y(h,o),N=B(h,o),xe=Y(o),ge=ue(o),W=ze(o),[Ee,H]=t.useState(null),I=t.useRef(null),Me=A(n,I,z.onContentChange),S=t.useRef(0),T=t.useRef(""),we=t.useRef(0),K=t.useRef(null),Z=t.useRef("right"),L=t.useRef(0),he=b?Ke:t.Fragment,_e=b?{as:Re,allowPinchZoom:!0}:void 0,Ce=a=>{var p,g;const _=T.current+a,D=W().filter(E=>!E.disabled),U=document.activeElement,q=(p=D.find(E=>E.ref.current===U))===null||p===void 0?void 0:p.textValue,F=D.map(E=>E.textValue),P=pt(F,_,q),J=(g=D.find(E=>E.textValue===P))===null||g===void 0?void 0:g.ref.current;(function E(Q){T.current=Q,window.clearTimeout(S.current),Q!==""&&(S.current=window.setTimeout(()=>E(""),1e3))})(_),J&&setTimeout(()=>J.focus())};t.useEffect(()=>()=>window.clearTimeout(S.current),[]),Ae();const R=t.useCallback(a=>{var p,g;return Z.current===((p=K.current)===null||p===void 0?void 0:p.side)&&bt(a,(g=K.current)===null||g===void 0?void 0:g.area)},[]);return t.createElement(nt,{scope:o,searchRef:T,onItemEnter:t.useCallback(a=>{R(a)&&a.preventDefault()},[R]),onItemLeave:t.useCallback(a=>{var p;R(a)||((p=I.current)===null||p===void 0||p.focus(),H(null))},[R]),onTriggerLeave:t.useCallback(a=>{R(a)&&a.preventDefault()},[R]),pointerGraceTimerRef:we,onPointerGraceIntentChange:t.useCallback(a=>{K.current=a},[])},t.createElement(he,_e,t.createElement(ke,{asChild:!0,trapped:s,onMountAutoFocus:v(r,a=>{var p;a.preventDefault(),(p=I.current)===null||p===void 0||p.focus()}),onUnmountAutoFocus:d},t.createElement(Ne,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:$,onDismiss:M},t.createElement(Ve,x({asChild:!0},ge,{dir:N.dir,orientation:"vertical",loop:c,currentTabStopId:Ee,onCurrentTabStopIdChange:H,onEntryFocus:v(f,a=>{N.isUsingKeyboardRef.current||a.preventDefault()})}),t.createElement(Le,x({role:"menu","aria-orientation":"vertical","data-state":ft(z.open),"data-radix-menu-content":"",dir:N.dir},xe,w,{ref:Me,style:{outline:"none",...w.style},onKeyDown:v(w.onKeyDown,a=>{const g=a.target.closest("[data-radix-menu-content]")===a.currentTarget,_=a.ctrlKey||a.altKey||a.metaKey,D=a.key.length===1;g&&(a.key==="Tab"&&a.preventDefault(),!_&&D&&Ce(a.key));const U=I.current;if(a.target!==U||!Be.includes(a.key))return;a.preventDefault();const F=W().filter(P=>!P.disabled).map(P=>P.ref.current);de.includes(a.key)&&F.reverse(),lt(F)}),onBlur:v(e.onBlur,a=>{a.currentTarget.contains(a.target)||(window.clearTimeout(S.current),T.current="")}),onPointerMove:v(e.onPointerMove,X(a=>{const p=a.target,g=L.current!==a.clientX;if(a.currentTarget.contains(p)&&g){const _=a.clientX>L.current?"right":"left";Z.current=_,L.current=a.clientX}}))})))))))}),j="MenuItem",te="menu.itemSelect",at=t.forwardRef((e,n)=>{const{disabled:o=!1,onSelect:c,...s}=e,r=t.useRef(null),d=B(j,e.__scopeMenu),i=le(j,e.__scopeMenu),f=A(n,r),l=t.useRef(!1),m=()=>{const u=r.current;if(!o&&u){const $=new CustomEvent(te,{bubbles:!0,cancelable:!0});u.addEventListener(te,M=>c==null?void 0:c(M),{once:!0}),Oe(u,$),$.defaultPrevented?l.current=!1:d.onClose()}};return t.createElement(st,x({},s,{ref:f,disabled:o,onClick:v(e.onClick,m),onPointerDown:u=>{var $;($=e.onPointerDown)===null||$===void 0||$.call(e,u),l.current=!0},onPointerUp:v(e.onPointerUp,u=>{var $;l.current||($=u.currentTarget)===null||$===void 0||$.click()}),onKeyDown:v(e.onKeyDown,u=>{const $=i.searchRef.current!=="";o||$&&u.key===" "||Xe.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})}))}),st=t.forwardRef((e,n)=>{const{__scopeMenu:o,disabled:c=!1,textValue:s,...r}=e,d=le(j,o),i=ue(o),f=t.useRef(null),l=A(n,f),[m,u]=t.useState(!1),[$,M]=t.useState("");return t.useEffect(()=>{const b=f.current;if(b){var w;M(((w=b.textContent)!==null&&w!==void 0?w:"").trim())}},[r.children]),t.createElement(V.ItemSlot,{scope:o,disabled:c,textValue:s??$},t.createElement(je,x({asChild:!0},i,{focusable:!c}),t.createElement(ce.div,x({role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":c||void 0,"data-disabled":c?"":void 0},r,{ref:l,onPointerMove:v(e.onPointerMove,X(b=>{c?d.onItemLeave(b):(d.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus())})),onPointerLeave:v(e.onPointerLeave,X(b=>d.onItemLeave(b))),onFocus:v(e.onFocus,()=>u(!0)),onBlur:v(e.onBlur,()=>u(!1))}))))}),dt="MenuRadioGroup";C(dt,{value:void 0,onValueChange:()=>{}});const it="MenuItemIndicator";C(it,{checked:!1});const ut="MenuSub";C(ut);function ft(e){return e?"open":"closed"}function lt(e){const n=document.activeElement;for(const o of e)if(o===n||(o.focus(),document.activeElement!==n))return}function $t(e,n){return e.map((o,c)=>e[(n+c)%e.length])}function pt(e,n,o){const s=n.length>1&&Array.from(n).every(l=>l===n[0])?n[0]:n,r=o?e.indexOf(o):-1;let d=$t(e,Math.max(r,0));s.length===1&&(d=d.filter(l=>l!==o));const f=d.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return f!==o?f:void 0}function mt(e,n){const{x:o,y:c}=e;let s=!1;for(let r=0,d=n.length-1;r<n.length;d=r++){const i=n[r].x,f=n[r].y,l=n[d].x,m=n[d].y;f>c!=m>c&&o<(l-i)*(c-f)/(m-f)+i&&(s=!s)}return s}function bt(e,n){if(!n)return!1;const o={x:e.clientX,y:e.clientY};return mt(o,n)}function X(e){return n=>n.pointerType==="mouse"?e(n):void 0}const vt=qe,xt=Je,gt=tt,Et=ot,Mt=at,pe="DropdownMenu",[wt,Yt]=oe(pe,[ie]),O=ie(),[ht,me]=wt(pe),_t=e=>{const{__scopeDropdownMenu:n,children:o,dir:c,open:s,defaultOpen:r,onOpenChange:d,modal:i=!0}=e,f=O(n),l=t.useRef(null),[m=!1,u]=ye({prop:s,defaultProp:r,onChange:d});return t.createElement(ht,{scope:n,triggerId:ee(),triggerRef:l,contentId:ee(),open:m,onOpenChange:u,onOpenToggle:t.useCallback(()=>u($=>!$),[u]),modal:i},t.createElement(vt,x({},f,{open:m,onOpenChange:u,dir:c,modal:i}),o))},Ct="DropdownMenuTrigger",Rt=t.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,disabled:c=!1,...s}=e,r=me(Ct,o),d=O(o);return t.createElement(xt,x({asChild:!0},d),t.createElement(ce.button,x({type:"button",id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.open?r.contentId:void 0,"data-state":r.open?"open":"closed","data-disabled":c?"":void 0,disabled:c},s,{ref:De(n,r.triggerRef),onPointerDown:v(e.onPointerDown,i=>{!c&&i.button===0&&i.ctrlKey===!1&&(r.onOpenToggle(),r.open||i.preventDefault())}),onKeyDown:v(e.onKeyDown,i=>{c||(["Enter"," "].includes(i.key)&&r.onOpenToggle(),i.key==="ArrowDown"&&r.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})))}),Dt=e=>{const{__scopeDropdownMenu:n,...o}=e,c=O(n);return t.createElement(gt,x({},c,o))},Pt="DropdownMenuContent",yt=t.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...c}=e,s=me(Pt,o),r=O(o),d=t.useRef(!1);return t.createElement(Et,x({id:s.contentId,"aria-labelledby":s.triggerId},r,c,{ref:n,onCloseAutoFocus:v(e.onCloseAutoFocus,i=>{var f;d.current||(f=s.triggerRef.current)===null||f===void 0||f.focus(),d.current=!1,i.preventDefault()}),onInteractOutside:v(e.onInteractOutside,i=>{const f=i.detail.originalEvent,l=f.button===0&&f.ctrlKey===!0,m=f.button===2||l;(!s.modal||m)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Ot=t.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...c}=e,s=O(o);return t.createElement(Mt,x({},s,c,{ref:n}))}),It=_t,St=Rt,Tt=Dt,be=yt,ve=Ot,Bt=It,zt=St,Ft=t.forwardRef(({className:e,sideOffset:n=4,...o},c)=>G.jsx(Tt,{children:G.jsx(be,{ref:c,sideOffset:n,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));Ft.displayName=be.displayName;const At=t.forwardRef(({className:e,inset:n,...o},c)=>G.jsx(ve,{ref:c,className:ne("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors bg-secondary focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",e),...o}));At.displayName=ve.displayName;export{Bt as D,zt as a,Ft as b,At as c};
