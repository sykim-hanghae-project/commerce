import{S as Ot,G as Oe,T as qe,U as Rt,J as Dt,r as f,R as d,_ as Ct,f as Pt,a as St,g as Tt,j as T}from"./index-B_PGsR37.js";import{_ as F,$ as Pe,a as At}from"./utils-dWbl7AoH.js";import{$ as Mt,c as oe,a as _t,d as ye}from"./index-ILLqcFKf.js";import{h as Nt,a as It,b as jt,c as kt,d as Ft,$ as Ht}from"./Combination-dkJiHCsK.js";import{$ as Se}from"./index-cq4M16Aa.js";import{$ as ae}from"./index-Ow67C2FL.js";import{a as Qt}from"./index-ukAsKlpg.js";import{B as Lt}from"./button-h62HKO48.js";import{p as qt}from"./priceToString-jyYOkqXM.js";import{u as Bt}from"./utils-sVZp_qSd.js";import{Q as Ut,u as zt,a as Wt,e as Yt,b as Vt,c as Xt,s as Be,f as Ue,w as Gt,g as Jt}from"./suspense-JhA63HVw.js";class Zt extends Ot{constructor(n,t){super(),this.client=n,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(n=>{n.subscribe(t=>{this.onUpdate(n,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(n=>{n.destroy()})}setQueries(n,t){this.queries=n,Oe.batch(()=>{const r=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,t));const o=i.map(c=>c.observer),a=Object.fromEntries(o.map(c=>[c.options.queryHash,c])),l=o.map(c=>c.getCurrentResult()),m=o.some((c,p)=>c!==r[p]);r.length===o.length&&!m||(this.observers=o,this.observersMap=a,this.result=l,this.hasListeners()&&(qe(r,o).forEach(c=>{c.destroy()}),qe(o,r).forEach(c=>{c.subscribe(p=>{this.onUpdate(c,p)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(n=>n.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(n){return this.findMatchingObservers(n).map(t=>t.observer.getOptimisticResult(t.defaultedQueryOptions))}findMatchingObservers(n){const t=this.observers,r=new Map(t.map(s=>[s.options.queryHash,s])),i=n.map(s=>this.client.defaultQueryOptions(s)),o=i.flatMap(s=>{const E=r.get(s.queryHash);return E!=null?[{defaultedQueryOptions:s,observer:E}]:[]}),a=new Set(o.map(s=>s.defaultedQueryOptions.queryHash)),l=i.filter(s=>!a.has(s.queryHash)),m=new Set(o.map(s=>s.observer)),c=t.filter(s=>!m.has(s)),p=s=>{const E=this.client.defaultQueryOptions(s),O=this.observersMap[E.queryHash];return O??new Ut(this.client,E)},h=l.map((s,E)=>{if(s.keepPreviousData){const O=c[E];if(O!==void 0)return{defaultedQueryOptions:s,observer:O}}return{defaultedQueryOptions:s,observer:p(s)}}),u=(s,E)=>i.indexOf(s.defaultedQueryOptions)-i.indexOf(E.defaultedQueryOptions);return o.concat(h).sort(u)}onUpdate(n,t){const r=this.observers.indexOf(n);r!==-1&&(this.result=Rt(this.result,r,t),this.notify())}notify(){Oe.batch(()=>{this.listeners.forEach(({listener:n})=>{n(this.result)})})}}function Kt({queries:e,context:n}){const t=Dt({context:n}),r=zt(),i=Wt(),o=f.useMemo(()=>e.map(u=>{const s=t.defaultQueryOptions(u);return s._optimisticResults=r?"isRestoring":"optimistic",s}),[e,t,r]);o.forEach(u=>{Yt(u),Vt(u,i)}),Xt(i);const[a]=f.useState(()=>new Zt(t,o)),l=a.getOptimisticResult(o);Bt(f.useCallback(u=>r?()=>{}:a.subscribe(Oe.batchCalls(u)),[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),f.useEffect(()=>{a.setQueries(o,{listeners:!1})},[o,a]);const c=l.some((u,s)=>Be(o[s],u,r))?l.flatMap((u,s)=>{const E=o[s],O=a.getObservers()[s];if(E&&O){if(Be(E,u,r))return Ue(E,O,i);Gt(u,r)&&Ue(E,O,i)}return[]}):[];if(c.length>0)throw Promise.all(c);const p=a.getQueries(),h=l.find((u,s)=>{var E,O;return Jt({result:u,errorResetBoundary:i,useErrorBoundary:(E=(O=o[s])==null?void 0:O.useErrorBoundary)!=null?E:!1,query:p[s]})});if(h!=null&&h.error)throw h.error;return l}const Ge="Dialog",[Je,rr]=Mt(Ge),[en,H]=Je(Ge),tn=e=>{const{__scopeDialog:n,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=f.useRef(null),m=f.useRef(null),[c=!1,p]=_t({prop:r,defaultProp:i,onChange:o});return f.createElement(en,{scope:n,triggerRef:l,contentRef:m,contentId:ye(),titleId:ye(),descriptionId:ye(),open:c,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(h=>!h),[p]),modal:a},t)},nn="DialogTrigger",rn=f.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,i=H(nn,t),o=Pe(n,i.triggerRef);return f.createElement(ae.button,F({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Te(i.open)},r,{ref:o,onClick:oe(e.onClick,i.onOpenToggle)}))}),Ze="DialogPortal",[on,Ke]=Je(Ze,{forceMount:void 0}),an=e=>{const{__scopeDialog:n,forceMount:t,children:r,container:i}=e,o=H(Ze,n);return f.createElement(on,{scope:n,forceMount:t},f.Children.map(r,a=>f.createElement(Se,{present:t||o.open},f.createElement(Ht,{asChild:!0,container:i},a))))},Re="DialogOverlay",sn=f.forwardRef((e,n)=>{const t=Ke(Re,e.__scopeDialog),{forceMount:r=t.forceMount,...i}=e,o=H(Re,e.__scopeDialog);return o.modal?f.createElement(Se,{present:r||o.open},f.createElement(ln,F({},i,{ref:n}))):null}),ln=f.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,i=H(Re,t);return f.createElement(Ft,{as:At,allowPinchZoom:!0,shards:[i.contentRef]},f.createElement(ae.div,F({"data-state":Te(i.open)},r,{ref:n,style:{pointerEvents:"auto",...r.style}})))}),ie="DialogContent",cn=f.forwardRef((e,n)=>{const t=Ke(ie,e.__scopeDialog),{forceMount:r=t.forceMount,...i}=e,o=H(ie,e.__scopeDialog);return f.createElement(Se,{present:r||o.open},o.modal?f.createElement(un,F({},i,{ref:n})):f.createElement(dn,F({},i,{ref:n})))}),un=f.forwardRef((e,n)=>{const t=H(ie,e.__scopeDialog),r=f.useRef(null),i=Pe(n,t.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return Nt(o)},[]),f.createElement(et,F({},e,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=t.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,o=>o.preventDefault())}))}),dn=f.forwardRef((e,n)=>{const t=H(ie,e.__scopeDialog),r=f.useRef(!1),i=f.useRef(!1);return f.createElement(et,F({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,o),!o.defaultPrevented){var l;r.current||(l=t.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var a,l;(a=e.onInteractOutside)===null||a===void 0||a.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const m=o.target;((l=t.triggerRef.current)===null||l===void 0?void 0:l.contains(m))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),et=f.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,l=H(ie,t),m=f.useRef(null),c=Pe(n,m);return It(),f.createElement(f.Fragment,null,f.createElement(jt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},f.createElement(kt,F({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Te(l.open)},a,{ref:c,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),fn="DialogTitle",pn=f.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,i=H(fn,t);return f.createElement(ae.h2,F({id:i.titleId},r,{ref:n}))}),mn="DialogDescription",gn=f.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,i=H(mn,t);return f.createElement(ae.p,F({id:i.descriptionId},r,{ref:n}))}),hn="DialogClose",bn=f.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,i=H(hn,t);return f.createElement(ae.button,F({type:"button"},r,{ref:n,onClick:oe(e.onClick,()=>i.onOpenChange(!1))}))});function Te(e){return e?"open":"closed"}const vn=tn,wn=rn,$n=an,yn=sn,En=cn,xn=pn,On=gn,Rn=bn;var tt=d.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),Ae=()=>d.useContext(tt);function Dn(e,{insertAt:n}={}){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Dn(`[vaul-drawer]{touch-action:none;transition:transform .5s cubic-bezier(.32,.72,0,1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top],.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left],.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top],[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left],[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]:after{content:"";position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay="true"]):not([data-state="closed"]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible="false"]){opacity:1}@keyframes fake-animation{}@media (hover: hover) and (pointer: fine){[vaul-drawer]{user-select:none}}
`);var Cn=typeof window<"u"?f.useLayoutEffect:f.useEffect;function De(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}function Pn(){return Me(/^Mac/)}function Sn(){return Me(/^iPhone/)}function Tn(){return Me(/^iPad/)||Pn()&&navigator.maxTouchPoints>1}function nt(){return Sn()||Tn()}function Me(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}var Ee=typeof document<"u"&&window.visualViewport;function ze(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function rt(e){for(ze(e)&&(e=e.parentElement);e&&!ze(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}var An=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),pe=0,xe;function Mn(e={}){let{isDisabled:n}=e;Cn(()=>{if(!n)return pe++,pe===1&&(nt()?xe=Nn():xe=_n()),()=>{pe--,pe===0&&xe()}},[n])}function _n(){return De(ot(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function Nn(){let e,n=0,t=h=>{e=rt(h.target),!(e===document.documentElement&&e===document.body)&&(n=h.changedTouches[0].pageY)},r=h=>{if(!e||e===document.documentElement||e===document.body){h.preventDefault();return}let u=h.changedTouches[0].pageY,s=e.scrollTop,E=e.scrollHeight-e.clientHeight;E!==0&&((s<=0&&u>n||s>=E&&u<n)&&h.preventDefault(),n=u)},i=h=>{let u=h.target;Ce(u)&&u!==document.activeElement&&(h.preventDefault(),u.style.transform="translateY(-2000px)",u.focus(),requestAnimationFrame(()=>{u.style.transform=""}))},o=h=>{let u=h.target;Ce(u)&&(u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",Ee&&(Ee.height<window.innerHeight?requestAnimationFrame(()=>{We(u)}):Ee.addEventListener("resize",()=>We(u),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},l=window.pageXOffset,m=window.pageYOffset,c=De(ot(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=De(re(document,"touchstart",t,{passive:!1,capture:!0}),re(document,"touchmove",r,{passive:!1,capture:!0}),re(document,"touchend",i,{passive:!1,capture:!0}),re(document,"focus",o,!0),re(window,"scroll",a));return()=>{c(),p(),window.scrollTo(l,m)}}function ot(e,n,t){let r=e.style[n];return e.style[n]=t,()=>{e.style[n]=r}}function re(e,n,t,r){return e.addEventListener(n,t,r),()=>{e.removeEventListener(n,t,r)}}function We(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=rt(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,a=t.getBoundingClientRect().bottom;o>a&&(t.scrollTop+=i-r)}e=t.parentElement}}function Ce(e){return e instanceof HTMLInputElement&&!An.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function In(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function jn(...e){return n=>e.forEach(t=>In(t,n))}function it(...e){return f.useCallback(jn(...e),e)}var q=null;function kn({isOpen:e,modal:n,nested:t,hasBeenOpened:r,preventScrollRestoration:i}){let[o,a]=d.useState(typeof window<"u"?window.location.href:""),l=d.useRef(0),m=d.useCallback(()=>{if(q===null&&e){q={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};let{scrollX:p,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-l.current}px`,document.body.style.left=`${-p}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{let u=h-window.innerHeight;u&&l.current>=h&&(document.body.style.top=`${-(l.current+u)}px`)}),300)}},[e]),c=d.useCallback(()=>{if(q!==null){let p=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);document.body.style.position=q.position,document.body.style.top=q.top,document.body.style.left=q.left,document.body.style.height=q.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(i&&o!==window.location.href){a(window.location.href);return}window.scrollTo(h,p)}),q=null}},[o]);return d.useEffect(()=>{function p(){l.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),d.useEffect(()=>{t||!r||(e?(m(),n||setTimeout(()=>{c()},500)):c())},[e,r,o,n,t,m,c]),{restorePositionSetting:c}}var at=new WeakMap;function P(e,n,t=!1){if(!e||!(e instanceof HTMLElement)||!n)return;let r={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}r[i]=e.style[i],e.style[i]=o}),!t&&at.set(e,r)}function me(e,n){if(!e||!(e instanceof HTMLElement))return;let t=at.get(e);t&&(n?e.style[n]=t[n]:Object.entries(t).forEach(([r,i])=>{e.style[r]=i}))}var M=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ge(e,n){let t=window.getComputedStyle(e),r=t.transform||t.webkitTransform||t.mozTransform,i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[M(n)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[M(n)?5:4]):null)}function Fn(e){return 8*(Math.log(e+1)-2)}var D={DURATION:.5,EASE:[.32,.72,0,1]},st=.4;function lt(e){let n=d.useRef(e);return d.useEffect(()=>{n.current=e}),d.useMemo(()=>(...t)=>{var r;return(r=n.current)==null?void 0:r.call(n,...t)},[])}function Hn({defaultProp:e,onChange:n}){let t=d.useState(e),[r]=t,i=d.useRef(r),o=lt(n);return d.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}function Qn({prop:e,defaultProp:n,onChange:t=()=>{}}){let[r,i]=Hn({defaultProp:n,onChange:t}),o=e!==void 0,a=o?e:r,l=lt(t),m=d.useCallback(c=>{if(o){let p=typeof c=="function"?c(e):c;p!==e&&l(p)}else i(c)},[o,e,i,l]);return[a,m]}function Ln({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:a,direction:l="bottom"}){let[m,c]=Qn({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),p=d.useMemo(()=>m===(t==null?void 0:t[t.length-1])||null,[t,m]),h=t&&t.length>0&&(o||o===0)&&!Number.isNaN(o)&&t[o]===m||!t,u=d.useMemo(()=>t==null?void 0:t.findIndex(C=>C===m),[t,m]),s=d.useMemo(()=>{var C;return(C=t==null?void 0:t.map($=>{let y=typeof window<"u",_=typeof $=="string",j=0;if(_&&(j=parseInt($,10)),M(l)){let L=_?j:y?$*window.innerHeight:0;return y?l==="bottom"?window.innerHeight-L:-window.innerHeight+L:L}let I=_?j:y?$*window.innerWidth:0;return y?l==="right"?window.innerWidth-I:-window.innerWidth+I:I}))!=null?C:[]},[t]),E=d.useMemo(()=>u!==null?s==null?void 0:s[u]:null,[s,u]),O=d.useCallback(C=>{var $;let y=($=s==null?void 0:s.findIndex(_=>_===C))!=null?$:null;a(y),P(r.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:M(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`}),s&&y!==s.length-1&&y!==o?P(i.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"0"}):P(i.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"1"}),c(y!==null?t==null?void 0:t[y]:null)},[r.current,t,s,o,i,c]);d.useEffect(()=>{var C;if(e){let $=(C=t==null?void 0:t.findIndex(y=>y===e))!=null?C:-1;s&&$!==-1&&typeof s[$]=="number"&&O(s[$])}},[e,t,s,O]);function Y({draggedDistance:C,closeDrawer:$,velocity:y,dismissible:_}){if(o===void 0)return;let j=l==="bottom"||l==="right"?(E??0)-C:(E??0)+C,I=u===o-1,L=u===0,Z=C>0;if(I&&P(i.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),y>2&&!Z){_?$():O(s[0]);return}if(y>2&&Z&&s&&t){O(s[t.length-1]);return}let he=s==null?void 0:s.reduce((k,ee)=>typeof k!="number"||typeof ee!="number"?k:Math.abs(ee-j)<Math.abs(k-j)?ee:k),K=M(l)?window.innerHeight:window.innerWidth;if(y>st&&Math.abs(C)<K*.4){let k=Z?1:-1;if(k>0&&p){O(s[t.length-1]);return}if(L&&k<0&&_&&$(),u===null)return;O(s[u+k]);return}O(he)}function w({draggedDistance:C}){if(E===null)return;let $=l==="bottom"||l==="right"?E-C:E+C;(l==="bottom"||l==="right")&&$<s[s.length-1]||(l==="top"||l==="left")&&$>s[s.length-1]||P(r.current,{transform:M(l)?`translate3d(0, ${$}px, 0)`:`translate3d(${$}px, 0, 0)`})}function J(C,$){if(!t||typeof u!="number"||!s||o===void 0)return null;let y=u===o-1;if(u>=o&&$)return 0;if(y&&!$)return 1;if(!h&&!y)return null;let _=y?u+1:u-1,j=y?s[_]-s[_-1]:s[_+1]-s[_],I=C/Math.abs(j);return y?1-I:I}return{isLastSnapPoint:p,activeSnapPoint:m,shouldFade:h,getPercentageDragged:J,setActiveSnapPoint:c,activeSnapPointIndex:u,onRelease:Y,onDrag:w,snapPointsOffset:s}}var qn=.25,Bn=100,Ye=8,z=16,Ve=26,Xe="vaul-dragging";function ct({open:e,onOpenChange:n,children:t,shouldScaleBackground:r,onDrag:i,onRelease:o,snapPoints:a,nested:l=!1,closeThreshold:m=qn,scrollLockTimeout:c=Bn,dismissible:p=!0,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:u,setActiveSnapPoint:s,fixed:E,modal:O=!0,onClose:Y,direction:w="bottom",preventScrollRestoration:J=!0}){var C;let[$=!1,y]=d.useState(!1),[_,j]=d.useState(!1),[I,L]=d.useState(!1),[Z,he]=d.useState(!1),[K,k]=d.useState(!1),[ee,_e]=d.useState(!1),B=d.useRef(null),se=d.useRef(null),be=d.useRef(null),Ne=d.useRef(null),le=d.useRef(null),ce=d.useRef(!1),ve=d.useRef(null),we=d.useRef(0),V=d.useRef(!1),Ie=d.useRef(0),b=d.useRef(null),je=d.useRef(((C=b.current)==null?void 0:C.getBoundingClientRect().height)||0),$e=d.useRef(0),ft=d.useCallback(g=>{a&&g===ne.length-1&&(se.current=new Date)},[]),{activeSnapPoint:pt,activeSnapPointIndex:te,setActiveSnapPoint:ke,onRelease:mt,snapPointsOffset:ne,onDrag:gt,shouldFade:Fe,getPercentageDragged:ht}=Ln({snapPoints:a,activeSnapPointProp:u,setActiveSnapPointProp:s,drawerRef:b,fadeFromIndex:h,overlayRef:B,onSnapPointChange:ft,direction:w});Mn({isDisabled:!$||K||!O||ee||!_});let{restorePositionSetting:bt}=kn({isOpen:$,modal:O,nested:l,hasBeenOpened:_,preventScrollRestoration:J});function X(){return(window.innerWidth-Ve)/window.innerWidth}function vt(g){var v;!p&&!a||b.current&&!b.current.contains(g.target)||(je.current=((v=b.current)==null?void 0:v.getBoundingClientRect().height)||0,k(!0),be.current=new Date,nt()&&window.addEventListener("touchend",()=>ce.current=!1,{once:!0}),g.target.setPointerCapture(g.pointerId),we.current=M(w)?g.screenY:g.screenX)}function He(g,v){var R;let x=g,S=(R=window.getSelection())==null?void 0:R.toString(),A=b.current?ge(b.current,w):null,N=new Date;if(x.hasAttribute("data-vaul-no-drag"))return!1;if(w==="right"||w==="left")return!0;if(se.current&&N.getTime()-se.current.getTime()<500)return!1;if(A!==null&&(w==="bottom"?A>0:A<0))return!0;if(S&&S.length>0)return!1;if(le.current&&N.getTime()-le.current.getTime()<c&&A===0||v)return le.current=N,!1;for(;x;){if(x.scrollHeight>x.clientHeight){if(x.scrollTop!==0)return le.current=new Date,!1;if(x.getAttribute("role")==="dialog")return!0}x=x.parentNode}return!0}function wt(g){if(b.current&&K){let v=w==="bottom"||w==="right"?1:-1,R=(we.current-(M(w)?g.screenY:g.screenX))*v,x=R>0;if(a&&te===0&&!p||!ce.current&&!He(g.target,x))return;if(b.current.classList.add(Xe),ce.current=!0,P(b.current,{transition:"none"}),P(B.current,{transition:"none"}),a&&gt({draggedDistance:R}),x&&!a){let Q=Fn(R),fe=Math.min(Q*-1,0)*v;P(b.current,{transform:M(w)?`translate3d(0, ${fe}px, 0)`:`translate3d(${fe}px, 0, 0)`});return}let S=Math.abs(R),A=document.querySelector("[vaul-drawer-wrapper]"),N=S/je.current,de=ht(S,x);de!==null&&(N=de);let U=1-N;if((Fe||h&&te===h-1)&&(i==null||i(g,N),P(B.current,{opacity:`${U}`,transition:"none"},!0)),A&&B.current&&r){let Q=Math.min(X()+N*(1-X()),1),fe=8-N*8,Le=Math.max(0,14-N*14);P(A,{borderRadius:`${fe}px`,transform:M(w)?`scale(${Q}) translate3d(0, ${Le}px, 0)`:`scale(${Q}) translate3d(${Le}px, 0, 0)`,transition:"none"},!0)}if(!a){let Q=S*v;P(b.current,{transform:M(w)?`translate3d(0, ${Q}px, 0)`:`translate3d(${Q}px, 0, 0)`})}}}d.useEffect(()=>()=>{ue(!1),bt()},[]),d.useEffect(()=>{var g;function v(){var R;if(!b.current)return;let x=document.activeElement;if(Ce(x)||V.current){let S=((R=window.visualViewport)==null?void 0:R.height)||0,A=window.innerHeight-S,N=b.current.getBoundingClientRect().height||0;$e.current||($e.current=N);let de=b.current.getBoundingClientRect().top;if(Math.abs(Ie.current-A)>60&&(V.current=!V.current),a&&a.length>0&&ne&&te){let U=ne[te]||0;A+=U}if(Ie.current=A,N>S||V.current){let U=b.current.getBoundingClientRect().height,Q=U;U>S&&(Q=S-Ve),E?b.current.style.height=`${U-Math.max(A,0)}px`:b.current.style.height=`${Math.max(Q,S-de)}px`}else b.current.style.height=`${$e.current}px`;a&&a.length>0&&!V.current?b.current.style.bottom="0px":b.current.style.bottom=`${Math.max(A,0)}px`}}return(g=window.visualViewport)==null||g.addEventListener("resize",v),()=>{var R;return(R=window.visualViewport)==null?void 0:R.removeEventListener("resize",v)}},[te,a,ne]);function G(){b.current&&(Y==null||Y(),P(b.current,{transform:M(w)?`translate3d(0, ${w==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${w==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),P(B.current,{opacity:"0",transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),ue(!1),setTimeout(()=>{L(!1),y(!1)},300),setTimeout(()=>{a&&ke(a[0])},D.DURATION*1e3))}d.useEffect(()=>{if(!$&&r){let g=setTimeout(()=>{me(document.body)},200);return()=>clearTimeout(g)}},[$,r]),d.useEffect(()=>{e?(y(!0),j(!0)):G()},[e]),d.useEffect(()=>{Z&&(n==null||n($))},[$]),d.useEffect(()=>{he(!0)},[]);function Qe(){if(!b.current)return;let g=document.querySelector("[vaul-drawer-wrapper]"),v=ge(b.current,w);P(b.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),P(B.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"1"}),r&&v&&v>0&&$&&P(g,{borderRadius:`${Ye}px`,overflow:"hidden",...M(w)?{transform:`scale(${X()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${X()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${D.DURATION}s`,transitionTimingFunction:`cubic-bezier(${D.EASE.join(",")})`},!0)}function $t(g){var v;if(!K||!b.current)return;b.current.classList.remove(Xe),ce.current=!1,k(!1),Ne.current=new Date;let R=ge(b.current,w);if(!He(g.target,!1)||!R||Number.isNaN(R)||be.current===null)return;let x=Ne.current.getTime()-be.current.getTime(),S=we.current-(M(w)?g.screenY:g.screenX),A=Math.abs(S)/x;if(A>.05&&(_e(!0),setTimeout(()=>{_e(!1)},200)),a){mt({draggedDistance:S*(w==="bottom"||w==="right"?1:-1),closeDrawer:G,velocity:A,dismissible:p}),o==null||o(g,!0);return}if(w==="bottom"||w==="right"?S>0:S<0){Qe(),o==null||o(g,!0);return}if(A>st){G(),o==null||o(g,!1);return}let N=Math.min((v=b.current.getBoundingClientRect().height)!=null?v:0,window.innerHeight);if(R>=N*m){G(),o==null||o(g,!1);return}o==null||o(g,!0),Qe()}d.useEffect(()=>{$&&(P(document.documentElement,{scrollBehavior:"auto"}),se.current=new Date,ue(!0))},[$]),d.useEffect(()=>{var g;if(b.current&&I){let v=(g=b==null?void 0:b.current)==null?void 0:g.querySelectorAll("*");v==null||v.forEach(R=>{let x=R;(x.scrollHeight>x.clientHeight||x.scrollWidth>x.clientWidth)&&x.classList.add("vaul-scrollable")})}},[I]);function ue(g){let v=document.querySelector("[vaul-drawer-wrapper]");!v||!r||(g?(P(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),P(document.body,{background:"black"},!0),P(v,{borderRadius:`${Ye}px`,overflow:"hidden",...M(w)?{transform:`scale(${X()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${X()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${D.DURATION}s`,transitionTimingFunction:`cubic-bezier(${D.EASE.join(",")})`})):(me(v,"overflow"),me(v,"transform"),me(v,"borderRadius"),P(v,{transitionProperty:"transform, border-radius",transitionDuration:`${D.DURATION}s`,transitionTimingFunction:`cubic-bezier(${D.EASE.join(",")})`})))}function yt(g){let v=g?(window.innerWidth-z)/window.innerWidth:1,R=g?-z:0;ve.current&&window.clearTimeout(ve.current),P(b.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:`scale(${v}) translate3d(0, ${R}px, 0)`}),!g&&b.current&&(ve.current=setTimeout(()=>{let x=ge(b.current,w);P(b.current,{transition:"none",transform:M(w)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})},500))}function Et(g,v){if(v<0)return;let R=M(w)?window.innerHeight:window.innerWidth,x=(R-z)/R,S=x+v*(1-x),A=-z+v*z;P(b.current,{transform:M(w)?`scale(${S}) translate3d(0, ${A}px, 0)`:`scale(${S}) translate3d(${A}px, 0, 0)`,transition:"none"})}function xt(g,v){let R=M(w)?window.innerHeight:window.innerWidth,x=v?(R-z)/R:1,S=v?-z:0;v&&P(b.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:M(w)?`scale(${x}) translate3d(0, ${S}px, 0)`:`scale(${x}) translate3d(${S}px, 0, 0)`})}return d.createElement(vn,{modal:O,onOpenChange:g=>{if(e!==void 0){n==null||n(g);return}g?(j(!0),y(g)):G()},open:$},d.createElement(tt.Provider,{value:{visible:I,activeSnapPoint:pt,snapPoints:a,setActiveSnapPoint:ke,drawerRef:b,overlayRef:B,scaleBackground:ue,onOpenChange:n,onPress:vt,setVisible:L,onRelease:$t,onDrag:wt,dismissible:p,isOpen:$,shouldFade:Fe,closeDrawer:G,onNestedDrag:Et,onNestedOpenChange:yt,onNestedRelease:xt,keyboardIsOpen:V,openProp:e,modal:O,snapPointsOffset:ne,direction:w}},t))}var ut=d.forwardRef(function({children:e,...n},t){let{overlayRef:r,snapPoints:i,onRelease:o,shouldFade:a,isOpen:l,visible:m}=Ae(),c=it(t,r),p=i&&i.length>0;return d.createElement(yn,{onMouseUp:o,ref:c,"vaul-drawer-visible":m?"true":"false","vaul-overlay":"","vaul-snap-points":l&&p?"true":"false","vaul-snap-points-overlay":l&&a?"true":"false",...n})});ut.displayName="Drawer.Overlay";var dt=d.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:n,onAnimationEnd:t,style:r,...i},o){let{drawerRef:a,onPress:l,onRelease:m,onDrag:c,dismissible:p,keyboardIsOpen:h,snapPointsOffset:u,visible:s,closeDrawer:E,modal:O,openProp:Y,onOpenChange:w,setVisible:J,direction:C}=Ae(),$=it(o,a);return d.useEffect(()=>{J(!0)},[]),d.createElement(En,{onOpenAutoFocus:y=>{var _;e?e(y):(y.preventDefault(),(_=a.current)==null||_.focus())},onPointerDown:l,onPointerDownOutside:y=>{if(n==null||n(y),!O||y.defaultPrevented){y.preventDefault();return}h.current&&(h.current=!1),y.preventDefault(),w==null||w(!1),!(!p||Y!==void 0)&&E()},onPointerMove:c,onPointerUp:m,ref:$,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...r}:r,...i,"vaul-drawer":"","vaul-drawer-direction":C,"vaul-drawer-visible":s?"true":"false"})});dt.displayName="Drawer.Content";function Un({onDrag:e,onOpenChange:n,...t}){let{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=Ae();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return d.createElement(ct,{nested:!0,onClose:()=>{i(!1)},onDrag:(a,l)=>{r(a,l),e==null||e(a,l)},onOpenChange:a=>{a&&i(a),n==null||n(a)},onRelease:o,...t})}var W={Root:ct,NestedRoot:Un,Content:dt,Overlay:ut,Trigger:wn,Portal:$n,Close:Rn,Title:xn,Description:On};const zn=f.lazy(()=>Ct(()=>import("./CartProductContainer-IN8Wk0tY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),or=({children:e})=>{const n=Pt(),t=St(),r=Kt({queries:n.items.map(m=>({queryKey:["product",m.id],queryFn:()=>Tt(m.id),staleTime:3e4}))}),i=f.useMemo(()=>{let m=[];for(let c=0;c<n.items.length;c+=1){const{data:p,isLoading:h}=r[c];if(h){m=[];break}p&&p.productQuantity>0&&m.push({product:p,quantity:n.items[c].quantity})}return m},[n,r]),o=f.useMemo(()=>{let m=0;for(let c=0;c<n.items.length;c+=1){const{data:p,isLoading:h}=r[c];if(h)break;p&&p.productQuantity>0&&(m+=p.productPrice*n.items[c].quantity)}return m},[n,r]),a=f.useMemo(()=>!!(n.items.length===0||r.every(({data:m})=>m===null)),[n,r]),l=()=>{t("/order",{state:{products:i}})};return T.jsxs(W.Root,{direction:"right",children:[T.jsx(W.Trigger,{asChild:!0,children:e}),T.jsxs(W.Portal,{children:[T.jsx(W.Overlay,{className:"fixed inset-0 bg-black/40"}),T.jsxs(W.Content,{className:"h-full w-2/4 fixed right-0 bottom-0 px-16 py-8 bg-white",children:[T.jsx("div",{className:"flex justify-end",children:T.jsx(W.Close,{children:T.jsx("button",{className:"text-xl",children:T.jsx(Qt,{})})})}),T.jsx(W.Title,{className:"h1 mb-8",children:"장바구니"}),a?T.jsx("div",{children:T.jsx("p",{children:"장바구니가 비었습니다."})}):T.jsxs("div",{children:[T.jsx("div",{className:"py-4 border-y border-y-black",children:T.jsx("ul",{children:r.map(({data:m,isLoading:c,isError:p,error:h},u)=>T.jsx("li",{className:"CartItem",children:T.jsx(zn,{pid:n.items[u].id,product:m,isLoading:c,isError:p,error:h,quantity:n.items[u].quantity})},`cart_item_${u}`))})}),T.jsxs("div",{className:"flex my-8 justify-end",children:[T.jsx("p",{className:"mr-4",children:"합계"}),T.jsx("p",{className:"font-semibold min-w-max",children:qt(o)})]}),T.jsx(Lt,{className:"w-full",disabled:i.length===0,onClick:l,children:"주문하기"})]})]})]})]})};export{or as C};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/CartProductContainer-IN8Wk0tY.js","assets/index-B_PGsR37.js","assets/index-2jMTQVvy.css","assets/index-GyvNBXN3.js","assets/iconBase-pe5NBUnU.js","assets/getImageUrl-mfxCVYYg.js","assets/priceToString-jyYOkqXM.js","assets/useQuery-LGw8-puI.js","assets/utils-sVZp_qSd.js","assets/suspense-JhA63HVw.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
